import{r as n,j as e,V as ka,b as Sa,c as Ca,C as Aa,X as Re,T as Ia,D as Ra,P as Wr,R as U,d as Gr,e as Ta,f as Qr,u as aa,g as Zr,h as mt,N as Kr,O as La,i as Ma,S as Xr,k as lt,B as Vt,U as zs,l as Ea,M as Pa,L as is,m as Jr,n as Ye,o as za,p as Bt,q as ms,s as Da,t as $a,v as Fa,w as Oa,Z as Gt,x as _a,y as Va,z as en,E as tn,F as qa,G as Ys,H as Ht,I as Ke,J as sn,K as Ua,Q as at,W as rt,Y as Yt,_ as Ds,$ as St,a0 as Ba,a1 as an,a2 as rn,a3 as Ha,a4 as Ya,a5 as Qt,a6 as Ws,a7 as nt,a8 as Wa,a9 as Ga,aa as nn,ab as Qa,ac as Za,ad as ln,ae as on,af as Ka,ag as Xa,ah as cn,ai as Ja,aj as er,ak as dn,al as tr,am as un,an as sr,ao as mn,ap as ar,aq as rr,ar as xn,as as pn,at as nr,au as hn,av as gn,aw as lr,ax as bn,ay as fn,az as vn,aA as or,aB as ir,aC as cr,aD as yn,aE as qt,aF as wn,aG as cs,aH as ys,aI as dr,aJ as Gs,aK as jn,aL as Nn,aM as kn,aN as Sn,aO as Qs,aP as Cn,aQ as An,aR as In,aS as ws,aT as Rn,aU as Tn,aV as ur,aW as mr,aX as xr,aY as pr,aZ as Ln,a_ as ra,a$ as Mn,b0 as En,b1 as Pn,b2 as zn,b3 as hr,b4 as Dn,b5 as $n,b6 as Fn,b7 as gr,b8 as On,b9 as na,ba as la,bb as _n,bc as br,bd as Vn,be as qn,bf as Un,bg as Bn,bh as Hn,bi as Yn,bj as Wn,bk as je,bl as Gn}from"./react-vendor-VUyFXHvs.js";import{c as fr,R as Qn,L as Zn,C as Kn,X as Xn,Y as Jn,T as el,a as tl,b as oa}from"./charts-vendor-DW2dQGSs.js";import{a as sl,b as vr,c as $s}from"./utils-vendor-5kUmOJuB.js";import{A as Fs,m as W,g as ae,S as Oe}from"./motion-vendor-CZp9lHni.js";import"./radix-vendor-BA32w1ww.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}})();const al=1,rl=1e6;let js=0;function nl(){return js=(js+1)%Number.MAX_SAFE_INTEGER,js.toString()}const Ns=new Map,ia=t=>{if(Ns.has(t))return;const s=setTimeout(()=>{Ns.delete(t),Ut({type:"REMOVE_TOAST",toastId:t})},rl);Ns.set(t,s)},ll=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,al)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?ia(a):t.toasts.forEach(r=>{ia(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},ns=[];let ls={toasts:[]};function Ut(t){ls=ll(ls,t),ns.forEach(s=>{s(ls)})}function ol({...t}){const s=nl(),a=o=>Ut({type:"UPDATE_TOAST",toast:{...o,id:s}}),r=()=>Ut({type:"DISMISS_TOAST",toastId:s});return Ut({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:o=>{o||r()}}}),{id:s,dismiss:r,update:a}}function Ct(){const[t,s]=n.useState(ls);return n.useEffect(()=>(ns.push(s),()=>{const a=ns.indexOf(s);a>-1&&ns.splice(a,1)}),[t]),{...t,toast:ol,dismiss:a=>Ut({type:"DISMISS_TOAST",toastId:a})}}const ca=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,da=fr,Zs=(t,s)=>a=>{var r;if((s==null?void 0:s.variants)==null)return da(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:o,defaultVariants:i}=s,c=Object.keys(o).map(x=>{const m=a==null?void 0:a[x],f=i==null?void 0:i[x];if(m===null)return null;const d=ca(m)||ca(f);return o[x][d]}),l=a&&Object.entries(a).reduce((x,m)=>{let[f,d]=m;return d===void 0||(x[f]=d),x},{}),u=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((x,m)=>{let{class:f,className:d,...j}=m;return Object.entries(j).every(h=>{let[b,y]=h;return Array.isArray(y)?y.includes({...i,...l}[b]):{...i,...l}[b]===y})?[...x,f,d]:x},[]);return da(t,c,u,a==null?void 0:a.class,a==null?void 0:a.className)},Ks="-",il=t=>{const s=dl(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const l=c.split(Ks);return l[0]===""&&l.length!==1&&l.shift(),yr(l,s)||cl(c)},getConflictingClassGroupIds:(c,l)=>{const u=a[c]||[];return l&&r[c]?[...u,...r[c]]:u}}},yr=(t,s)=>{var c;if(t.length===0)return s.classGroupId;const a=t[0],r=s.nextPart.get(a),o=r?yr(t.slice(1),r):void 0;if(o)return o;if(s.validators.length===0)return;const i=t.join(Ks);return(c=s.validators.find(({validator:l})=>l(i)))==null?void 0:c.classGroupId},ua=/^\[(.+)\]$/,cl=t=>{if(ua.test(t)){const s=ua.exec(t)[1],a=s==null?void 0:s.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},dl=t=>{const{theme:s,prefix:a}=t,r={nextPart:new Map,validators:[]};return ml(Object.entries(t.classGroups),a).forEach(([i,c])=>{Os(c,r,i,s)}),r},Os=(t,s,a,r)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?s:ma(s,o);i.classGroupId=a;return}if(typeof o=="function"){if(ul(o)){Os(o(r),s,a,r);return}s.validators.push({validator:o,classGroupId:a});return}Object.entries(o).forEach(([i,c])=>{Os(c,ma(s,i),a,r)})})},ma=(t,s)=>{let a=t;return s.split(Ks).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},ul=t=>t.isThemeGetter,ml=(t,s)=>s?t.map(([a,r])=>{const o=r.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([c,l])=>[s+c,l])):i);return[a,o]}):t,xl=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,r=new Map;const o=(i,c)=>{a.set(i,c),s++,s>t&&(s=0,r=a,a=new Map)};return{get(i){let c=a.get(i);if(c!==void 0)return c;if((c=r.get(i))!==void 0)return o(i,c),c},set(i,c){a.has(i)?a.set(i,c):o(i,c)}}},wr="!",pl=t=>{const{separator:s,experimentalParseClassName:a}=t,r=s.length===1,o=s[0],i=s.length,c=l=>{const u=[];let x=0,m=0,f;for(let y=0;y<l.length;y++){let w=l[y];if(x===0){if(w===o&&(r||l.slice(y,y+i)===s)){u.push(l.slice(m,y)),m=y+i;continue}if(w==="/"){f=y;continue}}w==="["?x++:w==="]"&&x--}const d=u.length===0?l:l.substring(m),j=d.startsWith(wr),h=j?d.substring(1):d,b=f&&f>m?f-m:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:h,maybePostfixModifierPosition:b}};return a?l=>a({className:l,parseClassName:c}):c},hl=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(r=>{r[0]==="["?(s.push(...a.sort(),r),a=[]):a.push(r)}),s.push(...a.sort()),s},gl=t=>({cache:xl(t.cacheSize),parseClassName:pl(t),...il(t)}),bl=/\s+/,fl=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:o}=s,i=[],c=t.trim().split(bl);let l="";for(let u=c.length-1;u>=0;u-=1){const x=c[u],{modifiers:m,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:j}=a(x);let h=!!j,b=r(h?d.substring(0,j):d);if(!b){if(!h){l=x+(l.length>0?" "+l:l);continue}if(b=r(d),!b){l=x+(l.length>0?" "+l:l);continue}h=!1}const y=hl(m).join(":"),w=f?y+wr:y,A=w+b;if(i.includes(A))continue;i.push(A);const N=o(b,h);for(let v=0;v<N.length;++v){const S=N[v];i.push(w+S)}l=x+(l.length>0?" "+l:l)}return l};function vl(){let t=0,s,a,r="";for(;t<arguments.length;)(s=arguments[t++])&&(a=jr(s))&&(r&&(r+=" "),r+=a);return r}const jr=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=jr(t[r]))&&(a&&(a+=" "),a+=s);return a};function yl(t,...s){let a,r,o,i=c;function c(u){const x=s.reduce((m,f)=>f(m),t());return a=gl(x),r=a.cache.get,o=a.cache.set,i=l,l(u)}function l(u){const x=r(u);if(x)return x;const m=fl(u,a);return o(u,m),m}return function(){return i(vl.apply(null,arguments))}}const he=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},Nr=/^\[(?:([a-z-]+):)?(.+)\]$/i,wl=/^\d+\/\d+$/,jl=new Set(["px","full","screen"]),Nl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Al=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ge=t=>kt(t)||jl.has(t)||wl.test(t),Xe=t=>At(t,"length",zl),kt=t=>!!t&&!Number.isNaN(Number(t)),ks=t=>At(t,"number",kt),Tt=t=>!!t&&Number.isInteger(Number(t)),Il=t=>t.endsWith("%")&&kt(t.slice(0,-1)),se=t=>Nr.test(t),Je=t=>Nl.test(t),Rl=new Set(["length","size","percentage"]),Tl=t=>At(t,Rl,kr),Ll=t=>At(t,"position",kr),Ml=new Set(["image","url"]),El=t=>At(t,Ml,$l),Pl=t=>At(t,"",Dl),Lt=()=>!0,At=(t,s,a)=>{const r=Nr.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):a(r[2]):!1},zl=t=>kl.test(t)&&!Sl.test(t),kr=()=>!1,Dl=t=>Cl.test(t),$l=t=>Al.test(t),Fl=()=>{const t=he("colors"),s=he("spacing"),a=he("blur"),r=he("brightness"),o=he("borderColor"),i=he("borderRadius"),c=he("borderSpacing"),l=he("borderWidth"),u=he("contrast"),x=he("grayscale"),m=he("hueRotate"),f=he("invert"),d=he("gap"),j=he("gradientColorStops"),h=he("gradientColorStopPositions"),b=he("inset"),y=he("margin"),w=he("opacity"),A=he("padding"),N=he("saturate"),v=he("scale"),S=he("sepia"),P=he("skew"),B=he("space"),G=he("translate"),g=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",se,s],$=()=>[se,s],C=()=>["",Ge,Xe],Y=()=>["auto",kt,se],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],p=()=>["","0",se],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[kt,se];return{cacheSize:500,separator:":",theme:{colors:[Lt],spacing:[Ge,Xe],blur:["none","",Je,se],brightness:z(),borderColor:[t],borderRadius:["none","","full",Je,se],borderSpacing:$(),borderWidth:C(),contrast:z(),grayscale:p(),hueRotate:z(),invert:p(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[Il,Xe],inset:Q(),margin:Q(),opacity:z(),padding:$(),saturate:z(),scale:z(),sepia:p(),skew:z(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[Je]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),se]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:g()}],"overscroll-x":[{"overscroll-x":g()}],"overscroll-y":[{"overscroll-y":g()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tt,se]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:p()}],shrink:[{shrink:p()}],order:[{order:["first","last","none",Tt,se]}],"grid-cols":[{"grid-cols":[Lt]}],"col-start-end":[{col:["auto",{span:["full",Tt,se]},se]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Lt]}],"row-start-end":[{row:["auto",{span:[Tt,se]},se]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,s]}],"min-w":[{"min-w":[se,s,"min","max","fit"]}],"max-w":[{"max-w":[se,s,"none","full","min","max","fit","prose",{screen:[Je]},Je]}],h:[{h:[se,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Je,Xe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ks]}],"font-family":[{font:[Lt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",kt,ks]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ge,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ge,Xe]}],"underline-offset":[{"underline-offset":["auto",Ge,se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Ll]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},El]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:D()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Ge,se]}],"outline-w":[{outline:[Ge,Xe]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ge,Xe]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Je,Pl]}],"shadow-color":[{shadow:[Lt]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Je,se]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Tt,se]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ge,Xe,ks]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ol=yl(Fl);function le(...t){return Ol(fr(t))}function Ot(t,s,a){let r="";if(a){const o=new Date;o.setTime(o.getTime()+a*24*60*60*1e3),r="; expires="+o.toUTCString()}document.cookie=t+"="+(s||"")+r+"; path=/; Secure; SameSite=Lax"}function ut(t){const s=t+"=",a=document.cookie.split(";");for(let r=0;r<a.length;r++){let o=a[r];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(s)===0)return o.substring(s.length,o.length)}return null}function $e(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}const _l=Wr,Sr=n.forwardRef(({className:t,...s},a)=>e.jsx(ka,{ref:a,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Sr.displayName=ka.displayName;const Vl=Zs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cr=n.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(Sa,{ref:r,className:le(Vl({variant:s}),t),...a}));Cr.displayName=Sa.displayName;const ql=n.forwardRef(({className:t,...s},a)=>e.jsx(Ca,{ref:a,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));ql.displayName=Ca.displayName;const Ar=n.forwardRef(({className:t,...s},a)=>e.jsx(Aa,{ref:a,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Re,{className:"h-4 w-4"})}));Ar.displayName=Aa.displayName;const Ir=n.forwardRef(({className:t,...s},a)=>e.jsx(Ia,{ref:a,className:le("text-sm font-semibold",t),...s}));Ir.displayName=Ia.displayName;const Rr=n.forwardRef(({className:t,...s},a)=>e.jsx(Ra,{ref:a,className:le("text-sm opacity-90",t),...s}));Rr.displayName=Ra.displayName;function Ul(){const{toasts:t}=Ct();return e.jsxs(_l,{children:[t.map(function({id:s,title:a,description:r,action:o,...i}){return e.jsxs(Cr,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Ir,{children:a}),r&&e.jsx(Rr,{children:r})]}),o,e.jsx(Ar,{})]},s)}),e.jsx(Sr,{})]})}var xa=["light","dark"],Bl="(prefers-color-scheme: dark)",Hl=n.createContext(void 0),Yl={setTheme:t=>{},themes:[]},Wl=()=>{var t;return(t=n.useContext(Hl))!=null?t:Yl};n.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:o,defaultTheme:i,value:c,attrs:l,nonce:u})=>{let x=i==="system",m=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(h=>`'${h}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,f=o?xa.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(h,b=!1,y=!0)=>{let w=c?c[h]:h,A=b?h+"|| ''":`'${w}'`,N="";return o&&y&&!b&&xa.includes(h)&&(N+=`d.style.colorScheme = '${h}';`),a==="class"?b||w?N+=`c.add(${A})`:N+="null":w&&(N+=`d[s](n,${A})`),N},j=t?`!function(){${m}${d(t)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${x})){var t='${Bl}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${d(c?"x[e]":"e",!0)}}${x?"":"else{"+d(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${s}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${d(c?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${f}}catch(t){}}();`;return n.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:j}})});var Gl=t=>{switch(t){case"success":return Kl;case"info":return Jl;case"warning":return Xl;case"error":return eo;default:return null}},Ql=Array(12).fill(0),Zl=({visible:t})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},U.createElement("div",{className:"sonner-spinner"},Ql.map((s,a)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),Kl=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xl=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jl=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eo=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),to=()=>{let[t,s]=U.useState(document.hidden);return U.useEffect(()=>{let a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t},_s=1,so=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:a,...r}=t,o=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:_s++,i=this.toasts.find(l=>l.id===o),c=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...t,id:o,title:a}),{...l,...t,id:o,dismissible:c,title:a}):l):this.addToast({title:a,...r,dismissible:c,id:o}),o},this.dismiss=t=>(t||this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let r=t instanceof Promise?t:t(),o=a!==void 0;return r.then(async i=>{if(ro(i)&&!i.ok){o=!1;let c=typeof s.error=="function"?await s.error(`HTTP error! status: ${i.status}`):s.error,l=typeof s.description=="function"?await s.description(`HTTP error! status: ${i.status}`):s.description;this.create({id:a,type:"error",message:c,description:l})}else if(s.success!==void 0){o=!1;let c=typeof s.success=="function"?await s.success(i):s.success,l=typeof s.description=="function"?await s.description(i):s.description;this.create({id:a,type:"success",message:c,description:l})}}).catch(async i=>{if(s.error!==void 0){o=!1;let c=typeof s.error=="function"?await s.error(i):s.error,l=typeof s.description=="function"?await s.description(i):s.description;this.create({id:a,type:"error",message:c,description:l})}}).finally(()=>{var i;o&&(this.dismiss(a),a=void 0),(i=s.finally)==null||i.call(s)}),a},this.custom=(t,s)=>{let a=(s==null?void 0:s.id)||_s++;return this.create({jsx:t(a),id:a,...s}),a},this.subscribers=[],this.toasts=[]}},Me=new so,ao=(t,s)=>{let a=(s==null?void 0:s.id)||_s++;return Me.addToast({title:t,...s,id:a}),a},ro=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",no=ao,lo=()=>Me.toasts;Object.assign(no,{success:Me.success,info:Me.info,warning:Me.warning,error:Me.error,custom:Me.custom,message:Me.message,promise:Me.promise,dismiss:Me.dismiss,loading:Me.loading},{getHistory:lo});function oo(t,{insertAt:s}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}oo(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function es(t){return t.label!==void 0}var io=3,co="32px",uo=4e3,mo=356,xo=14,po=20,ho=200;function go(...t){return t.filter(Boolean).join(" ")}var bo=t=>{var s,a,r,o,i,c,l,u,x,m;let{invert:f,toast:d,unstyled:j,interacting:h,setHeights:b,visibleToasts:y,heights:w,index:A,toasts:N,expanded:v,removeToast:S,defaultRichColors:P,closeButton:B,style:G,cancelButtonStyle:g,actionButtonStyle:L,className:Q="",descriptionClassName:$="",duration:C,position:Y,gap:M,loadingIcon:D,expandByDefault:E,classNames:_,icons:p,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:z,cn:V}=t,[X,oe]=U.useState(!1),[ke,de]=U.useState(!1),[We,Te]=U.useState(!1),[Ee,pe]=U.useState(!1),[Ue,H]=U.useState(0),[K,ce]=U.useState(0),ie=U.useRef(null),re=U.useRef(null),ne=A===0,Ne=A+1<=y,xe=d.type,ve=d.dismissible!==!1,T=d.className||"",Z=d.descriptionClassName||"",be=U.useMemo(()=>w.findIndex(te=>te.toastId===d.id)||0,[w,d.id]),ye=U.useMemo(()=>{var te;return(te=d.closeButton)!=null?te:B},[d.closeButton,B]),we=U.useMemo(()=>d.duration||C||uo,[d.duration,C]),Be=U.useRef(0),Le=U.useRef(0),ot=U.useRef(0),_e=U.useRef(null),[it,pt]=Y.split("-"),ct=U.useMemo(()=>w.reduce((te,ue,me)=>me>=be?te:te+ue.height,0),[w,be]),dt=to(),bs=d.invert||f,Rt=xe==="loading";Le.current=U.useMemo(()=>be*M+ct,[be,ct]),U.useEffect(()=>{oe(!0)},[]),U.useLayoutEffect(()=>{if(!X)return;let te=re.current,ue=te.style.height;te.style.height="auto";let me=te.getBoundingClientRect().height;te.style.height=ue,ce(me),b(Pe=>Pe.find(ze=>ze.toastId===d.id)?Pe.map(ze=>ze.toastId===d.id?{...ze,height:me}:ze):[{toastId:d.id,height:me,position:d.position},...Pe])},[X,d.title,d.description,b,d.id]);let He=U.useCallback(()=>{de(!0),H(Le.current),b(te=>te.filter(ue=>ue.toastId!==d.id)),setTimeout(()=>{S(d)},ho)},[d,S,b,Le]);U.useEffect(()=>{if(d.promise&&xe==="loading"||d.duration===1/0||d.type==="loading")return;let te,ue=we;return v||h||z&&dt?(()=>{if(ot.current<Be.current){let me=new Date().getTime()-Be.current;ue=ue-me}ot.current=new Date().getTime()})():ue!==1/0&&(Be.current=new Date().getTime(),te=setTimeout(()=>{var me;(me=d.onAutoClose)==null||me.call(d,d),He()},ue)),()=>clearTimeout(te)},[v,h,E,d,we,He,d.promise,xe,z,dt]),U.useEffect(()=>{let te=re.current;if(te){let ue=te.getBoundingClientRect().height;return ce(ue),b(me=>[{toastId:d.id,height:ue,position:d.position},...me]),()=>b(me=>me.filter(Pe=>Pe.toastId!==d.id))}},[b,d.id]),U.useEffect(()=>{d.delete&&He()},[He,d.delete]);function fs(){return p!=null&&p.loading?U.createElement("div",{className:"sonner-loader","data-visible":xe==="loading"},p.loading):D?U.createElement("div",{className:"sonner-loader","data-visible":xe==="loading"},D):U.createElement(Zl,{visible:xe==="loading"})}return U.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:re,className:V(Q,T,_==null?void 0:_.toast,(s=d==null?void 0:d.classNames)==null?void 0:s.toast,_==null?void 0:_.default,_==null?void 0:_[xe],(a=d==null?void 0:d.classNames)==null?void 0:a[xe]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:P,"data-styled":!(d.jsx||d.unstyled||j),"data-mounted":X,"data-promise":!!d.promise,"data-removed":ke,"data-visible":Ne,"data-y-position":it,"data-x-position":pt,"data-index":A,"data-front":ne,"data-swiping":We,"data-dismissible":ve,"data-type":xe,"data-invert":bs,"data-swipe-out":Ee,"data-expanded":!!(v||E&&X),style:{"--index":A,"--toasts-before":A,"--z-index":N.length-A,"--offset":`${ke?Ue:Le.current}px`,"--initial-height":E?"auto":`${K}px`,...G,...d.style},onPointerDown:te=>{Rt||!ve||(ie.current=new Date,H(Le.current),te.target.setPointerCapture(te.pointerId),te.target.tagName!=="BUTTON"&&(Te(!0),_e.current={x:te.clientX,y:te.clientY}))},onPointerUp:()=>{var te,ue,me,Pe;if(Ee||!ve)return;_e.current=null;let ze=Number(((te=re.current)==null?void 0:te.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ht=new Date().getTime()-((ue=ie.current)==null?void 0:ue.getTime()),vs=Math.abs(ze)/ht;if(Math.abs(ze)>=po||vs>.11){H(Le.current),(me=d.onDismiss)==null||me.call(d,d),He(),pe(!0);return}(Pe=re.current)==null||Pe.style.setProperty("--swipe-amount","0px"),Te(!1)},onPointerMove:te=>{var ue;if(!_e.current||!ve)return;let me=te.clientY-_e.current.y,Pe=te.clientX-_e.current.x,ze=(it==="top"?Math.min:Math.max)(0,me),ht=te.pointerType==="touch"?10:2;Math.abs(ze)>ht?(ue=re.current)==null||ue.style.setProperty("--swipe-amount",`${me}px`):Math.abs(Pe)>ht&&(_e.current=null)}},ye&&!d.jsx?U.createElement("button",{"aria-label":R,"data-disabled":Rt,"data-close-button":!0,onClick:Rt||!ve?()=>{}:()=>{var te;He(),(te=d.onDismiss)==null||te.call(d,d)},className:V(_==null?void 0:_.closeButton,(o=d==null?void 0:d.classNames)==null?void 0:o.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||U.isValidElement(d.title)?d.jsx||d.title:U.createElement(U.Fragment,null,xe||d.icon||d.promise?U.createElement("div",{"data-icon":"",className:V(_==null?void 0:_.icon,(i=d==null?void 0:d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||fs():null,d.type!=="loading"?d.icon||(p==null?void 0:p[xe])||Gl(xe):null):null,U.createElement("div",{"data-content":"",className:V(_==null?void 0:_.content,(c=d==null?void 0:d.classNames)==null?void 0:c.content)},U.createElement("div",{"data-title":"",className:V(_==null?void 0:_.title,(l=d==null?void 0:d.classNames)==null?void 0:l.title)},d.title),d.description?U.createElement("div",{"data-description":"",className:V($,Z,_==null?void 0:_.description,(u=d==null?void 0:d.classNames)==null?void 0:u.description)},d.description):null),U.isValidElement(d.cancel)?d.cancel:d.cancel&&es(d.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||g,onClick:te=>{var ue,me;es(d.cancel)&&ve&&((me=(ue=d.cancel).onClick)==null||me.call(ue,te),He())},className:V(_==null?void 0:_.cancelButton,(x=d==null?void 0:d.classNames)==null?void 0:x.cancelButton)},d.cancel.label):null,U.isValidElement(d.action)?d.action:d.action&&es(d.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||L,onClick:te=>{var ue,me;es(d.action)&&(te.defaultPrevented||((me=(ue=d.action).onClick)==null||me.call(ue,te),He()))},className:V(_==null?void 0:_.actionButton,(m=d==null?void 0:d.classNames)==null?void 0:m.actionButton)},d.action.label):null))};function pa(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var fo=t=>{let{invert:s,position:a="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:i,className:c,offset:l,theme:u="light",richColors:x,duration:m,style:f,visibleToasts:d=io,toastOptions:j,dir:h=pa(),gap:b=xo,loadingIcon:y,icons:w,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:N,cn:v=go}=t,[S,P]=U.useState([]),B=U.useMemo(()=>Array.from(new Set([a].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,a]),[G,g]=U.useState([]),[L,Q]=U.useState(!1),[$,C]=U.useState(!1),[Y,M]=U.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=U.useRef(null),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=U.useRef(null),p=U.useRef(!1),R=U.useCallback(z=>{var V;(V=S.find(X=>X.id===z.id))!=null&&V.delete||Me.dismiss(z.id),P(X=>X.filter(({id:oe})=>oe!==z.id))},[S]);return U.useEffect(()=>Me.subscribe(z=>{if(z.dismiss){P(V=>V.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{Gr.flushSync(()=>{P(V=>{let X=V.findIndex(oe=>oe.id===z.id);return X!==-1?[...V.slice(0,X),{...V[X],...z},...V.slice(X+1)]:[z,...V]})})})}),[]),U.useEffect(()=>{if(u!=="system"){M(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{M(z?"dark":"light")})},[u]),U.useEffect(()=>{S.length<=1&&Q(!1)},[S]),U.useEffect(()=>{let z=V=>{var X,oe;r.every(ke=>V[ke]||V.code===ke)&&(Q(!0),(X=D.current)==null||X.focus()),V.code==="Escape"&&(document.activeElement===D.current||(oe=D.current)!=null&&oe.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),U.useEffect(()=>{if(D.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,p.current=!1)}},[D.current]),S.length?U.createElement("section",{"aria-label":`${A} ${E}`,tabIndex:-1},B.map((z,V)=>{var X;let[oe,ke]=z.split("-");return U.createElement("ol",{key:z,dir:h==="auto"?pa():h,tabIndex:-1,ref:D,className:c,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":oe,"data-x-position":ke,style:{"--front-toast-height":`${((X=G[0])==null?void 0:X.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||co,"--width":`${mo}px`,"--gap":`${b}px`,...f},onBlur:de=>{p.current&&!de.currentTarget.contains(de.relatedTarget)&&(p.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||p.current||(p.current=!0,_.current=de.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{$||Q(!1)},onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},S.filter(de=>!de.position&&V===0||de.position===z).map((de,We)=>{var Te,Ee;return U.createElement(bo,{key:de.id,icons:w,index:We,toast:de,defaultRichColors:x,duration:(Te=j==null?void 0:j.duration)!=null?Te:m,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:s,visibleToasts:d,closeButton:(Ee=j==null?void 0:j.closeButton)!=null?Ee:i,interacting:$,position:z,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,removeToast:R,toasts:S.filter(pe=>pe.position==de.position),heights:G.filter(pe=>pe.position==de.position),setHeights:g,expandByDefault:o,gap:b,loadingIcon:y,expanded:L,pauseWhenPageIsHidden:N,cn:v})}))})):null};const vo=({...t})=>{const{theme:s="system"}=Wl();return e.jsx(fo,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},yo=Qr,wo=n.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(Ta,{ref:r,sideOffset:s,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));wo.displayName=Ta.displayName;const Wt=sl("auth",{user:null,tokens:null,isLoading:!0}),jo=vr(null,(t,s,a)=>{s(Wt,{...t(Wt),user:a.user,tokens:a.tokens,isLoading:!1})}),No=vr(null,(t,s,a)=>{s(Wt,{...t(Wt),isLoading:a})}),xs="http://localhost:5000/api",F=$s.create({baseURL:xs,withCredentials:!0,headers:{"Content-Type":"application/json"}});F.interceptors.request.use(t=>{const s=ut("accessToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t});F.interceptors.response.use(t=>t,async t=>{var a,r,o;const s=t.config;if(((a=t.response)==null?void 0:a.status)===401&&s&&!((r=s.url)!=null&&r.includes("/auth/refresh"))&&!((o=s.url)!=null&&o.includes("/auth/login")))try{const{data:i}=await F.post("/auth/refresh");return Ot("accessToken",i.accessToken,7),s.headers.Authorization=`Bearer ${i.accessToken}`,F(s)}catch(i){return $e("accessToken"),$e("refreshToken"),window.location.href="/login",Promise.reject(i)}return Promise.reject(t)});const ko=async t=>(await F.post("/auth/signup",t)).data,So=async t=>(await F.post("/auth/login",t)).data,Co=async()=>{try{await F.post("/auth/logout")}finally{$e("accessToken"),$e("refreshToken")}},Ao=async t=>(await F.post("/auth/refresh",void 0)).data,Tr=n.createContext(void 0),xt=()=>{const t=n.useContext(Tr);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Io=t=>t?typeof t=="string"?t:t.id||t._id||null:null,Ss=t=>{const s=t.id||t._id||t.accountId;return{...t,id:s,_id:s,workingUnderOrganization:Io(t.workingUnderOrganization)}},Ro=({children:t})=>{const s=aa(jo),a=aa(No),r=Zr(Wt),{toast:o}=Ct(),i=n.useCallback(async()=>{try{const m=await Ao(),f=Ss(m.user);return s({user:f,tokens:{accessToken:m.accessToken,refreshToken:m.refreshToken||ut("refreshToken")||null}}),Ot("accessToken",m.accessToken,7),m.refreshToken&&Ot("refreshToken",m.refreshToken,30),!0}catch{return $e("accessToken"),$e("refreshToken"),s({user:null,tokens:null}),!1}},[s]);n.useEffect(()=>{(async()=>{if(a(!0),ut("accessToken")){if(await i()){a(!1);return}$e("accessToken"),$e("refreshToken"),s({user:null,tokens:null})}else s({user:null,tokens:null});a(!1)})()},[s,a,i]);const c=async(m,f)=>{a(!0);try{const d=await So({email:m,password:f}),j=Ss(d.user);Ot("accessToken",d.accessToken,7),s({user:j,tokens:{accessToken:d.accessToken,refreshToken:d.refreshToken||ut("refreshToken")||null}}),o({title:"Welcome back!",description:"You have successfully signed in."})}catch(d){throw o({title:"Login failed",description:d instanceof Error?d.message:"Please check your credentials and try again.",variant:"destructive"}),d}finally{a(!1)}},l=async m=>{a(!0);try{const f={firstName:m.firstName,lastName:m.lastName,email:m.email,password:m.password,phoneNumber:m.phoneNumber||"",accountType:m.accountType||"individual"};m.company&&(f.company=m.company);const d=await ko(f),j=Ss(d.user);Ot("accessToken",d.accessToken,7),s({user:j,tokens:{accessToken:d.accessToken,refreshToken:d.refreshToken||ut("refreshToken")||null}}),o({title:"Account created!",description:"Welcome to Virtual Sales Platform."})}catch(f){throw o({title:"Signup failed",description:f instanceof Error?f.message:"Please check your information and try again.",variant:"destructive"}),f}finally{a(!1)}},u=async()=>{a(!0);try{await Co(),$e("accessToken"),$e("refreshToken"),s({user:null,tokens:null}),o({title:"Logged out",description:"You have been successfully logged out."})}catch(m){o({title:"Logout failed",description:m instanceof Error?m.message:"An error occurred while logging out.",variant:"destructive"})}finally{a(!1)}},x=n.useCallback(async()=>{a(!0),await i()||($e("accessToken"),$e("refreshToken"),s({user:null,tokens:null})),a(!1)},[a,s,i]);return e.jsx(Tr.Provider,{value:{user:r.user,login:c,signup:l,logout:u,refresh:x,isLoading:r.isLoading},children:t})},ha=({requireOwner:t=!1,requireAdmin:s=!1,requireOrganization:a=!1,allowIndividual:r=!0,allowedRoles:o,requireRoles:i})=>{const{user:c,isLoading:l}=xt(),u=mt();return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),e.jsx("div",{className:"text-slate-300 text-lg",children:"Loading..."})]})}):c?!c.role||!c.accountType?e.jsx(Qe,{title:"Invalid User Data",message:"Your account data is incomplete. Please contact support or try logging in again.",onAction:()=>window.location.href="/login",actionLabel:"Back to Login"}):a&&c.accountType!=="organization"?e.jsx(Qe,{title:"Organization Account Required",message:"This feature is only available for organization accounts. Please upgrade your account or contact your organization administrator.",showGoBack:!0}):!r&&c.accountType==="individual"?e.jsx(Qe,{title:"Not Available for Individual Accounts",message:"This feature requires an organization account. Please create or join an organization to access this feature.",showGoBack:!0}):t&&c.role!=="owner"?e.jsx(Qe,{title:"Owner Access Required",message:"Only organization owners can access this page. Please contact your organization owner for assistance.",showGoBack:!0}):s&&!["owner","admin"].includes(c.role)?e.jsx(Qe,{title:"Admin Access Required",message:"Only organization owners and administrators can access this page.",showGoBack:!0}):o&&o.length>0&&!o.includes(c.role)?e.jsx(Qe,{title:"Access Denied",message:`You do not have permission to access this page. Your role: ${c.role}`,details:`Required roles: ${o.join(", ")}`,showGoBack:!0}):i&&i.length>0&&!i.includes(c.role)?e.jsx(Qe,{title:"Insufficient Permissions",message:"This page requires specific permissions that your account does not have.",details:`Your role: ${c.role}`,showGoBack:!0}):(c.accountType==="organization"||c.workingUnderOrganization)&&!["owner","admin","agent","member"].includes(c.role)?e.jsx(Qe,{title:"Invalid Role Configuration",message:"Your organization role is not properly configured. Please contact your organization owner.",showGoBack:!0}):c.accountType==="individual"&&!c.workingUnderOrganization&&c.role!=="individual"?e.jsx(Qe,{title:"Invalid Account Configuration",message:"Your account configuration is invalid. Please contact support.",onAction:()=>window.location.href="/login",actionLabel:"Back to Login"}):e.jsx(La,{}):e.jsx(Kr,{to:"/login",state:{from:u},replace:!0})};function Qe({title:t,message:s,details:a,showGoBack:r=!1,onAction:o,actionLabel:i="Go Back"}){const c=()=>{o?o():r&&window.history.back()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-slate-900/30 border border-slate-800/50 rounded-2xl p-8 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/10 border border-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ma,{className:"w-8 h-8 text-red-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t}),e.jsx("p",{className:"text-slate-400 mb-4",children:s}),a&&e.jsx("div",{className:"mb-6 p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-slate-300",children:a})}),e.jsx("button",{onClick:c,className:"px-6 py-3 bg-white hover:bg-slate-100 text-slate-900 rounded-xl font-semibold transition-all w-full",children:i})]})})}const To=async()=>(await F.get("/settings/notifications")).data,Lo=async t=>(await F.put(`/settings/notifications/${t}/read`)).data,Lr=""+new URL("WhatsApp_Image_2025-11-05_at_5.37.53_PM-removebg-preview-Dlhq8GVy.png",import.meta.url).href,Mo=Zs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ze=n.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...o},i)=>{const c=r?Xr:"button";return e.jsx(c,{className:le(Mo({variant:s,size:a,className:t})),ref:i,...o})});Ze.displayName="Button";const ga=[{icon:Jr,label:"Dashboard",path:"/dashboard"},{icon:Ye,label:"Avatars",path:"/avatars"},{icon:za,label:"Properties",path:"/properties"},{icon:Bt,label:"Visits",path:"/visits"},{icon:ms,label:"Leads",path:"/leads"},{icon:Da,label:"Settings",path:"/settings"}],Eo=()=>{var A;const t=()=>{l(N=>!N)},s=()=>{l(!1)},{user:a,logout:r}=xt(),o=mt(),i=lt(),[c,l]=n.useState(!1),[u,x]=n.useState(0),[m,f]=n.useState([]),[d,j]=n.useState(!1),[h,b]=n.useState(!1),y=n.useRef(null);n.useEffect(()=>{function N(v){y.current&&!y.current.contains(v.target)&&b(!1)}return h?document.addEventListener("mousedown",N):document.removeEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[h]);const w=async()=>{j(!0);try{const N=await To();f(N.notifications||[]),x(N.unreadCount||0)}catch{}finally{j(!1)}};return n.useEffect(()=>{w()},[]),e.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] shadow-sm",children:e.jsxs("div",{className:"px-4 lg:px-8 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[e.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("img",{src:Lr,alt:"logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h2",{className:"font-semibold text-white text-base lg:text-lg",children:"Govind"}),e.jsx("p",{className:"text-xs lg:text-sm text-gray-100 leading-none",children:"Tenny Tech Trek"})]})]}),e.jsx("nav",{className:"hidden lg:flex items-center gap-2 absolute left-1/2 -translate-x-1/2 z-10",children:ga.map(N=>{const v=N.icon,S=o.pathname===N.path;return e.jsxs("button",{onClick:()=>i(N.path),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${S?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"text-gray-100 hover:bg-white/10 hover:text-white"}`,children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:N.label})]},N.path)})}),e.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.jsxs("div",{className:"relative",ref:y,children:[e.jsxs(Ze,{variant:"ghost",size:"icon",className:"relative h-9 w-9 rounded-lg hover:bg-white/10 text-white group",onClick:()=>b(N=>!N),children:[e.jsx(Vt,{className:"h-5 w-5"}),u>0&&e.jsx("span",{className:"absolute top-1 right-1 min-w-[18px] h-5 px-1 bg-gradient-to-r from-red-500 to-red-600 rounded-full text-xs text-white flex items-center justify-center font-bold shadow-lg border border-[#0f1e3a] animate-pulse",children:u})]}),h&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-h-96 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-y-auto",children:[e.jsxs("div",{className:"p-3 border-b font-semibold text-gray-800 flex items-center justify-between",children:["Notifications",d&&e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"Loading..."})]}),m.length===0&&!d&&e.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No notifications"}),m.map(N=>e.jsxs("div",{className:`px-4 py-3 border-b last:border-b-0 flex flex-col gap-1 cursor-pointer transition-colors ${N.read?"bg-white":"bg-blue-50/60 hover:bg-blue-100/80"}`,onClick:async()=>{N.read||(await Lo(N._id),w())},children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:N.title}),e.jsx("div",{className:"text-xs text-gray-600",children:N.message}),e.jsx("div",{className:"text-[10px] text-gray-400 mt-1",children:new Date(N.createdAt).toLocaleString()})]},N._id))]})]}),e.jsxs(Ze,{variant:"ghost",size:"sm",onClick:t,className:"hidden sm:flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-white/10 text-white h-9",children:[e.jsx("div",{className:"w-7 h-7 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(zs,{className:"h-4 w-4 text-white"})}),e.jsx(Ea,{className:`h-4 w-4 transition-transform duration-300 ${c?"rotate-90":""}`})]}),e.jsx(Ze,{variant:"ghost",size:"sm",onClick:t,className:"lg:hidden p-2 h-9 w-9 hover:bg-white/10 rounded-lg text-white",children:e.jsx(Pa,{className:"h-5 w-5"})})]})]})}),e.jsx(Fs,{children:c&&e.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-40",onClick:s})}),e.jsx(Fs,{children:c&&e.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"fixed top-16 right-4 z-50 w-72 bg-white border border-gray-200 rounded-lg shadow-xl",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 cursor-pointer",onClick:()=>{i("/avatars"),s()},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(zs,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(a==null?void 0:a.firstName)||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:typeof(a==null?void 0:a.workingUnderOrganization)=="object"?(A=a.workingUnderOrganization)==null?void 0:A.name:(a==null?void 0:a.workingUnderOrganization)||"Organization"})]})]})}),e.jsx("div",{className:"lg:hidden p-2",children:e.jsx("nav",{className:"space-y-1",children:ga.map(N=>{const v=N.icon,S=o.pathname===N.path;return e.jsxs("button",{onClick:()=>{i(N.path),s()},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${S?"bg-blue-50 text-blue-600":"text-black hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{children:N.label})]},N.path)})})}),e.jsx("div",{className:"p-2 border-t border-gray-100",children:e.jsxs(Ze,{variant:"ghost",size:"sm",onClick:r,className:"w-full justify-start text-gray-600 hover:text-red-600 hover:bg-red-50 px-3 py-2.5 rounded-lg font-medium",children:[e.jsx(is,{className:"h-4 w-4 mr-3"}),"Sign Out"]})})]})}),e.jsx("div",{className:"pt-16",children:e.jsx("main",{className:"",children:e.jsx(La,{})})})]})},Vs=()=>{const[t,s]=n.useState(!1),[a,r]=n.useState(!1);n.useEffect(()=>{const c=()=>r(window.scrollY>10);return window.addEventListener("scroll",c,{passive:!0}),()=>window.removeEventListener("scroll",c)},[]),n.useEffect(()=>{const{hash:c}=window.location;c&&setTimeout(()=>{const l=c.replace("#",""),u=document.getElementById(l);u&&u.scrollIntoView({behavior:"smooth",block:"start"})},100)},[]);const o=(c,l)=>{const u=window.location.pathname;if(l==="/"){c.preventDefault(),u==="/"?window.scrollTo({top:0,behavior:"smooth"}):window.location.href="/";return}if(l.startsWith("#")){c.preventDefault();const x=l.slice(1);if(u==="/"){const m=document.getElementById(x);m&&m.scrollIntoView({behavior:"smooth",block:"start"})}else window.location.href=`/${l}`;return}},i=[{label:"Home",href:"/"},{label:"Features",href:"#features"},{label:"Pricing",href:"#pricing"},{label:"Dashboard",href:"/dashboard"}];return e.jsxs(W.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.1,ease:"easeOut"},className:`w-full sticky top-0 z-50 transition-all duration-300 ${a?"backdrop-blur-2xl shadow-2xl":""}`,style:{background:a?"linear-gradient(135deg, rgba(30, 58, 138, 0.95) 0%, rgba(30, 41, 59, 0.95) 50%, rgba(30, 58, 138, 0.95) 100%)":"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px]",style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)"}}),e.jsxs("div",{className:"container px-6 lg:px-12 mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(W.a,{href:"/",className:"flex items-center gap-3 group",onClick:c=>o(c,"/"),whileHover:{scale:1.05},transition:{duration:.3},children:[e.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-sm flex items-center justify-center shadow-xl",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},children:e.jsx("img",{src:Lr,alt:"logo",className:"w-10 h-10"})}),e.jsx("span",{className:"text-xl md:text-2xl font-black text-white",children:"TrekEstateAgent"})]}),e.jsx("div",{className:"hidden md:flex items-center gap-8",children:i.map(c=>e.jsxs(W.a,{href:c.href,className:"text-base font-bold text-white/90 hover:text-white transition-colors duration-300 relative group",onClick:l=>o(l,c.href),whileHover:{y:-2},transition:{duration:.2},children:[c.label,e.jsx(W.span,{className:"absolute -bottom-1 left-0 h-0.5 bg-white",initial:{width:0},whileHover:{width:"100%"},transition:{duration:.3}})]},c.label))}),e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx("a",{href:"/dashboard",children:e.jsx(W.button,{className:"px-6 py-2.5 text-base font-black text-white rounded-xl transition-all duration-300 backdrop-blur-sm",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.05,background:"rgba(255, 255, 255, 0.15)"},whileTap:{scale:.98},children:"Login"})}),e.jsx("a",{href:"/signup",children:e.jsx(W.button,{className:"px-6 py-2.5 text-base font-black rounded-xl shadow-2xl text-blue-900",style:{background:"rgba(255, 255, 255, 0.95)"},whileHover:{scale:1.05,background:"rgba(255, 255, 255, 1)"},whileTap:{scale:.98},children:"Sign Up"})})]}),e.jsx(W.button,{onClick:()=>s(c=>!c),className:"md:hidden p-2.5 text-white rounded-xl transition-colors duration-300 backdrop-blur-sm",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Toggle menu",children:t?e.jsx(Re,{className:"w-6 h-6"}):e.jsx(Pa,{className:"w-6 h-6"})})]}),e.jsx(Fs,{children:t&&e.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden overflow-hidden",children:e.jsxs("div",{className:"py-6 space-y-3",children:[i.map((c,l)=>e.jsx(W.a,{href:c.href,className:"block text-base font-bold text-white/90 hover:text-white transition-all duration-300 py-3 px-5 rounded-xl backdrop-blur-sm",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"},onClick:u=>{o(u,c.href),s(!1)},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},whileHover:{x:5,background:"rgba(255, 255, 255, 0.08)"},children:c.label},c.label)),e.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t",style:{borderColor:"rgba(255, 255, 255, 0.1)"},children:[e.jsx("a",{href:"/dashboard",children:e.jsx(W.button,{className:"w-full px-6 py-3 text-base font-black text-white rounded-xl transition-all duration-300 backdrop-blur-sm",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.02,background:"rgba(255, 255, 255, 0.15)"},whileTap:{scale:.98},children:"Login"})}),e.jsx("a",{href:"/dashboard",children:e.jsx(W.button,{className:"w-full px-6 py-3 text-base font-black rounded-xl shadow-2xl text-blue-900",style:{background:"rgba(255, 255, 255, 0.95)"},whileHover:{scale:1.02,background:"rgba(255, 255, 255, 1)"},whileTap:{scale:.98},children:"Sign Up"})})]})]})})})]})]})},ps=(t={})=>{const{threshold:s=.1,rootMargin:a="50px",onIntersect:r}=t,o=n.useRef(null),[i,c]=n.useState(!1),[l,u]=n.useState(!1);return n.useEffect(()=>{const x=new IntersectionObserver(m=>{m.forEach(f=>{f.isIntersecting&&!l&&(c(!0),u(!0),r==null||r(),x.unobserve(f.target))})},{threshold:s,rootMargin:a});return o.current&&x.observe(o.current),()=>{o.current&&x.unobserve(o.current),x.disconnect()}},[l,s,a,r]),{ref:o,isVisible:i,hasAnimated:l}},Po=""+new URL("ChatGPT Image Nov 14_ 2025_ 06_44_35 PM-DnWoxEt5.png",import.meta.url).href,zo=()=>{const t=n.useRef(null),s=n.useRef(null),a=n.useRef(null),[r,o]=n.useState(!1),{isVisible:i,hasAnimated:c}=ps({threshold:.3,rootMargin:"100px"});n.useEffect(()=>{const u=()=>o(window.innerWidth<768);return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),n.useEffect(()=>{!i||!s.current||c||ae.fromTo(s.current,{scale:.9,opacity:0},{scale:1,opacity:1,duration:1.2,ease:"power3.out"})},[i,c]),n.useEffect(()=>{var f;if(r||!a.current)return;let u;const x=d=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var A;const j=(A=t.current)==null?void 0:A.getBoundingClientRect();if(!j)return;const h=j.left+j.width/2,b=j.top+j.height/2,y=(d.clientY-b)/j.height*-8,w=(d.clientX-h)/j.width*8;ae.to(a.current,{rotationX:y,rotationY:w,duration:.2,ease:"power2.out",overwrite:"auto"})})},m=()=>{u&&cancelAnimationFrame(u),ae.to(a.current,{rotationX:0,rotationY:0,duration:.3,ease:"power2.out"})};return window.addEventListener("mousemove",x),(f=t.current)==null||f.addEventListener("mouseleave",m),()=>{var d;u&&cancelAnimationFrame(u),window.removeEventListener("mousemove",x),(d=t.current)==null||d.removeEventListener("mouseleave",m)}},[r]);const l=U.memo(({delay:u,duration:x,initialX:m,initialY:f,size:d=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:d,height:d,willChange:"transform"},initial:{x:m,y:f,opacity:0},animate:{x:[m,m+40,m],y:[f,f-80,f],opacity:[0,.4,0]},transition:{duration:x,delay:u,repeat:1/0,ease:"easeInOut"}}));return e.jsxs("section",{className:"overflow-hidden relative min-h-screen flex items-center",id:"hero",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)",padding:r?"100px 12px 40px":"120px 20px 60px"},ref:t,children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!r&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(8)].map((u,x)=>e.jsx(l,{delay:x*.5,duration:5+x*.2,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*2.5+1},x))}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-16 items-center",children:[e.jsxs(W.div,{className:"w-full lg:w-1/2 space-y-8",initial:{opacity:0,x:-60},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:[e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{scale:1.05},children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3.5 rounded-full bg-white/10 border border-white/20 backdrop-blur-xl shadow-2xl group cursor-default",children:[e.jsx(W.div,{className:"flex items-center justify-center w-8 h-8 rounded-full bg-white text-blue-900 font-black text-sm shadow-lg",animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:"AI"}),e.jsx($a,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-sm font-bold text-white tracking-wide",children:"Powered by Advanced AI"})]})}),e.jsxs(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl leading-[1.1] font-black mb-6",children:[e.jsx("span",{className:"block text-white drop-shadow-2xl",children:"AI Agents for"}),e.jsx("span",{className:"block mt-2 bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent",children:"Real Estate"})]}),e.jsx("p",{className:"text-xl sm:text-2xl text-white/80 font-medium",children:"That Work 24/7"})]}),e.jsx(W.p,{className:"text-lg sm:text-xl leading-relaxed text-white/90 font-medium max-w-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:"Transform your real estate business with intelligent AI agents that handle customer queries, schedule viewings, and close deals while you sleep."}),e.jsxs(W.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[e.jsxs(W.a,{href:"/login",className:"group relative inline-flex items-center justify-center",whileHover:{scale:1.05},whileTap:{scale:.98},children:[e.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),e.jsxs("span",{className:"relative flex items-center justify-center gap-3 px-8 py-5 bg-white rounded-full text-blue-900 font-black text-lg shadow-2xl border-2 border-white/20",children:["Get Started Free",e.jsx(Fa,{className:"w-6 h-6 transition-transform duration-300 group-hover:translate-x-1"})]})]}),e.jsx(W.a,{href:"#showcase",onClick:u=>{var x;u.preventDefault(),(x=document.getElementById("showcase"))==null||x.scrollIntoView({behavior:"smooth",block:"start"})},className:"group inline-flex items-center justify-center gap-3 px-8 py-5 bg-white/10 backdrop-blur-xl border-2 border-white/30 rounded-full text-white font-bold text-lg hover:bg-white/20 transition-all shadow-xl cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.98},children:"Watch Demo"})]}),e.jsxs(W.div,{className:"flex items-center gap-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:[e.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(u=>e.jsx(W.div,{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 border-3 border-blue-900 shadow-lg flex items-center justify-center",whileHover:{scale:1.3,zIndex:10},children:e.jsx("span",{className:"text-white text-xs font-bold",children:u})},u))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-sm",children:"Trusted by 100+ Agents"}),e.jsx("p",{className:"text-white/60 text-xs",children:"Join the AI revolution"})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 relative",children:e.jsxs("div",{className:"relative",style:{perspective:"1500px"},ref:s,children:[e.jsx(W.div,{className:"absolute -inset-12 rounded-full blur-3xl",style:{background:"radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0}}),e.jsxs("div",{ref:a,className:"relative",style:{transformStyle:"preserve-3d",willChange:"transform"},children:[e.jsxs("div",{className:"relative rounded-3xl overflow-hidden ",children:[e.jsx("img",{src:Po,alt:"AI Agent Robot",loading:"eager",decoding:"sync",fetchPriority:"high",className:"w-full h-auto relative z-10 drop-shadow-2xl"}),e.jsx("div",{className:"absolute inset-0  rounded-3xl"})]}),e.jsx(W.div,{className:"absolute top-8 right-8 px-6 py-3 bg-white rounded-full shadow-2xl border-2 border-blue-900",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.2,type:"spring"},whileHover:{scale:1.1},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W.div,{className:"w-3 h-3 rounded-full bg-green-500",animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0}}),e.jsx("span",{className:"text-sm font-black text-blue-900",children:"Live Now"})]})})]})]})})]})})]})};ae.registerPlugin(Oe);const Do=()=>{const t=n.useRef(null),s=n.useRef([]),a=n.useRef(null),r=n.useRef(null),o=n.useRef(null),[i,c]=n.useState(!1),{isVisible:l}=ps({threshold:.15,rootMargin:"50px"});n.useEffect(()=>{const m=()=>c(window.innerWidth<768);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),n.useEffect(()=>{if(l)return ae.fromTo(r.current,{opacity:0,scale:.8,rotationY:-90},{opacity:1,scale:1,rotationY:0,duration:.6,ease:"back.out(1.2)"}),ae.fromTo(a.current,{opacity:0,y:80},{opacity:1,y:0,duration:.8,delay:.1,ease:"power3.out"}),ae.fromTo(o.current,{opacity:0,y:20},{opacity:1,y:0,duration:.6,delay:.2,ease:"power3.out"}),s.current.forEach((m,f)=>{m&&ae.fromTo(m,{opacity:0,rotateX:25,y:40},{opacity:1,rotateX:0,y:0,duration:.6,delay:.15+f*.1,ease:"power3.out"})}),()=>{Oe.getAll().forEach(m=>m.kill())}},[l]);const u=U.memo(({delay:m,duration:f,initialX:d,initialY:j,size:h=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:h,height:h,willChange:"transform"},initial:{x:d,y:j,opacity:0},animate:{x:[d,d+40,d],y:[j,j-80,j],opacity:[0,.4,0]},transition:{duration:f,delay:m,repeat:1/0,ease:"easeInOut"}})),x=[{number:"01",title:"We're bringing AI sales agents to real estate",description:"Transform your real estate business with intelligent AI agents that understand property details and buyer preferences."},{number:"02",title:"We're automating lead capture and qualification 24/7",description:"Never miss a potential client. Our AI works round the clock to capture, qualify, and nurture leads automatically."},{number:"03",title:"We're creating sales assistants, not replacements",description:"Empower your team with AI that handles routine tasks, letting them focus on building relationships and closing deals."}];return e.jsxs("section",{ref:t,className:"overflow-hidden relative w-full py-16 md:py-24",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},id:"why-humanoid",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!i&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(8)].map((m,f)=>e.jsx(u,{delay:f*.5,duration:5+f*.2,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*2.5+1},f))}),e.jsxs("div",{className:"container px-6 lg:px-12 mx-auto relative z-10",children:[e.jsxs("div",{className:"max-w-4xl mb-20",style:{perspective:"1500px"},children:[e.jsxs("h2",{ref:a,className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-8 leading-tight",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",transform:"translateZ(100px)"},children:["Why Virtual",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"Agents"})]}),e.jsx("p",{ref:o,className:"text-base md:text-lg lg:text-xl text-white/90 leading-relaxed max-w-2xl font-medium",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:"Revolutionizing real estate sales with intelligent automation that works alongside your team, not against them."})]}),e.jsx("div",{className:"space-y-8",style:{perspective:"2000px"},children:x.map((m,f)=>e.jsx(W.div,{ref:d=>s.current[f]=d,className:"group relative",style:{transformStyle:"preserve-3d"},whileHover:{scale:1.02},transition:{duration:.3},children:e.jsxs("div",{className:"relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),e.jsxs("div",{className:"relative p-8 md:p-12 lg:p-14 flex flex-col md:flex-row items-start md:items-center gap-8",children:[e.jsx(W.div,{className:"flex-shrink-0",style:{transformStyle:"preserve-3d",transform:"translateZ(40px)"},whileHover:{scale:1.1,rotate:12},transition:{duration:.3},children:e.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center shadow-2xl",style:{background:"rgba(255, 255, 255, 0.1)",border:"3px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 10px 40px rgba(59, 130, 246, 0.3), inset 0 0 20px rgba(255,255,255,0.1)"},children:e.jsx("span",{className:"text-4xl font-black text-white",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:m.number})})}),e.jsxs("div",{className:"flex-1 space-y-5",style:{transform:"translateZ(20px)"},children:[e.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white leading-tight",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.4)"},children:m.title}),e.jsx("p",{className:"text-base md:text-lg text-white/85 leading-relaxed max-w-3xl",children:m.description})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-1000 ease-out",style:{background:"linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3))",boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"}})]})},f))})]})]})};ae.registerPlugin(Oe);const $o=()=>{const t=n.useRef(null),s=n.useRef([]),a=n.useRef(null),r=n.useRef(null),o=n.useRef(null),i=n.useRef(null),[c,l]=n.useState(!1);n.useEffect(()=>{const m=()=>l(window.innerWidth<768);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),n.useEffect(()=>(ae.fromTo(r.current,{opacity:0,scale:.5,rotationY:-180},{opacity:1,scale:1,rotationY:0,duration:1,ease:"back.out(1.7)",scrollTrigger:{trigger:t.current,start:"top 70%"}}),ae.fromTo(a.current,{opacity:0,y:100,z:-100,rotationX:45},{opacity:1,y:0,z:0,rotationX:0,duration:1.2,delay:.3,ease:"power3.out",scrollTrigger:{trigger:t.current,start:"top 70%"}}),ae.fromTo(i.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,delay:.6,scrollTrigger:{trigger:t.current,start:"top 70%"}}),ae.fromTo(o.current,{opacity:0,y:30},{opacity:1,y:0,duration:.8,delay:.8,scrollTrigger:{trigger:t.current,start:"top 70%"}}),s.current.forEach((m,f)=>{m&&ae.fromTo(m,{opacity:0,rotateX:45,rotateY:-25,z:-200,scale:.8},{opacity:1,rotateX:0,rotateY:0,z:0,scale:1,duration:1.2,delay:1+f*.15,ease:"power3.out",scrollTrigger:{trigger:t.current,start:"top 60%"}})}),()=>{Oe.getAll().forEach(m=>m.kill())}),[]);const u=({delay:m,duration:f,initialX:d,initialY:j,size:h=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:h,height:h},initial:{x:d,y:j,opacity:0},animate:{x:[d,d+50,d],y:[j,j-100,j],opacity:[0,.6,0]},transition:{duration:f,delay:m,repeat:1/0,ease:"easeInOut"}}),x=[{icon:ms,title:"Lead Qualification",description:"Intelligent conversations that identify high-value prospects"},{icon:Oa,title:"Smart Scheduling",description:"Automated booking synced with your calendar"},{icon:Gt,title:"Instant Follow-ups",description:"Never miss an opportunity with timely responses"},{icon:Ye,title:"Relationship Building",description:"Free your team to focus on personal connections"}];return e.jsxs("section",{ref:t,className:"overflow-hidden relative w-full py-16 md:py-24",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},id:"specifications",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!c&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((m,f)=>e.jsx(u,{delay:f*.4,duration:6+f*.3,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*3+1},f))}),e.jsxs("div",{className:"container px-6 lg:px-12 mx-auto relative z-10",children:[e.jsxs("div",{className:"max-w-4xl mb-20",style:{perspective:"1500px"},children:[e.jsxs("h2",{ref:a,className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-8 leading-tight",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",transform:"translateZ(100px)"},children:["Built to",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"Empower Teams"})]}),e.jsx("div",{ref:i,className:"mb-10",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:e.jsxs("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold leading-tight mb-2",children:[e.jsx("span",{className:"block text-white mb-2",children:"Your virtual agents work"}),e.jsx("span",{className:"block text-blue-200 mb-2",children:"alongside your team,"}),e.jsx("span",{className:"block text-white",children:"not instead of it."})]})}),e.jsxs("p",{ref:o,className:"text-base md:text-lg lg:text-xl text-white/90 leading-relaxed max-w-2xl font-medium",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:["By handling lead qualification, scheduling, and follow-ups, they help agents focus on what they do best:"," ",e.jsx("span",{className:"text-white font-bold",children:"build relationships and close deals."})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",style:{perspective:"2000px"},children:x.map((m,f)=>{const d=m.icon;return e.jsx(W.div,{ref:j=>s.current[f]=j,className:"group relative",style:{transformStyle:"preserve-3d"},whileHover:{scale:1.05,z:50},transition:{duration:.3},children:e.jsxs("div",{className:"relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700 cursor-pointer h-full",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),e.jsxs("div",{className:"relative p-8 flex flex-col h-full",children:[e.jsx(W.div,{className:"mb-6",style:{transformStyle:"preserve-3d",transform:"translateZ(40px)"},whileHover:{scale:1.15,rotate:360},transition:{duration:.6},children:e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-2xl",style:{background:"rgba(255, 255, 255, 0.95)",border:"3px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 10px 40px rgba(59, 130, 246, 0.4), inset 0 0 20px rgba(255,255,255,0.1)"},children:e.jsx(d,{className:"w-8 h-8 text-blue-900",strokeWidth:2.5})})}),e.jsxs("div",{className:"flex-1",style:{transform:"translateZ(20px)"},children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-white leading-tight mb-3",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.4)"},children:m.title}),e.jsx("p",{className:"text-sm md:text-base text-white/85 leading-relaxed",children:m.description})]}),e.jsx("div",{className:"absolute top-4 right-4 w-2.5 h-2.5 rounded-full bg-white/40 animate-pulse",style:{animationDuration:"2s"}})]}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-1000 ease-out",style:{background:"linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3))",boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"}})]})},f)})})]})]})};ae.registerPlugin(Oe);const Fo=()=>{const t=n.useRef(null),s=n.useRef(null),a=n.useRef(null),r=n.useRef(null),o=n.useRef(null),i=n.useRef([]),c=n.useRef([]),[l,u]=n.useState(!1),{isVisible:x}=ps({threshold:.15,rootMargin:"50px"}),[m,f]=n.useState({fullName:"",email:"",company:""});n.useEffect(()=>{const y=()=>u(window.innerWidth<768);return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),n.useEffect(()=>{if(x)return ae.fromTo(a.current,{opacity:0,scale:.8,rotationY:-90},{opacity:1,scale:1,rotationY:0,duration:.6,ease:"back.out(1.2)"}),ae.fromTo(s.current,{opacity:0,y:80},{opacity:1,y:0,duration:.8,delay:.1,ease:"power3.out"}),ae.fromTo(r.current,{opacity:0,x:-60,rotateY:-15},{opacity:1,x:0,rotateY:0,duration:.8,delay:.15,ease:"power3.out"}),ae.fromTo(o.current,{opacity:0,x:60,rotateY:15},{opacity:1,x:0,rotateY:0,duration:.8,delay:.15,ease:"power3.out"}),ae.fromTo(i.current,{opacity:0,x:-20,scale:.95},{opacity:1,x:0,scale:1,duration:.5,stagger:.08,ease:"power2.out"}),ae.fromTo(c.current,{opacity:0,y:20,scale:.95},{opacity:1,y:0,scale:1,duration:.5,stagger:.08,ease:"power2.out"}),()=>{Oe.getAll().forEach(y=>y.kill())}},[x]);const d=U.memo(({delay:y,duration:w,initialX:A,initialY:N,size:v=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:v,height:v,willChange:"transform"},initial:{x:A,y:N,opacity:0},animate:{x:[A,A+40,A],y:[N,N-80,N],opacity:[0,.4,0]},transition:{duration:w,delay:y,repeat:1/0,ease:"easeInOut"}})),j=y=>{const{name:w,value:A}=y.target;f(N=>({...N,[w]:A}))},h=y=>{if(y.preventDefault(),!m.fullName||!m.email){alert("Please fill in all required fields");return}alert("Request submitted successfully!"),f({fullName:"",email:"",company:""})},b=[{icon:"",label:"Avatar Creation",value:"Unlimited",description:"Create as many AI agents as you need"},{icon:"",label:"Lead Capture",value:"24/7",description:"Never miss a potential client"},{icon:"",label:"CRM Integration",value:"All Major",description:"Seamless connection to your tools"},{icon:"",label:"Analytics",value:"Real-time",description:"Track performance instantly"},{icon:"",label:"Commission",value:"1% Auto-calc",description:"Automatic commission tracking"}];return e.jsxs("section",{ref:t,className:"overflow-hidden relative w-full py-16 md:py-24",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},id:"details",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!l&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(8)].map((y,w)=>e.jsx(d,{delay:w*.5,duration:5+w*.2,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*2.5+1},w))}),e.jsxs("div",{className:"container px-6 lg:px-12 mx-auto relative z-10",children:[e.jsx("div",{className:"text-center mb-20",style:{perspective:"1500px"},children:e.jsxs("h2",{ref:s,className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-8 leading-tight",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",transform:"translateZ(100px)"},children:["Everything You Need to"," ",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"Succeed"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",style:{perspective:"2000px"},children:[e.jsx(W.div,{ref:r,className:"group relative",style:{transformStyle:"preserve-3d"},whileHover:{scale:1.02},transition:{duration:.3},children:e.jsxs("div",{className:"relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),e.jsxs("div",{className:"relative p-8 md:p-10 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(W.div,{className:"w-14 h-14 rounded-2xl flex items-center justify-center shadow-xl",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white",children:"Platform Features"})]}),e.jsx("p",{className:"text-base md:text-lg text-white/90 font-medium",children:"Everything you need to deploy virtual sales agents"})]}),e.jsx("div",{className:"relative p-8 md:p-10 space-y-4",children:b.map((y,w)=>e.jsxs(W.div,{ref:A=>i.current[w]=A,className:"group/item relative p-5 md:p-6 rounded-2xl backdrop-blur-sm transition-all duration-300 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)"},whileHover:{scale:1.03,background:"rgba(255, 255, 255, 0.08)",borderColor:"rgba(255, 255, 255, 0.2)"},transition:{duration:.2},children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(W.div,{className:"flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center text-2xl shadow-lg",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.15,rotate:12},transition:{duration:.3},children:y.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2 mb-2",children:[e.jsx("h4",{className:"text-base md:text-lg font-bold text-white",children:y.label}),e.jsx("span",{className:"text-base md:text-lg font-black text-white whitespace-nowrap",children:y.value})]}),e.jsx("p",{className:"text-sm md:text-base text-white/85 leading-relaxed",children:y.description})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-0 group-hover/item:w-full transition-all duration-500 ease-out",style:{background:"linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3))",boxShadow:"0 0 10px rgba(255, 255, 255, 0.5)"}})]},w))})]})}),e.jsx(W.div,{ref:o,className:"group relative",style:{transformStyle:"preserve-3d"},whileHover:{scale:1.02},transition:{duration:.3},children:e.jsxs("div",{className:"relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),e.jsxs("div",{className:"relative p-8 md:p-10 border-b border-white/10",children:[e.jsxs(W.div,{className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-full backdrop-blur-sm mb-4",style:{background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.05},children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse shadow-lg shadow-white/50"}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Start selling smarter"})]}),e.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white mb-3",children:"Get Started Today"}),e.jsx("p",{className:"text-base md:text-lg text-white/90 font-medium",children:"Join 2,000+ agents already using our platform"})]}),e.jsxs("div",{className:"relative p-8 md:p-10",children:[e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsxs("div",{ref:y=>c.current[0]=y,children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-2.5",children:"Full Name *"}),e.jsx("input",{type:"text",name:"fullName",value:m.fullName,onChange:j,placeholder:"John Doe",className:"w-full px-5 py-4 rounded-xl border-2 backdrop-blur-sm text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white text-base font-semibold transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.2)"},required:!0})]}),e.jsxs("div",{ref:y=>c.current[1]=y,children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-2.5",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",value:m.email,onChange:j,placeholder:"john@example.com",className:"w-full px-5 py-4 rounded-xl border-2 backdrop-blur-sm text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white text-base font-semibold transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.2)"},required:!0})]}),e.jsxs("div",{ref:y=>c.current[2]=y,children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-2.5",children:"Real Estate Agency"}),e.jsx("input",{type:"text",name:"company",value:m.company,onChange:j,placeholder:"Your Agency Name",className:"w-full px-5 py-4 rounded-xl border-2 backdrop-blur-sm text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white text-base font-semibold transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.2)"}})]}),e.jsx("div",{ref:y=>c.current[3]=y,children:e.jsx(W.button,{type:"submit",className:"w-full px-6 py-4 bg-white text-blue-900 font-black rounded-xl transition-all duration-300 text-base shadow-2xl group/btn",whileHover:{scale:1.03},whileTap:{scale:.98},children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Start Free Trial",e.jsx("svg",{className:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-white/90 font-semibold",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"No credit card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Free 14-day trial"})]})]})})]})]})})]})]})]})},Oo=""+new URL("ai agent final animation video-B0_Z7GPN.mp4",import.meta.url).href,_o=()=>{const t=n.useRef(null),s=n.useRef(null),[a,r]=n.useState(!1),[o,i]=n.useState(!0),[c,l]=n.useState(0),[u,x]=n.useState(!1),m=()=>{t.current&&(a?t.current.pause():t.current.play(),r(!a))},f=()=>{t.current&&(t.current.muted=!o,i(!o))},d=()=>{t.current&&t.current.requestFullscreen&&t.current.requestFullscreen()};n.useEffect(()=>{const h=t.current;if(!h)return;const b=()=>{const A=h.currentTime/h.duration*100;l(A||0)},y=()=>r(!0),w=()=>r(!1);return h.addEventListener("timeupdate",b),h.addEventListener("play",y),h.addEventListener("pause",w),h.addEventListener("ended",()=>r(!1)),()=>{h.removeEventListener("timeupdate",b),h.removeEventListener("play",y),h.removeEventListener("pause",w),h.removeEventListener("ended",()=>r(!1))}},[]),n.useEffect(()=>{const h=t.current,b=s.current;if(!h||!b)return;const y=new IntersectionObserver(w=>{w.forEach(A=>{A.isIntersecting?(x(!0),h.muted=!0,i(!0),h.play().catch(N=>{console.log("Autoplay prevented:",N)})):h.pause()})},{threshold:.3});return y.observe(b),()=>{y.disconnect()}},[]);const j=["24/7 Lead Engagement","Smart Qualification","Auto Scheduling","CRM Integration"];return e.jsxs("section",{id:"showcase",className:"relative w-full py-12 md:py-20 overflow-hidden",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),e.jsx("div",{className:"container px-4 sm:px-6 lg:px-8 mx-auto relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(W.div,{className:"text-center mb-12 md:mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[e.jsxs(W.div,{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6",style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)"},initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),e.jsx("span",{className:"text-sm font-semibold text-blue-300",children:"AI-Powered Demo"})]}),e.jsxs("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["See Your Virtual Agent",e.jsx("span",{className:"block bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent mt-2",children:"in Action"})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Watch how our AI-powered avatars engage with prospects, qualify leads, and schedule visits while you focus on closing deals."})]}),e.jsxs(W.div,{ref:s,initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2},className:"relative group",children:[e.jsx("div",{className:"relative rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(147, 51, 234, 0.15))",padding:"3px"},children:e.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"relative aspect-video bg-black",children:[e.jsx("video",{ref:t,className:"w-full h-full object-cover",muted:!0,loop:!0,playsInline:!0,preload:"metadata",src:u?Oo:void 0,children:"Your browser does not support the video tag."}),e.jsx(W.div,{className:"absolute top-4 right-4 px-4 py-2 rounded-full backdrop-blur-md z-20",style:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(255, 255, 255, 0.2)"},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-bold text-slate-800",children:"LIVE DEMO"})]})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"h-1 bg-white/20 rounded-full overflow-hidden cursor-pointer",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-200",style:{width:`${c}%`}})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:m,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-all hover:scale-110",children:a?e.jsx(_a,{className:"w-5 h-5 text-white",fill:"white"}):e.jsx(Va,{className:"w-5 h-5 text-white ml-0.5",fill:"white"})}),e.jsx("button",{onClick:f,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-all hover:scale-110",children:o?e.jsx(en,{className:"w-5 h-5 text-white"}):e.jsx(tn,{className:"w-5 h-5 text-white"})})]}),e.jsx("button",{onClick:d,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-all hover:scale-110",children:e.jsx(qa,{className:"w-5 h-5 text-white"})})]})]})]})})}),e.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10",style:{background:"radial-gradient(circle at center, rgba(59, 130, 246, 0.4), transparent 70%)",filter:"blur(40px)"}})]}),e.jsx(W.div,{className:"flex flex-wrap justify-center gap-3 mt-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:j.map((h,b)=>e.jsxs(W.div,{className:"flex items-center gap-2 px-5 py-3 rounded-full backdrop-blur-sm",style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)"},initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:.5+b*.1},whileHover:{scale:1.05,background:"rgba(59, 130, 246, 0.15)"},children:[e.jsx(Ys,{className:"w-4 h-4 text-blue-400",strokeWidth:2.5}),e.jsx("span",{className:"text-sm font-semibold text-white",children:h})]},b))})]})})]})};ae.registerPlugin(Oe);const Vo=({icon:t,title:s,description:a,cardRef:r})=>e.jsx(W.div,{ref:r,className:"group relative h-full",style:{transformStyle:"preserve-3d"},whileHover:{scale:1.03,z:50},transition:{duration:.3},children:e.jsxs("div",{className:"relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700 cursor-pointer h-full",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),e.jsxs("div",{className:"relative p-8 flex flex-col h-full",children:[e.jsx(W.div,{className:"mb-6",style:{transformStyle:"preserve-3d",transform:"translateZ(40px)"},whileHover:{scale:1.15,rotate:360},transition:{duration:.6},children:e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-2xl",style:{background:"rgba(255, 255, 255, 0.1)",border:"3px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 10px 40px rgba(59, 130, 246, 0.4), inset 0 0 20px rgba(255,255,255,0.1)"},children:e.jsx("div",{className:"text-white",children:t})})}),e.jsxs("div",{className:"flex-1 flex flex-col",style:{transform:"translateZ(20px)"},children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white leading-tight mb-4",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.4)"},children:s}),e.jsx("p",{className:"text-sm md:text-base text-white/85 leading-relaxed flex-1",children:a})]}),e.jsx("div",{className:"absolute top-4 right-4 w-2.5 h-2.5 rounded-full bg-white/40 animate-pulse",style:{animationDuration:"2s"}})]}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-1000 ease-out",style:{background:"linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3))",boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"}})]})}),qo=()=>{const t=n.useRef(null),s=n.useRef(null),a=n.useRef(null),r=n.useRef(null),o=n.useRef([]),[i,c]=n.useState(!1);n.useEffect(()=>{const x=()=>c(window.innerWidth<768);return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),n.useEffect(()=>(ae.fromTo(s.current,{opacity:0,scale:.5,rotationY:-180},{opacity:1,scale:1,rotationY:0,duration:1,ease:"back.out(1.7)",scrollTrigger:{trigger:t.current,start:"top 70%"}}),ae.fromTo(a.current,{opacity:0,y:100,z:-100,rotationX:45},{opacity:1,y:0,z:0,rotationX:0,duration:1.2,delay:.3,ease:"power3.out",scrollTrigger:{trigger:t.current,start:"top 70%"}}),ae.fromTo(r.current,{opacity:0,y:30},{opacity:1,y:0,duration:.8,delay:.6,scrollTrigger:{trigger:t.current,start:"top 70%"}}),o.current.forEach((x,m)=>{x&&ae.fromTo(x,{opacity:0,rotateX:45,rotateY:-25,z:-200,scale:.8},{opacity:1,rotateX:0,rotateY:0,z:0,scale:1,duration:1.2,delay:.8+m*.1,ease:"power3.out",scrollTrigger:{trigger:t.current,start:"top 60%"}})}),()=>{Oe.getAll().forEach(x=>x.kill())}),[]);const l=({delay:x,duration:m,initialX:f,initialY:d,size:j=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:j,height:j},initial:{x:f,y:d,opacity:0},animate:{x:[f,f+50,f],y:[d,d-100,d],opacity:[0,.6,0]},transition:{duration:m,delay:x,repeat:1/0,ease:"easeInOut"}}),u=[{icon:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-7 h-7",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6"}),e.jsx("path",{d:"M12 17v6"}),e.jsx("path",{d:"m4.2 4.2 4.2 4.2"}),e.jsx("path",{d:"m15.6 15.6 4.2 4.2"}),e.jsx("path",{d:"M1 12h6"}),e.jsx("path",{d:"M17 12h6"}),e.jsx("path",{d:"m4.2 19.8 4.2-4.2"}),e.jsx("path",{d:"m15.6 8.4 4.2-4.2"})]}),title:"Avatar Management",description:"Create and customize AI avatars with unique appearances, voices, scripts, and availability. Preview and deploy in minutes."},{icon:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-7 h-7",children:[e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),e.jsx("path",{d:"M13 8H7"}),e.jsx("path",{d:"M17 12H7"})]}),title:"Lead Capture",description:"Web chat widget with voice/video calling via WebRTC. Your avatars engage visitors 24/7 with agent takeover when needed."},{icon:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-7 h-7",children:[e.jsx("path",{d:"M3 21h18"}),e.jsx("path",{d:"M5 21V7l8-4v18"}),e.jsx("path",{d:"M19 21V11l-6-4"})]}),title:"Property Management",description:"Add properties with images, specs, prices, floor plans, and 3D/AR assets. Create stunning property pages with lead attribution."},{icon:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-7 h-7",children:[e.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),e.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),e.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),title:"Smart Scheduling",description:"Integrated calendar booking with Google/iCal sync. Automated reminders via email, SMS, and WhatsApp keep prospects engaged."},{icon:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-7 h-7",children:[e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"})]}),title:"CRM Integration",description:"Two-way sync with HubSpot, Salesforce, Zoho, and proptech APIs. OAuth authentication with webhook-based lead attribution."},{icon:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-7 h-7",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9l-5-5-5 5v8"})]}),title:"Analytics & Commission",description:"Real-time dashboards track leads, conversions, and revenue. Automatic 1% commission calculation with detailed payout history."}];return e.jsxs("section",{ref:t,className:"overflow-hidden relative w-full py-16 md:py-24",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},id:"features",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!i&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((x,m)=>e.jsx(l,{delay:m*.4,duration:6+m*.3,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*3+1},m))}),e.jsxs("div",{className:"container px-6 lg:px-12 mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-20",style:{perspective:"1500px"},children:[e.jsxs("h2",{ref:a,className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-8 leading-tight",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",transform:"translateZ(100px)"},children:["Everything You Need to",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"Close More Deals"})]}),e.jsx("p",{ref:r,className:"text-base md:text-lg lg:text-xl text-white/90 leading-relaxed max-w-3xl mx-auto font-medium",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:"A complete platform for real estate agents and builders to deploy virtual sales agents and automate their sales process."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",style:{perspective:"2000px"},children:u.map((x,m)=>e.jsx(Vo,{icon:x.icon,title:x.title,description:x.description,index:m,cardRef:f=>o.current[m]=f},m))})]})]})};ae.registerPlugin(Oe);const Uo=()=>{const[t,s]=n.useState(""),[a,r]=n.useState(!1),[o,i]=n.useState(!1),c=n.useRef(null),l=n.useRef(null),u=n.useRef(null),x=n.useRef(null),m=n.useRef(null),f=n.useRef([]);n.useEffect(()=>{const b=()=>i(window.innerWidth<768);return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),n.useEffect(()=>(ae.fromTo(l.current,{opacity:0,scale:.5,rotationY:-180},{opacity:1,scale:1,rotationY:0,duration:1,ease:"back.out(1.7)",scrollTrigger:{trigger:c.current,start:"top 70%"}}),ae.fromTo(u.current,{opacity:0,y:100,z:-100,rotationX:45},{opacity:1,y:0,z:0,rotationX:0,duration:1.2,delay:.3,ease:"power3.out",scrollTrigger:{trigger:c.current,start:"top 70%"}}),ae.fromTo(x.current,{opacity:0,y:30},{opacity:1,y:0,duration:.8,delay:.6,scrollTrigger:{trigger:c.current,start:"top 70%"}}),ae.fromTo(m.current,{opacity:0,rotateX:45,rotateY:-25,z:-200,scale:.8},{opacity:1,rotateX:0,rotateY:0,z:0,scale:1,duration:1.2,delay:.8,ease:"power3.out",scrollTrigger:{trigger:c.current,start:"top 60%"}}),ae.fromTo(f.current,{opacity:0,x:-30,scale:.9},{opacity:1,x:0,scale:1,duration:.6,stagger:.1,ease:"power2.out",scrollTrigger:{trigger:m.current,start:"top 60%"}}),()=>{Oe.getAll().forEach(b=>b.kill())}),[]);const d=({delay:b,duration:y,initialX:w,initialY:A,size:N=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:N,height:N},initial:{x:w,y:A,opacity:0},animate:{x:[w,w+50,w],y:[A,A-100,A],opacity:[0,.6,0]},transition:{duration:y,delay:b,repeat:1/0,ease:"easeInOut"}}),j=b=>{if(b.preventDefault(),!t){alert("Please enter your email address");return}r(!0),setTimeout(()=>{alert("Thank you for subscribing! You'll receive updates about real estate virtual agents soon."),s(""),r(!1)},1e3)},h=["Weekly industry insights","Early access to new features","Exclusive agent tips"];return e.jsxs("section",{ref:c,className:"overflow-hidden relative w-full py-16 md:py-24",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},id:"newsletter",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!o&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((b,y)=>e.jsx(d,{delay:y*.4,duration:6+y*.3,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*3+1},y))}),e.jsx("div",{className:"container px-6 lg:px-12 mx-auto relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",style:{perspective:"1500px"},children:[e.jsxs("h2",{ref:u,className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-8 leading-tight",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",transform:"translateZ(100px)"},children:["Stay Ahead of",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"the Curve"})]}),e.jsx("p",{ref:x,className:"text-base md:text-lg lg:text-xl text-white/90 leading-relaxed font-medium",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:"Get the latest insights on real estate technology, AI agents, and industry trends"})]}),e.jsx(W.div,{ref:m,className:"group relative",style:{transformStyle:"preserve-3d",perspective:"2000px"},whileHover:{scale:1.02},transition:{duration:.3},children:e.jsxs("div",{className:"relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),e.jsxs("div",{className:"relative p-8 md:p-12 z-10",children:[e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:e.jsx(Ht,{className:"w-5 h-5 text-white/60",strokeWidth:2.5})}),e.jsx("input",{type:"email",value:t,onChange:b=>s(b.target.value),placeholder:"Enter your email address",className:"w-full pl-14 pr-6 py-4 rounded-xl border-2 backdrop-blur-sm text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white transition-all duration-300 text-base font-semibold",style:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.2)"},required:!0})]}),e.jsx(W.button,{type:"submit",disabled:a,className:"w-full px-8 py-4 bg-white text-blue-900 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-base disabled:opacity-50 disabled:cursor-not-allowed shadow-2xl",whileHover:{scale:1.03},whileTap:{scale:.98},children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-blue-900/30 border-t-blue-900 rounded-full animate-spin"}),"Subscribing..."]}):e.jsxs(e.Fragment,{children:["Subscribe Now",e.jsx(Fa,{className:"w-5 h-5",strokeWidth:2.5})]})})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-white/10",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.map((b,y)=>e.jsxs(W.div,{ref:w=>f.current[y]=w,className:"flex items-center gap-3 p-4 rounded-xl backdrop-blur-sm transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)"},whileHover:{scale:1.05,background:"rgba(255, 255, 255, 0.06)"},children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center shadow-lg",style:{background:"rgba(255, 255, 255, 0.95)"},children:e.jsx(Ke,{className:"w-3.5 h-3.5 text-blue-900",strokeWidth:3})}),e.jsx("span",{className:"text-sm md:text-base text-white font-semibold",children:b})]},y))})}),e.jsx(W.p,{className:"mt-6 text-sm text-center text-white/70 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:"By subscribing, you agree to receive emails from us. Unsubscribe anytime."})]}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-1000 ease-out",style:{background:"linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3))",boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"}})]})})]})})]})},os=()=>{const t=new Date().getFullYear(),s=[{label:"Home",href:"/"},{label:"Features",href:"#features"},{label:"Pricing",href:"#pricing"},{label:"Dasboard",href:"/login"}];return e.jsxs("footer",{className:"w-full relative overflow-hidden",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1",style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"}}),e.jsxs("div",{className:"container px-6 lg:px-12 mx-auto py-8 md:py-12 relative z-10",children:[e.jsx(W.div,{className:"flex flex-wrap justify-center items-center gap-6 md:gap-8 mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:s.map((a,r)=>e.jsxs(W.a,{href:a.href,className:"text-white/90 hover:text-white text-base md:text-lg font-semibold transition-colors relative group",whileHover:{scale:1.05},transition:{duration:.2},children:[a.label,e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-white/90 group-hover:w-full transition-all duration-300"})]},r))}),e.jsx("div",{className:"h-px w-full mb-6",style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent)"}}),e.jsx(W.div,{className:"text-center",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.2},children:e.jsxs("p",{className:"text-white/80 text-sm md:text-base font-medium",children:[" ",t," TrekEstateAgent. All rights reserved."]})})]})]})};ae.registerPlugin(Oe);const Mr=()=>{const t=n.useRef(null),s=n.useRef(null),a=n.useRef(null),r=n.useRef(null),o=n.useRef([]),i=n.useRef(null),c=n.useRef(null),l=n.useRef([]),[u,x]=n.useState(!1),{isVisible:m,hasAnimated:f}=ps({threshold:.15,rootMargin:"50px"});n.useEffect(()=>{const h=()=>x(window.innerWidth<768);return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),n.useEffect(()=>{if(m)return ae.fromTo(s.current,{opacity:0,scale:.8,rotationY:-90},{opacity:1,scale:1,rotationY:0,duration:.6,ease:"back.out(1.2)"}),ae.fromTo(a.current,{opacity:0,y:80},{opacity:1,y:0,duration:.8,delay:.1,ease:"power3.out"}),ae.fromTo(r.current,{opacity:0,y:20},{opacity:1,y:0,duration:.6,delay:.2,ease:"power3.out"}),o.current.forEach((h,b)=>{h&&ae.fromTo(h,{opacity:0,rotateX:25,y:40},{opacity:1,rotateX:0,y:0,duration:.6,delay:.15+b*.08,ease:"power3.out"})}),ae.fromTo(i.current,{opacity:0,y:40},{opacity:1,y:0,duration:.6,ease:"power3.out"}),ae.fromTo(c.current,{opacity:0,y:20},{opacity:1,y:0,duration:.5,delay:.1,ease:"power3.out"}),ae.fromTo(l.current,{opacity:0,y:30},{opacity:1,y:0,duration:.5,stagger:.1,ease:"power3.out"}),()=>{Oe.getAll().forEach(h=>h.kill())}},[m]);const d=({delay:h,duration:b,initialX:y,initialY:w,size:A=2})=>e.jsx(W.div,{className:"absolute rounded-full bg-white/20",style:{width:A,height:A},initial:{x:y,y:w,opacity:0},animate:{x:[y,y+50,y],y:[w,w-100,w],opacity:[0,.6,0]},transition:{duration:b,delay:h,repeat:1/0,ease:"easeInOut"}}),j=[{name:"Starter",price:"$49",period:"/month",description:"Perfect for individual agents getting started",icon:Gt,popular:!1,features:["1 Virtual Avatar","Up to 100 leads/month","Basic property management","Email support","Standard integrations","Basic analytics","1% commission on closed deals"],buttonText:"Start Free Trial"},{name:"Professional",price:"$99",period:"/month",description:"Ideal for growing real estate teams",icon:sn,popular:!0,features:["3 Virtual Avatars","Up to 500 leads/month","Advanced property management","Priority support","All CRM integrations","Advanced analytics & reporting","Team collaboration tools","Custom avatar training","1% commission on closed deals"],buttonText:"Get Started"},{name:"Enterprise",price:"Custom",period:"",description:"For large agencies and enterprises",icon:Ua,popular:!1,features:["Unlimited Virtual Avatars","Unlimited leads","White-label solution","Dedicated account manager","Custom integrations","Advanced security & compliance","Multi-location support","Custom reporting","Volume-based commission rates"],buttonText:"Contact Sales"}];return e.jsxs("div",{ref:t,className:"min-h-screen overflow-hidden relative",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e293b 50%, #1e3a8a 100%)"},id:"pricing",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(W.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),!u&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((h,b)=>e.jsx(d,{delay:b*.4,duration:6+b*.3,initialX:Math.random()*(typeof window<"u"?window.innerWidth:1e3),initialY:Math.random()*(typeof window<"u"?window.innerHeight:800),size:Math.random()*3+1},b))}),e.jsxs("div",{className:"container mx-auto px-6 lg:px-12 py-16 md:py-24 text-center relative z-10",style:{perspective:"1500px"},children:[e.jsxs("h1",{ref:a,className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-8 leading-tight",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",transform:"translateZ(100px)"},children:["Choose Your",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"Plan"})]}),e.jsx("p",{ref:r,className:"text-base md:text-lg lg:text-xl text-white/90 leading-relaxed max-w-3xl mx-auto font-medium",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:"Start converting more leads with AI-powered virtual sales agents. All plans include our 1% commission structure on closed deals."})]}),e.jsxs("div",{className:"py-16 md:py-20 px-6 lg:px-12 relative z-10",children:[e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-10",style:{perspective:"2000px"},children:j.map((h,b)=>{const y=h.icon;return e.jsx("div",{children:e.jsxs("div",{className:`relative backdrop-blur-2xl rounded-3xl overflow-hidden transition-all duration-700 h-full ${h.popular?"ring-4 ring-white shadow-2xl":""}`,style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1500",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}})}),h.popular&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-white text-blue-900 text-center py-3 font-black text-sm z-20",children:" Most Popular"}),e.jsxs("div",{className:`p-8 sm:p-10 relative z-10 ${h.popular?"pt-16":""}`,children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(W.div,{className:"p-4 rounded-2xl shadow-2xl",style:{background:h.popular?"rgba(255, 255, 255, 0.95)":"rgba(255, 255, 255, 0.1)",border:"3px solid rgba(255, 255, 255, 0.2)"},whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:e.jsx(y,{className:`w-8 h-8 ${h.popular?"text-blue-900":"text-white"}`,strokeWidth:2.5})})}),e.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white text-center mb-3",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.4)"},children:h.name}),e.jsx("p",{className:"text-center text-white/85 mb-6 text-sm md:text-base font-medium",children:h.description}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("span",{className:"text-5xl sm:text-6xl font-black text-white",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.4)"},children:h.price}),h.period&&e.jsx("span",{className:"text-xl text-white/80 font-bold",children:h.period})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:h.features.map((w,A)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-white flex items-center justify-center mt-0.5 shadow-lg",children:e.jsx(Ke,{size:12,className:"text-blue-900 stroke-[3]"})}),e.jsx("span",{className:"text-sm md:text-base text-white/90 font-medium",children:w})]},A))}),e.jsx("a",{href:"/login",children:e.jsx(W.button,{className:`w-full py-4 text-base font-black rounded-xl transition-all duration-300 ${h.popular?"bg-white text-blue-900 shadow-2xl":"border-2 border-white text-white"}`,style:{background:h.popular?"rgba(255, 255, 255, 0.95)":"rgba(255, 255, 255, 0.05)"},whileHover:{scale:1.05,background:h.popular?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.15)"},whileTap:{scale:.98},children:h.buttonText})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-1000 ease-out",style:{background:"linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3))",boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"}})]})})})}),e.jsxs("div",{className:"max-w-5xl mx-auto mt-32 sm:mt-40 relative z-10",children:[e.jsxs("div",{className:"text-center mb-16 sm:mb-20",style:{perspective:"1500px"},children:[e.jsxs("h2",{ref:i,className:"text-4xl sm:text-5xl lg:text-6xl font-black text-white mb-6",style:{textShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:["Frequently Asked"," ",e.jsx("span",{className:"block bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent mt-2",children:"Questions"})]}),e.jsx("p",{ref:c,className:"text-base md:text-lg lg:text-xl text-white/90 font-medium",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:"Everything you need to know about our pricing and features"})]}),e.jsx("div",{className:"space-y-6",children:[{question:"How does the commission structure work?",answer:"We charge a 1% commission only on deals that close through leads generated by our platform. This ensures we're aligned with your success."},{question:"Can I customize my avatars?",answer:"Yes! All plans include avatar customization. Professional and Enterprise plans offer advanced training and personality customization options."},{question:"What CRM integrations are available?",answer:"We integrate with HubSpot, Salesforce, Zoho, and most major real estate CRMs. Enterprise plans include custom integration development."},{question:"Is there a free trial?",answer:"Yes! Start with a 14-day free trial on any plan. No credit card required to begin."}].map((h,b)=>e.jsxs(W.div,{ref:y=>l.current[b]=y,className:"group p-8 rounded-2xl backdrop-blur-sm transition-all duration-300 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1+b*.08},whileHover:{scale:1.02,background:"rgba(255, 255, 255, 0.08)",borderColor:"rgba(255, 255, 255, 0.2)"},children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",style:{textShadow:"0 4px 20px rgba(0, 0, 0, 0.4)"},children:h.question}),e.jsx("p",{className:"text-sm md:text-base lg:text-lg text-white/85 leading-relaxed font-medium",children:h.answer})]},b))})]})]})]})},Bo=()=>(n.useEffect(()=>{const t=s=>{const r=s.target.getAttribute("href");if(!(r!=null&&r.startsWith("#")))return;s.preventDefault();const o=r.substring(1),i=document.getElementById(o);if(!i)return;const c=window.innerWidth<768?100:80,l=i.offsetTop-c;window.scrollTo({top:l,behavior:"smooth"})};return document.addEventListener("click",s=>{s.target.tagName==="A"&&t(s)}),()=>{document.removeEventListener("click",t)}},[]),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Vs,{}),e.jsxs("main",{children:[e.jsx(zo,{}),e.jsx(Do,{}),e.jsx($o,{}),e.jsx(Fo,{}),e.jsx(_o,{}),e.jsx(qo,{}),e.jsx(Mr,{}),e.jsx(Uo,{})]}),e.jsx(os,{})]})),ba={professional:{bgA:"#0f172a",bgB:"#1d4ed8",frame:"#1e293b",accent:"#60a5fa"},friendly:{bgA:"#0f172a",bgB:"#0d9488",frame:"#0f766e",accent:"#5eead4"},consultative:{bgA:"#111827",bgB:"#4338ca",frame:"#312e81",accent:"#a5b4fc"},energetic:{bgA:"#1f2937",bgB:"#ea580c",frame:"#9a3412",accent:"#fdba74"},luxury:{bgA:"#1f2937",bgB:"#a16207",frame:"#78350f",accent:"#fcd34d"}},Ho=t=>{let s=0;for(let a=0;a<t.length;a+=1)s=(s<<5)-s+t.charCodeAt(a),s|=0;return Math.abs(s)},Yo=t=>{const s=(t||"").toLowerCase();return s.includes("female")?{eye:"#f9a8d4",mouth:"#fda4af",antenna:"#f472b6",headRadius:20,browOffset:-8}:s.includes("male")?{eye:"#93c5fd",mouth:"#67e8f9",antenna:"#38bdf8",headRadius:16,browOffset:-10}:{eye:"#cbd5e1",mouth:"#94a3b8",antenna:"#64748b",headRadius:18,browOffset:-9}},Wo=t=>{if(!t)return"AI";const s=t.trim().split(/\s+/).filter(Boolean);return s.length===0?"AI":s.length===1?s[0].slice(0,2).toUpperCase():`${s[0][0]}${s[1][0]}`.toUpperCase()},Er=t=>{const s=t.tone||"professional",a=ba[s]||ba.professional,r=Yo(t.voice),o=Ho(`${t.name||""}-${t.voice||""}-${t.tone||""}`),i=8+o%4,c=10+o%8,l=o%2===0,u=(t.avatar||Wo(t.name||"")).slice(0,2).toUpperCase(),x=`
<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 128 128">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="${a.bgA}" />
      <stop offset="100%" stop-color="${a.bgB}" />
    </linearGradient>
  </defs>
  <rect x="4" y="4" width="120" height="120" rx="28" fill="url(#bg)" />
  <rect x="18" y="18" width="92" height="92" rx="24" fill="${a.frame}" opacity="0.62" />
  <line x1="64" y1="14" x2="64" y2="28" stroke="${r.antenna}" stroke-width="4" stroke-linecap="round" />
  <circle cx="64" cy="12" r="6" fill="${r.antenna}" />
  <rect x="28" y="34" width="72" height="52" rx="${r.headRadius}" fill="#0b1220" />
  <path d="M40 ${50+r.browOffset} Q52 ${44+r.browOffset} 64 ${50+r.browOffset}" stroke="${r.eye}" stroke-width="3" fill="none" stroke-linecap="round" />
  <circle cx="${64-i}" cy="58" r="5" fill="${r.eye}" />
  <circle cx="${64+i}" cy="58" r="5" fill="${r.eye}" />
  ${l?`<circle cx="${64-i-8}" cy="67" r="3" fill="${r.mouth}" opacity="0.5" />
  <circle cx="${64+i+8}" cy="67" r="3" fill="${r.mouth}" opacity="0.5" />`:""}
  <rect x="${64-Math.floor(c/2)}" y="72" width="${c}" height="5" rx="2.5" fill="${r.mouth}" />
  <text x="64" y="102" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="700" fill="${a.accent}">${u}</text>
</svg>`.trim();return`data:image/svg+xml;utf8,${encodeURIComponent(x)}`},fa="".replace(/\/+$/,""),Go=t=>t.startsWith("http://")||t.startsWith("https://"),Nt=t=>{if(t){if(!fa||!Go(t))return t;try{const a=new URL(t).pathname.replace(/^\/+/,"");return`${fa}/${a}`}catch{return t}}},Qo=t=>t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:"),Zo=xs.replace(/\/api\/?$/,""),Ko=t=>{if(t)return Qo(t)?t:Nt(`${Zo}${t.startsWith("/")?"":"/"}${t}`)},Mt=t=>({...t,tone:t.tone||"professional",avatarUrl:Nt(Ko(t.avatarUrl))||Er(t)}),Cs=(t=[])=>t.map(s=>({sender:s.sender,text:s.text||"",timestamp:s.timestamp,propertyCards:Array.isArray(s.propertyCards)?s.propertyCards:[]})),Xo=async t=>{const s=`${xs}${t}`,a=ut("accessToken")??"",r=await fetch(s,{method:"GET",headers:{Accept:"image/png",...a?{Authorization:`Bearer ${a}`}:{}},credentials:"include"});if(!r.ok)throw new Error(`QR fetch failed: ${r.status} ${r.statusText}`);const o=await r.blob();return new Promise((i,c)=>{const l=new FileReader;l.onloadend=()=>i(l.result),l.onerror=()=>c(new Error("FileReader failed reading QR blob")),l.readAsDataURL(o)})},qe={getAgents:async()=>(await F.get("/agents/agents")).data.map(Mt),createAgent:async t=>{const s=new FormData;s.append("name",t.name),s.append("personality",t.personality),s.append("description",t.description),t.voice&&s.append("voice",t.voice),t.tone&&s.append("tone",t.tone),t.avatar&&s.append("avatar",t.avatar),t.avatarFile&&s.append("avatarFile",t.avatarFile);const a=await F.post("/agents/createagent",s,{headers:{"Content-Type":"multipart/form-data"}});return Mt(a.data)},deleteAgent:async t=>{await F.delete(`/agents/${t}`)},toggleAgentStatus:async t=>{const s=await F.patch(`/agents/${t}/toggle`);return Mt(s.data)},getAgentQrCode:async t=>Xo(`/agents/${t}/qr`),getPublicAgent:async t=>{const s=await F.get(`/agents/${t}/public`);return Mt(s.data)},updateAgent:async(t,s)=>{const a=await F.put(`/agents/${t}`,s);return Mt(a.data)},chatWithAgent:async(t,s,a)=>{var o;const r=await F.post(`/agents/${t}/chat`,{message:s,sessionId:a});return{...r.data,history:Cs(((o=r.data)==null?void 0:o.history)||[])}},streamChatWithAgent:async(t,s,a,r)=>{const o=ut("accessToken")??"",i=await fetch(`${xs}/agents/${t}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},credentials:"include",body:JSON.stringify({message:s,sessionId:r})});if(!i.ok||!i.body)throw new Error(`Stream failed: ${i.status} ${i.statusText}`);const c=i.body.getReader(),l=new TextDecoder;let u="",x=null;for(;;){const{done:m,value:f}=await c.read();if(m)break;u+=l.decode(f,{stream:!0});const d=u.split(`

`);u=d.pop()??"";for(const j of d){const h=j.split(`
`).map(b=>b.trim()).filter(b=>b.startsWith("data:"));for(const b of h){const y=b.slice(5).trim();if(y)try{const w=JSON.parse(y);if(a(w),w.type==="done"&&(x={reply:w.reply,history:Cs(w.history||[]),properties:w.properties,lead:w.lead}),w.type==="error")throw new Error(w.message||"Streaming error")}catch(w){if(w instanceof Error)throw w}}}}if(!x)throw new Error("Stream ended without final payload");return x},getAgentChatHistory:async(t,s)=>{var r;const a=await F.get(`/agents/${t}/history`,{params:s?{sessionId:s}:void 0});return Cs(((r=a.data)==null?void 0:r.history)||[])},bookAppointment:async(t,s)=>(await F.post(`/agents/${t}/book`,s)).data,qualifyLead:async(t,s)=>(await F.post(`/agents/${t}/qualify`,s)).data},Jo=()=>{const[t,s]=n.useState([]),[a,r]=n.useState(!1),[o,i]=n.useState(null),[c,l]=n.useState(null),[u,x]=n.useState(null),m=n.useCallback(async()=>{var w,A;r(!0),i(null);try{const N=await qe.getAgents();s(N)}catch(N){const v=((A=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:A.message)||(N==null?void 0:N.message)||"Failed to fetch agents";i(v),console.error("fetchAgents error:",N)}finally{r(!1)}},[]),f=n.useCallback(async w=>{var A,N;r(!0),i(null);try{const v=await qe.createAgent(w);s(S=>[v,...S])}catch(v){const S=((N=(A=v==null?void 0:v.response)==null?void 0:A.data)==null?void 0:N.message)||(v==null?void 0:v.message)||"Failed to create agent";throw i(S),console.error("createAgent error:",v),v}finally{r(!1)}},[]),d=n.useCallback(async(w,A)=>{var N,v;r(!0),i(null);try{const S=await qe.updateAgent(w,A);s(P=>P.map(B=>B._id===w?{...B,...S}:B)),(c==null?void 0:c._id)===w&&l(P=>P&&{...P,...S})}catch(S){const P=((v=(N=S==null?void 0:S.response)==null?void 0:N.data)==null?void 0:v.message)||(S==null?void 0:S.message)||"Failed to update agent";throw i(P),console.error("updateAgent error:",S),S}finally{r(!1)}},[c==null?void 0:c._id]),j=n.useCallback(async w=>{var A,N;i(null),s(v=>v.filter(S=>S._id!==w));try{await qe.deleteAgent(w)}catch(v){const S=((N=(A=v==null?void 0:v.response)==null?void 0:A.data)==null?void 0:N.message)||(v==null?void 0:v.message)||"Failed to delete agent";throw i(S),console.error("deleteAgent error:",v),m(),v}},[m]),h=n.useCallback(async w=>{var A,N;i(null),s(v=>v.map(S=>{if(S._id!==w)return S;const P=S.status==="active"?"paused":"active";return{...S,status:P}}));try{const v=await qe.toggleAgentStatus(w);s(S=>S.map(P=>P._id===w?{...P,...v}:P))}catch(v){const S=((N=(A=v==null?void 0:v.response)==null?void 0:A.data)==null?void 0:N.message)||(v==null?void 0:v.message)||"Failed to toggle agent status";throw i(S),console.error("toggleAgentStatus error:",v),m(),v}},[m]),b=n.useCallback(async w=>{var A,N;x(null);try{const v=await qe.getAgentQrCode(w);x(v)}catch(v){const S=((N=(A=v==null?void 0:v.response)==null?void 0:A.data)==null?void 0:N.message)||(v==null?void 0:v.message)||"Failed to fetch QR code";i(S),console.error("fetchAgentQrCode error:",v)}},[]),y=n.useCallback(w=>{l(w),w||x(null)},[]);return{agents:t,loading:a,error:o,selectedAgent:c,qrCodeDataUrl:u,fetchAgents:m,createAgent:f,updateAgent:d,deleteAgent:j,toggleAgentStatus:h,fetchAgentQrCode:b,selectAgent:y}};function ei(){const t=lt(),{agents:s,loading:a,error:r,fetchAgents:o,createAgent:i,updateAgent:c,selectedAgent:l,selectAgent:u,qrCodeDataUrl:x,fetchAgentQrCode:m,deleteAgent:f,toggleAgentStatus:d}=Jo(),[j,h]=n.useState(!1),[b,y]=n.useState(!1),[w,A]=n.useState(!1),[N,v]=n.useState(!1),[S,P]=n.useState(!1),[B,G]=n.useState(""),[g,L]=n.useState("all"),[Q,$]=n.useState(null),[C,Y]=n.useState(null),[M,D]=n.useState(null),[E,_]=n.useState({name:"",personality:"",voice:"",tone:"professional",avatar:"",description:"",avatarFile:null}),[p,R]=n.useState({name:"",personality:"",voice:"",tone:"professional",avatar:"",description:""});n.useEffect(()=>{o()},[o]);const z=5,V=s.length,X=s.filter(T=>T.status==="active").length,oe=s.reduce((T,Z)=>T+Z.conversations,0),ke=s.reduce((T,Z)=>T+Z.conversions,0),de=oe>0?Math.round(ke/oe*100):0,We=V>0?Math.round(X/V*100):0,Te=V>0?Math.round(oe/V):0,Ee=s.filter(T=>{const Z=B.toLowerCase(),be=T.name.toLowerCase().includes(Z)||T.personality.toLowerCase().includes(Z)||T.description.toLowerCase().includes(Z),ye=g==="all"||T.status===g;return be&&ye}),pe=async()=>{if(!E.name||!E.personality||!E.description){$("Please fill in all required fields (Name, Personality, Description).");return}$(null);try{await i({name:E.name,personality:E.personality,voice:E.voice,tone:E.tone,avatar:E.avatar,description:E.description,avatarFile:E.avatarFile??void 0}),h(!1),_({name:"",personality:"",voice:"",tone:"professional",avatar:"",description:"",avatarFile:null}),$(null)}catch{}},Ue=T=>{u(T),m(T._id),y(!0)},H=()=>{y(!1),u(null)},K=T=>{const Z=s.find(ye=>ye._id===T),be=(Z==null?void 0:Z.name)||"Agent";t(`/leads?agentId=${encodeURIComponent(T)}&agentName=${encodeURIComponent(be)}`)},ce=T=>{const Z=s.find(ye=>ye._id===T),be=(Z==null?void 0:Z.name)||"Agent";t(`/visits?agentId=${encodeURIComponent(T)}&agentName=${encodeURIComponent(be)}`)},ie=T=>{Y(null),D(T),A(!0)},re=T=>{Y(null),D(T),R({name:T.name||"",personality:T.personality||"",voice:T.voice||"",tone:T.tone||"professional",avatar:T.avatar||"",description:T.description||""}),v(!0)},ne=T=>{Y(null),D(T),R({name:T.name||"",personality:T.personality||"",voice:T.voice||"",tone:T.tone||"professional",avatar:T.avatar||"",description:T.description||""}),P(!0)},Ne=async()=>{if(M){if(!p.name||!p.personality||!p.description){Y("Name, personality and description are required.");return}Y(null);try{await c(M._id,{name:p.name,personality:p.personality,voice:p.voice,tone:p.tone,avatar:p.avatar,description:p.description}),v(!1),D(null)}catch(T){Y(T instanceof Error?T.message:"Failed to update agent")}}},xe=async()=>{if(M){Y(null);try{await c(M._id,{voice:p.voice,tone:p.tone,status:M.status}),P(!1),D(null)}catch(T){Y(T instanceof Error?T.message:"Failed to update settings")}}},ve=()=>{if(!x||!l)return;const T=document.createElement("a");T.href=x,T.download=`${l.name.replace(/\s+/g,"_")}_qr.png`,T.click()};return a&&s.length===0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] flex items-center justify-center",children:e.jsx("p",{className:"text-white text-lg animate-pulse",children:"Loading agents..."})}):r&&s.length===0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-red-400 text-lg",children:r}),e.jsx("button",{onClick:o,className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-500 transition-colors",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] p-10",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none opacity-40",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-6 lg:px-8 py-8 lg:py-12",children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8 mb-12",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h1",{className:"text-6xl font-bold text-white tracking-tight",children:"AI Agents"}),e.jsx("p",{className:"text-lg text-slate-400",children:"Intelligent automation for your sales team"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-slate-900/40 border border-slate-800/50 rounded-full backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-white font-bold",children:V}),e.jsx("span",{className:"text-slate-500 mx-1.5",children:"/"}),e.jsx("span",{className:"text-slate-500",children:z})]})]}),e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Agents Used"})]}),e.jsx("button",{onClick:o,disabled:a,className:"p-3 bg-slate-900/40 border border-slate-800/50 rounded-full hover:bg-slate-800/50 hover:border-slate-700/50 transition-all duration-200 backdrop-blur-sm group disabled:opacity-50",children:e.jsx(at,{className:`w-4 h-4 text-slate-400 group-hover:text-slate-300 transition-all duration-500 ${a?"animate-spin":"group-hover:rotate-180"}`})}),e.jsxs("button",{onClick:()=>h(!0),disabled:V>=z,className:"group flex items-center gap-2.5 px-6 py-3 bg-white hover:bg-slate-100 disabled:bg-slate-800 disabled:text-slate-500 text-slate-900 rounded-full font-semibold transition-all duration-200 hover:scale-105 disabled:hover:scale-100 disabled:border disabled:border-slate-700",children:[e.jsx(rt,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),"Create Agent"]})]})]}),e.jsx("div",{className:"relative mb-8",children:e.jsxs("div",{className:"flex items-center justify-between gap-8 px-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-baseline gap-3 mb-1.5",children:e.jsx("span",{className:"text-5xl font-bold text-white tracking-tight",children:V})}),e.jsx("div",{className:"text-slate-400 font-medium",children:"Total Agents"}),e.jsxs("div",{className:"text-slate-600 text-sm mt-0.5",children:[z-V," slots available"]})]}),e.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-slate-700/30 to-transparent"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-baseline gap-3 mb-1.5",children:e.jsx("span",{className:"text-5xl font-bold text-white tracking-tight",children:X})}),e.jsx("div",{className:"text-slate-400 font-medium",children:"Active Now"}),e.jsxs("div",{className:"text-slate-600 text-sm mt-0.5",children:[We,"% active rate"]})]}),e.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-slate-700/30 to-transparent"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-baseline gap-3 mb-1.5",children:e.jsx("span",{className:"text-5xl font-bold text-white tracking-tight",children:oe.toLocaleString()})}),e.jsx("div",{className:"text-slate-400 font-medium",children:"Conversations"}),e.jsxs("div",{className:"text-slate-600 text-sm mt-0.5",children:["Avg ",Te.toLocaleString()," per agent"]})]}),e.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-slate-700/30 to-transparent"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-baseline gap-3 mb-1.5",children:e.jsxs("span",{className:"text-5xl font-bold text-white tracking-tight",children:[de,"%"]})}),e.jsx("div",{className:"text-slate-400 font-medium",children:"Conversion Rate"}),e.jsxs("div",{className:"text-slate-600 text-sm mt-0.5",children:[ke.toLocaleString()," total conversions"]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Yt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{type:"text",value:B,onChange:T=>G(T.target.value),placeholder:"Search agents...",className:"w-full pl-11 pr-4 py-3.5 bg-slate-900/30 border border-gray-400 rounded-xl text-white text-sm placeholder-slate-500 focus:outline-none focus:bg-slate-900/50 focus:border-slate-700/50 transition-all"})]}),e.jsxs("select",{value:g,onChange:T=>L(T.target.value),className:"px-4 py-3.5 bg-slate-900/30 border border-slate-800/50 rounded-xl text-slate-300 text-sm hover:bg-slate-900/50 transition-all focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"draft",children:"Draft"})]})]})]}),Ee.length===0?B||g!=="all"?e.jsx(ai,{}):e.jsx(si,{onCreateClick:()=>h(!0)}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Ee.map(T=>e.jsx(ti,{agent:T,onToggleStatus:()=>d(T._id),onShowQR:()=>Ue(T),onLeads:()=>K(T._id),onVisits:()=>ce(T._id),onView:()=>ie(T),onEdit:()=>re(T),onSettings:()=>ne(T),onDelete:()=>f(T._id)},T._id))})]}),j&&e.jsx(ri,{onClose:()=>h(!1),children:e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl border border-slate-700/50 max-w-md w-11/12 max-h-[85vh] overflow-y-auto shadow-2xl mx-auto",children:[e.jsxs("div",{className:"relative flex items-center justify-between p-8 border-b border-slate-700/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 rounded-t-2xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ds,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Create AI Agent"})]}),e.jsx("p",{className:"text-slate-400 text-sm ml-13",children:"Configure your intelligent sales assistant"})]}),e.jsx("button",{onClick:()=>h(!1),className:"relative p-2.5 hover:bg-slate-700/50 rounded-xl transition-all duration-200 group",children:e.jsx(Re,{className:"w-6 h-6 text-slate-400 group-hover:text-white group-hover:rotate-90 transition-all duration-300"})})]}),e.jsx("div",{className:"mx-8 mt-8",children:e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-transparent"}),e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Gt,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-blue-100 font-semibold text-lg mb-1",children:[z-V," Agent Slots Available"]}),e.jsxs("p",{className:"text-blue-300/70 text-sm leading-relaxed",children:["You're currently using"," ",e.jsxs("span",{className:"text-blue-200 font-medium",children:[V," of ",z]})," AI agents."]})]})]})]})}),e.jsxs("div",{className:"p-8 space-y-8",children:[Q&&e.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-200",children:Q}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Basic Information"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:["Agent Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:E.name,onChange:T=>_({...E,name:T.target.value}),placeholder:"e.g., Sarah - Sales Expert",className:"w-full px-5 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all hover:border-slate-600/50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:["Personality ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:E.personality,onChange:T=>_({...E,personality:T.target.value}),placeholder:"e.g., Professional & Friendly",className:"w-full px-5 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all hover:border-slate-600/50"}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"This defines how your agent communicates with clients"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:"Voice"}),e.jsxs("select",{value:E.voice,onChange:T=>_({...E,voice:T.target.value}),className:"w-full px-5 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all hover:border-slate-600/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Default (Male 1)"}),e.jsx("option",{value:"male-1",children:"Male 1"}),e.jsx("option",{value:"female-1",children:"Female 1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:"Agent Tone"}),e.jsxs("select",{value:E.tone,onChange:T=>_({...E,tone:T.target.value}),className:"w-full px-5 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all hover:border-slate-600/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"consultative",children:"Consultative"}),e.jsx("option",{value:"energetic",children:"Energetic"}),e.jsx("option",{value:"luxury",children:"Luxury"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Future voice-agent style preset for conversation tone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:"Avatar Text (Fallback)"}),e.jsx("input",{type:"text",value:E.avatar,onChange:T=>_({...E,avatar:T.target.value}),placeholder:"e.g., S (for Sarah)",maxLength:1,className:"w-full px-5 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all hover:border-slate-600/50"}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Single character to display if no image is uploaded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:"Avatar Image (Optional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var Z;return _({...E,avatarFile:((Z=T.target.files)==null?void 0:Z[0])??null})},className:"w-full text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600 file:cursor-pointer transition-all duration-200"}),E.avatarFile&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Selected: ",E.avatarFile.name]})]})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Role & Expertise"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2.5",children:["Description ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{value:E.description,onChange:T=>_({...E,description:T.target.value}),placeholder:"Describe the agent's expertise, communication style, and ideal use cases...",rows:4,className:"w-full px-5 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all resize-none hover:border-slate-600/50"}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Provide context to help the AI understand its role better"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 p-8 border-t border-slate-700/50 bg-slate-900/30",children:[e.jsxs("p",{className:"text-sm text-slate-400",children:[e.jsx("span",{className:"text-slate-300 font-medium",children:"Tip:"})," Clear descriptions lead to better agent performance"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700/30 hover:border-slate-600/50 transition-all duration-200 font-semibold",children:"Cancel"}),e.jsxs("button",{onClick:pe,disabled:!E.name||!E.personality||!E.description||a,className:"group px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-700 disabled:to-slate-700 disabled:text-slate-500 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 hover:scale-105 disabled:hover:scale-100 disabled:shadow-none flex items-center gap-2",children:[a?"Creating...":"Create Agent",e.jsx(St,{className:"w-4 h-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]})]})}),w&&M&&e.jsx(ts,{onClose:()=>{A(!1),D(null)},children:e.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-slate-700/70 bg-slate-900 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Agent Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"text-slate-300",children:[e.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.name]}),e.jsxs("p",{className:"text-slate-300",children:[e.jsx("span",{className:"text-slate-500",children:"Personality:"})," ",M.personality]}),e.jsxs("p",{className:"text-slate-300",children:[e.jsx("span",{className:"text-slate-500",children:"Voice:"})," ",M.voice||"Default"]}),e.jsxs("p",{className:"text-slate-300",children:[e.jsx("span",{className:"text-slate-500",children:"Tone:"})," ",M.tone||"professional"]}),e.jsxs("p",{className:"text-slate-300",children:[e.jsx("span",{className:"text-slate-500",children:"Status:"})," ",M.status]}),e.jsxs("p",{className:"text-slate-300",children:[e.jsx("span",{className:"text-slate-500",children:"Description:"})," ",M.description]})]}),e.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>K(M._id),className:"rounded-lg border border-blue-500/40 bg-blue-500/10 px-3 py-2 text-sm text-blue-200 hover:bg-blue-500/20",children:"View Leads"}),e.jsx("button",{type:"button",onClick:()=>ce(M._id),className:"rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-3 py-2 text-sm text-cyan-200 hover:bg-cyan-500/20",children:"View Visits"}),e.jsx("button",{type:"button",onClick:()=>{A(!1),D(null)},className:"rounded-lg border border-slate-700 px-3 py-2 text-sm text-slate-300 hover:bg-slate-800",children:"Close"})]})]})}),N&&M&&e.jsx(ts,{onClose:()=>{v(!1),D(null)},children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-700/70 bg-slate-900 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Edit Agent"}),C&&e.jsx("div",{className:"mb-4 rounded-lg border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-200",children:C}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{value:p.name,onChange:T=>R(Z=>({...Z,name:T.target.value})),placeholder:"Name",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100"}),e.jsx("input",{value:p.personality,onChange:T=>R(Z=>({...Z,personality:T.target.value})),placeholder:"Personality",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100"}),e.jsxs("select",{value:p.voice,onChange:T=>R(Z=>({...Z,voice:T.target.value})),className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100",children:[e.jsx("option",{value:"",children:"Default (Male 1)"}),e.jsx("option",{value:"male-1",children:"Male 1"}),e.jsx("option",{value:"female-1",children:"Female 1"})]}),e.jsxs("select",{value:p.tone,onChange:T=>R(Z=>({...Z,tone:T.target.value})),className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100",children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"consultative",children:"Consultative"}),e.jsx("option",{value:"energetic",children:"Energetic"}),e.jsx("option",{value:"luxury",children:"Luxury"})]}),e.jsx("input",{value:p.avatar,onChange:T=>R(Z=>({...Z,avatar:T.target.value})),maxLength:1,placeholder:"Avatar fallback letter",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 md:col-span-2"}),e.jsx("textarea",{value:p.description,onChange:T=>R(Z=>({...Z,description:T.target.value})),rows:4,placeholder:"Description",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 md:col-span-2 resize-none"})]}),e.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{v(!1),D(null)},className:"rounded-lg border border-slate-700 px-3 py-2 text-sm text-slate-300 hover:bg-slate-800",children:"Cancel"}),e.jsx("button",{type:"button",onClick:Ne,className:"rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-500",children:"Save Changes"})]})]})}),S&&M&&e.jsx(ts,{onClose:()=>{P(!1),D(null)},children:e.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-slate-700/70 bg-slate-900 p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Agent Settings"}),C&&e.jsx("div",{className:"mb-4 rounded-lg border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-200",children:C}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs text-slate-400",children:"Status"}),e.jsx("button",{type:"button",onClick:()=>d(M._id),className:"w-full rounded-lg border border-slate-700 bg-slate-800/70 px-3 py-2 text-left text-sm text-slate-100 hover:bg-slate-800",children:M.status==="active"?"Set to Paused":"Set to Active"}),e.jsx("label",{className:"block text-xs text-slate-400",children:"Voice"}),e.jsxs("select",{value:p.voice,onChange:T=>R(Z=>({...Z,voice:T.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100",children:[e.jsx("option",{value:"",children:"Default (Male 1)"}),e.jsx("option",{value:"male-1",children:"Male 1"}),e.jsx("option",{value:"female-1",children:"Female 1"})]}),e.jsx("label",{className:"block text-xs text-slate-400",children:"Tone"}),e.jsxs("select",{value:p.tone,onChange:T=>R(Z=>({...Z,tone:T.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100",children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"consultative",children:"Consultative"}),e.jsx("option",{value:"energetic",children:"Energetic"}),e.jsx("option",{value:"luxury",children:"Luxury"})]})]}),e.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{P(!1),D(null)},className:"rounded-lg border border-slate-700 px-3 py-2 text-sm text-slate-300 hover:bg-slate-800",children:"Cancel"}),e.jsx("button",{type:"button",onClick:xe,className:"rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-500",children:"Save Settings"})]})]})}),b&&l&&e.jsx(ts,{onClose:H,children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-800/50 w-full max-w-sm shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Share Agent"}),e.jsx("p",{className:"text-slate-500 text-sm mt-0.5",children:l.name})]}),e.jsx("button",{onClick:H,className:"p-2 hover:bg-slate-800/50 rounded-lg transition-all duration-200 group",children:e.jsx(Re,{className:"w-5 h-5 text-slate-500 group-hover:text-white transition-colors"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-5 mb-5",children:e.jsx("div",{className:"w-full aspect-square flex items-center justify-center overflow-hidden",children:x?e.jsx("img",{src:x,alt:`QR Code for ${l.name}`,loading:"eager",decoding:"sync",fetchPriority:"high",className:"w-full h-full object-contain"}):e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Ba,{className:"w-20 h-20 text-slate-300 animate-pulse"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Generating QR code"})]})})}),e.jsxs("div",{className:"text-center mb-5",children:[e.jsx("p",{className:"text-slate-300 font-medium text-sm mb-1",children:"Scan to start conversation"}),e.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:"Share this QR code with clients to instantly connect"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2.5 mb-4",children:[e.jsxs("button",{onClick:()=>{const T=`${window.location.origin}/agent/${l._id}`;navigator.clipboard.writeText(T)},className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-800 hover:border-slate-600/50 transition-all text-sm font-medium",children:[e.jsx(an,{className:"w-3.5 h-3.5"}),"Copy Link"]}),e.jsxs("button",{onClick:async()=>{const T=`${window.location.origin}/agent/${l._id}`;navigator.share?await navigator.share({title:l.name,url:T}):navigator.clipboard.writeText(T)},className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-800 hover:border-slate-600/50 transition-all text-sm font-medium",children:[e.jsx(rn,{className:"w-3.5 h-3.5"}),"Share"]})]}),e.jsxs("button",{onClick:()=>K(l._id),className:"w-full mb-2.5 flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 text-blue-200 rounded-lg font-semibold transition-all duration-200 text-sm",children:[e.jsx(Ye,{className:"w-4 h-4"}),"View Agent Leads"]}),e.jsxs("button",{onClick:ve,disabled:!x,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-white hover:bg-slate-100 disabled:bg-slate-200 disabled:text-slate-400 text-slate-900 rounded-lg font-semibold transition-all duration-200 text-sm",children:[e.jsx(Ha,{className:"w-4 h-4"}),"Download QR Code"]})]})]})})]})}function ti({agent:t,onToggleStatus:s,onShowQR:a,onLeads:r,onVisits:o,onView:i,onEdit:c,onSettings:l,onDelete:u}){const[x,m]=n.useState(!1),f={active:{label:"Active",color:"text-emerald-400",dot:"bg-emerald-400"},paused:{label:"Paused",color:"text-amber-400",dot:"bg-amber-400"},draft:{label:"Draft",color:"text-slate-500",dot:"bg-slate-500"}},d=f[t.status]??f.draft,j=t.conversations>0?Math.round(t.conversions/t.conversations*100):0;return e.jsx("div",{className:"group relative bg-slate-900/30 border border-slate-800/50 rounded-2xl p-6 hover:bg-slate-900/50 hover:border-slate-700/50 transition-all duration-300",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[t.avatarUrl?e.jsx("img",{src:t.avatarUrl,alt:`${t.name}'s avatar`,loading:"lazy",decoding:"async",fetchPriority:"low",className:"w-12 h-12 rounded-xl object-cover border border-slate-700/50"}):e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-slate-700 to-slate-800 border border-slate-700/50 rounded-xl flex items-center justify-center text-white font-bold text-sm",children:t.avatar||t.name.charAt(0).toUpperCase()}),t.status==="active"&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-emerald-400 border-2 border-slate-900 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1 truncate",children:t.name}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:t.personality}),e.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:["Tone: ",t.tone||"professional"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-2",children:[e.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-medium ${d.color}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d.dot}`}),d.label]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>m(!x),className:"p-1.5 hover:bg-slate-800/50 rounded-lg transition-all duration-200",children:e.jsx(Ya,{className:"w-4 h-4 text-slate-500"})}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-slate-800/95 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-2xl z-20 py-1.5 overflow-hidden",children:[e.jsxs("button",{onClick:()=>{m(!1),i()},className:"w-full px-3.5 py-2 text-left text-sm text-slate-300 hover:bg-slate-700/50 flex items-center gap-2.5 transition-colors",children:[e.jsx(Qt,{className:"w-3.5 h-3.5"})," View Details"]}),e.jsxs("button",{onClick:()=>{m(!1),c()},className:"w-full px-3.5 py-2 text-left text-sm text-slate-300 hover:bg-slate-700/50 flex items-center gap-2.5 transition-colors",children:[e.jsx(Ws,{className:"w-3.5 h-3.5"})," Edit Agent"]}),e.jsxs("button",{onClick:()=>{m(!1),l()},className:"w-full px-3.5 py-2 text-left text-sm text-slate-300 hover:bg-slate-700/50 flex items-center gap-2.5 transition-colors",children:[e.jsx(Da,{className:"w-3.5 h-3.5"})," Settings"]}),e.jsx("div",{className:"h-px bg-slate-700/50 my-1.5"}),e.jsxs("button",{onClick:()=>{m(!1),confirm(`Are you sure you want to delete agent "${t.name}"?`)&&u()},className:"w-full px-3.5 py-2 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2.5 transition-colors",children:[e.jsx(nt,{className:"w-3.5 h-3.5"})," Delete"]})]})]})]})]})]}),e.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-6 line-clamp-2",children:t.description}),e.jsxs("div",{className:"space-y-3.5 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Conversations"}),e.jsx("span",{className:"text-white font-semibold",children:t.conversations.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Conversions"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-white font-semibold",children:t.conversions}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-1 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-400 rounded-full transition-all duration-500",style:{width:`${j}%`}})}),e.jsxs("span",{className:"text-emerald-400 text-xs font-semibold w-9 text-right",children:[j,"%"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2.5",children:[e.jsxs("button",{onClick:a,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-800 hover:border-slate-600/50 hover:text-white transition-all duration-200 text-sm font-medium",children:[e.jsx(Ba,{className:"w-4 h-4"})," Share"]}),e.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600/15 border border-blue-500/30 text-blue-200 rounded-xl hover:bg-blue-600/25 transition-all duration-200 text-sm font-medium",children:[e.jsx(Ye,{className:"w-4 h-4"})," Leads"]}),e.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-cyan-600/15 border border-cyan-500/30 text-cyan-200 rounded-xl hover:bg-cyan-600/25 transition-all duration-200 text-sm font-medium",children:[e.jsx(Ye,{className:"w-4 h-4"})," Visits"]}),e.jsx("button",{onClick:s,className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 border ${t.status==="active"?"bg-amber-500/10 text-amber-400 border-amber-500/20 hover:bg-amber-500/20":"bg-emerald-500/10 text-emerald-400 border-emerald-500/20 hover:bg-emerald-500/20"}`,children:t.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(_a,{className:"w-4 h-4"})," Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(Va,{className:"w-4 h-4"})," Activate"]})})]})]})})}function si({onCreateClick:t}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 px-4",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 blur-3xl rounded-full"}),e.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-slate-800 to-slate-700 border border-slate-600/50 rounded-3xl flex items-center justify-center shadow-2xl",children:e.jsx($a,{className:"w-12 h-12 text-slate-400"})})]}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"No AI Agents Yet"}),e.jsx("p",{className:"text-slate-400 text-center max-w-md mb-8 leading-relaxed",children:"Create your first AI agent to automate conversations, qualify leads, and boost conversions 24/7."}),e.jsxs("button",{onClick:t,className:"group flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white rounded-xl font-bold transition-all duration-200 shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 hover:scale-105",children:[e.jsx(rt,{className:"w-6 h-6 group-hover:rotate-90 transition-transform duration-300"}),"Create Your First Agent"]})]})}function ai(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-800/50 border border-slate-700/50 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(Yt,{className:"w-10 h-10 text-slate-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Agents Found"}),e.jsx("p",{className:"text-slate-400 text-center max-w-md",children:"Try adjusting your search or filter criteria"})]})}function ri({children:t,onClose:s}){return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:s}),e.jsx("div",{className:"relative z-10 w-full my-8",children:t})]})}function ts({children:t,onClose:s}){return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:s}),e.jsx("div",{className:"relative z-10 w-full flex justify-center",children:t})]})}const Se=(t,s=0)=>{const a=Number(t);return Number.isFinite(a)?a:s},hs=t=>{var s,a,r,o,i,c,l,u,x,m,f,d,j;return{_id:String(t._id||""),title:String(t.title||""),price:Se(t.price),location:String(t.location||""),address:String(t.address||""),bedrooms:Se(t.bedrooms),bathrooms:Se(t.bathrooms),area:Se(t.area),areaUnit:String(t.areaUnit||"sq ft"),status:t.status||"draft",type:t.type||"single_family",yearBuilt:Se(t.yearBuilt),images:Array.isArray(t.images)?t.images.filter(Boolean).map(h=>Nt(String(h))||String(h)):[],imageVariants:Array.isArray(t.imageVariants)?t.imageVariants.filter(h=>(h==null?void 0:h.medium)||(h==null?void 0:h.thumb)||(h==null?void 0:h.full)).map(h=>({id:h.id,thumb:Nt(String(h.thumb||h.medium||h.full||""))||String(h.thumb||h.medium||h.full||""),medium:Nt(String(h.medium||h.full||h.thumb||""))||String(h.medium||h.full||h.thumb||""),full:Nt(String(h.full||h.medium||h.thumb||""))||String(h.full||h.medium||h.thumb||""),originalName:h.originalName})):[],description:String(t.description||""),leads:Se(t.leads),views:Se(t.views),conversions:Se(t.conversions),favorite:!!t.favorite,createdAt:String(t.createdAt||new Date().toISOString()),analytics:{riskScore:Se((s=t.analytics)==null?void 0:s.riskScore),investmentPotential:Se((a=t.analytics)==null?void 0:a.investmentPotential),rentalYield:Se((r=t.analytics)==null?void 0:r.rentalYield),appreciation:Se((o=t.analytics)==null?void 0:o.appreciation),demandScore:Se((i=t.analytics)==null?void 0:i.demandScore),marketValue:Se((c=t.analytics)==null?void 0:c.marketValue),pricePerSqFt:Se((l=t.analytics)==null?void 0:l.pricePerSqFt)},hazards:Array.isArray(t.hazards)?t.hazards:[],amenities:{transit:Array.isArray((u=t.amenities)==null?void 0:u.transit)?t.amenities.transit:[],education:Array.isArray((x=t.amenities)==null?void 0:x.education)?t.amenities.education:[],shopping:Array.isArray((m=t.amenities)==null?void 0:m.shopping)?t.amenities.shopping:[],parks:Array.isArray((f=t.amenities)==null?void 0:f.parks)?t.amenities.parks:[],healthcare:Array.isArray((d=t.amenities)==null?void 0:d.healthcare)?t.amenities.healthcare:[],other:Array.isArray((j=t.amenities)==null?void 0:j.other)?t.amenities.other:[]},createdBy:t.createdBy,organization:t.organization??null}},Pr=(t,s,a=[])=>{const r=new FormData;return r.append("data",JSON.stringify(t)),a.length>0&&r.append("deletedImages",JSON.stringify(a)),s.forEach(o=>r.append("images",o)),r},gs=(t,s)=>{var a,r;return typeof t=="object"&&t!==null&&"response"in t&&typeof((r=(a=t.response)==null?void 0:a.data)==null?void 0:r.message)=="string"?t.response.data.message:t instanceof Error&&t.message?t.message:s},ni=async()=>{var a;const t=await F.get("/properties/list");return(Array.isArray((a=t.data)==null?void 0:a.data)?t.data.data:[]).map(hs)},li=async(t,s,a)=>{var o,i;const r=Pr(t,s);try{const c=await F.post("/properties/create",r,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4,onUploadProgress:l=>{!l.total||!a||a(Math.min(Math.round(l.loaded/l.total*100),100))}});if(!((o=c.data)!=null&&o.data))throw new Error(((i=c.data)==null?void 0:i.message)||"Failed to create property");return hs(c.data.data)}catch(c){throw new Error(gs(c,"Failed to create property"))}},oi=async(t,s,a,r,o)=>{var c,l;const i=Pr(s,a,r);try{const u=await F.put(`/properties/update/${t}`,i,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4,onUploadProgress:x=>{!x.total||!o||o(Math.min(Math.round(x.loaded/x.total*100),100))}});if(!((c=u.data)!=null&&c.data))throw new Error(((l=u.data)==null?void 0:l.message)||"Failed to update property");return hs(u.data.data)}catch(u){throw new Error(gs(u,"Failed to update property"))}},ii=async t=>{var s,a;try{const r=await F.delete(`/properties/${t}`);if(!((s=r.data)!=null&&s.success))throw new Error(((a=r.data)==null?void 0:a.message)||"Failed to delete property")}catch(r){throw new Error(gs(r,"Failed to delete property"))}},ci=async t=>{var s,a;try{const r=await F.patch(`/properties/${t}/toggle-favorite`);if(!((s=r.data)!=null&&s.data))throw new Error(((a=r.data)==null?void 0:a.message)||"Failed to toggle favorite");return hs(r.data.data)}catch(r){throw new Error(gs(r,"Failed to toggle favorite"))}},ft={getProperties:ni,createProperty:li,updateProperty:oi,deleteProperty:ii,togglePropertyFavorite:ci},di=t=>{var s,a,r,o,i,c,l,u,x,m,f,d,j;return{title:t.title||"",price:Number(t.price)||0,location:t.location||"",address:t.address||"",bedrooms:Number(t.bedrooms)||0,bathrooms:Number(t.bathrooms)||0,area:Number(t.area)||0,areaUnit:t.areaUnit||"sq ft",status:t.status||"draft",type:t.type||"single_family",yearBuilt:Number(t.yearBuilt)||new Date().getFullYear(),images:Array.isArray(t.images)?t.images:[],description:t.description||"",leads:Number(t.leads)||0,views:Number(t.views)||0,favorite:!!t.favorite,analytics:{riskScore:Number((s=t.analytics)==null?void 0:s.riskScore)||0,investmentPotential:Number((a=t.analytics)==null?void 0:a.investmentPotential)||0,rentalYield:Number((r=t.analytics)==null?void 0:r.rentalYield)||0,appreciation:Number((o=t.analytics)==null?void 0:o.appreciation)||0,demandScore:Number((i=t.analytics)==null?void 0:i.demandScore)||0,marketValue:Number((c=t.analytics)==null?void 0:c.marketValue)||0,pricePerSqFt:Number((l=t.analytics)==null?void 0:l.pricePerSqFt)||0},hazards:Array.isArray(t.hazards)?t.hazards:[],amenities:{transit:((u=t.amenities)==null?void 0:u.transit)||[],education:((x=t.amenities)==null?void 0:x.education)||[],shopping:((m=t.amenities)==null?void 0:m.shopping)||[],parks:((f=t.amenities)==null?void 0:f.parks)||[],healthcare:((d=t.amenities)==null?void 0:d.healthcare)||[],other:((j=t.amenities)==null?void 0:j.other)||[]}}},ui=()=>{const[t,s]=n.useState([]),[a,r]=n.useState(null),[o,i]=n.useState(!1),[c,l]=n.useState("add"),[u,x]=n.useState(!1),[m,f]=n.useState("grid"),[d,j]=n.useState(0),[h,b]=n.useState(!0),[y,w]=n.useState(!1),[A,N]=n.useState(0),[v,S]=n.useState(null),P=n.useRef(!1),B=n.useCallback(async()=>{try{b(!0),S(null);const E=await ft.getProperties();s(E)}catch(E){S(E instanceof Error?E.message:"Failed to load properties")}finally{b(!1)}},[]);n.useEffect(()=>{B()},[B]);const G=n.useCallback(async E=>{const _=t;s(p=>p.map(R=>R._id===E?{...R,favorite:!R.favorite}:R));try{const p=await ft.togglePropertyFavorite(E);s(R=>R.map(z=>z._id===E?p:z))}catch(p){s(_),S(p instanceof Error?p.message:"Failed to update favorite")}},[t]),g=n.useCallback(E=>{r(E),j(0),x(!0)},[]),L=n.useCallback(()=>{r(null),l("add"),i(!0)},[]),Q=n.useCallback(E=>{r(E),l("edit"),i(!0)},[]),$=n.useCallback(async(E,_,p)=>{if(!P.current)try{P.current=!0,w(!0),N(0),S(null);const R=di(E);if(c==="add"){const z=await ft.createProperty(R,_,N);s(V=>[z,...V])}else if(a!=null&&a._id){const z=await ft.updateProperty(a._id,R,_,p||[],N);s(V=>V.map(X=>X._id===z._id?z:X)),r(z)}i(!1)}catch(R){S(R instanceof Error?R.message:"Failed to save property")}finally{w(!1),N(0),P.current=!1}},[c,a]),C=n.useCallback(async E=>{if(window.confirm("Delete this property? This action cannot be undone."))try{S(null),await ft.deleteProperty(E),s(p=>p.filter(R=>R._id!==E)),(a==null?void 0:a._id)===E&&(r(null),x(!1))}catch(p){S(p instanceof Error?p.message:"Failed to delete property")}},[a]),Y=n.useCallback(()=>{var _,p;const E=((_=a==null?void 0:a.imageVariants)==null?void 0:_.length)||((p=a==null?void 0:a.images)==null?void 0:p.length)||0;E&&j(R=>(R+1)%E)},[a]),M=n.useCallback(()=>{var _,p;const E=((_=a==null?void 0:a.imageVariants)==null?void 0:_.length)||((p=a==null?void 0:a.images)==null?void 0:p.length)||0;E&&j(R=>(R-1+E)%E)},[a]),D=n.useMemo(()=>{const E=t.length,_=t.filter(V=>V.status==="available").length,p=t.filter(V=>V.status==="sold").length,R=t.reduce((V,X)=>V+(X.leads||0),0),z=E>0?Math.round(t.reduce((V,X)=>{var oe;return V+(((oe=X.analytics)==null?void 0:oe.riskScore)||0)},0)/E):0;return{total:E,available:_,sold:p,totalLeads:R,averageRisk:z}},[t]);return{properties:t,setProperties:s,selectedProperty:a,isModalOpen:o,modalMode:c,isViewPropertyOpen:u,view:m,currentImageIndex:d,isLoading:h,isSaving:y,uploadProgress:A,error:v,stats:D,setIsViewPropertyOpen:x,setView:f,setCurrentImageIndex:j,setIsModalOpen:i,toggleFavorite:G,handleViewProperty:g,openAddModal:L,openEditModal:Q,handleSaveProperty:$,handleDeleteProperty:C,nextImage:Y,prevImage:M,fetchProperties:B}},Zt=on,mi=ln,zr=n.forwardRef(({className:t,...s},a)=>e.jsx(Wa,{ref:a,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));zr.displayName=Wa.displayName;const It=n.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(mi,{children:[e.jsx(zr,{}),e.jsxs(Ga,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(nn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));It.displayName=Ga.displayName;const Kt=({className:t,...s})=>e.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Kt.displayName="DialogHeader";const Dr=({className:t,...s})=>e.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Dr.displayName="DialogFooter";const Xt=n.forwardRef(({className:t,...s},a)=>e.jsx(Qa,{ref:a,className:le("text-lg font-semibold leading-none tracking-tight",t),...s}));Xt.displayName=Qa.displayName;const $r=n.forwardRef(({className:t,...s},a)=>e.jsx(Za,{ref:a,className:le("text-sm text-muted-foreground",t),...s}));$r.displayName=Za.displayName;const Ie=n.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));Ie.displayName="Input";const xi=Zs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=n.forwardRef(({className:t,...s},a)=>e.jsx(Ka,{ref:a,className:le(xi(),t),...s}));fe.displayName=Ka.displayName;const Fr=n.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));Fr.displayName="Textarea";const Et=hn,Pt=gn,vt=n.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Xa,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(cn,{asChild:!0,children:e.jsx(Ja,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=Xa.displayName;const Or=n.forwardRef(({className:t,...s},a)=>e.jsx(er,{ref:a,className:le("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(dn,{className:"h-4 w-4"})}));Or.displayName=er.displayName;const _r=n.forwardRef(({className:t,...s},a)=>e.jsx(tr,{ref:a,className:le("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ja,{className:"h-4 w-4"})}));_r.displayName=tr.displayName;const yt=n.forwardRef(({className:t,children:s,position:a="popper",...r},o)=>e.jsx(un,{children:e.jsxs(sr,{ref:o,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(Or,{}),e.jsx(mn,{className:le("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(_r,{})]})}));yt.displayName=sr.displayName;const pi=n.forwardRef(({className:t,...s},a)=>e.jsx(ar,{ref:a,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));pi.displayName=ar.displayName;const Ve=n.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(rr,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(xn,{children:e.jsx(Ke,{className:"h-4 w-4"})})}),e.jsx(pn,{children:s})]}));Ve.displayName=rr.displayName;const hi=n.forwardRef(({className:t,...s},a)=>e.jsx(nr,{ref:a,className:le("-mx-1 my-1 h-px bg-muted",t),...s}));hi.displayName=nr.displayName;const qs=n.forwardRef(({className:t,...s},a)=>e.jsxs(lr,{ref:a,className:le("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(bn,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(fn,{className:"absolute h-full bg-primary"})}),e.jsx(vn,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));qs.displayName=lr.displayName;const gi=yn,Vr=n.forwardRef(({className:t,...s},a)=>e.jsx(or,{ref:a,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Vr.displayName=or.displayName;const wt=n.forwardRef(({className:t,...s},a)=>e.jsx(ir,{ref:a,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));wt.displayName=ir.displayName;const jt=n.forwardRef(({className:t,...s},a)=>e.jsx(cr,{ref:a,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));jt.displayName=cr.displayName;const ss={title:"",price:"",location:"",address:"",bedrooms:"",bathrooms:"",area:"",areaUnit:"sq ft",status:"available",type:"single_family",yearBuilt:new Date().getFullYear(),images:[],description:"",leads:0,views:0,favorite:!1,createdAt:new Date().toISOString().split("T")[0],analytics:{riskScore:0,investmentPotential:0,rentalYield:0,appreciation:0,demandScore:0,marketValue:0,pricePerSqFt:0},hazards:[],demographics:{averageAge:0,averageIncome:"",familyRatio:0,education:"",populationDensity:"medium"},amenities:{transit:[],education:[],shopping:[],parks:[],healthcare:[],other:[]},marketInsights:{daysOnMarket:0,pricePerSqFt:0,comparableSales:0,marketTrend:"stable",avgDaysOnMarket:0},financials:{monthlyRent:0,propertyTax:0,insurance:0,maintenance:0,hoa:0},ownerInfo:{name:"",email:"",phone:"",since:new Date().toISOString().split("T")[0]}},bi=({isOpen:t,onClose:s,mode:a,initialData:r,onSave:o,isSubmitting:i=!1,uploadProgress:c=0})=>{const[l,u]=n.useState(ss),[x,m]=n.useState([]),[f,d]=n.useState([]),[j,h]=n.useState([]);n.useEffect(()=>{var C,Y,M,D,E,_;if(r&&a==="edit"){const p=Array.isArray(r.hazards)?r.hazards:r.hazards&&typeof r.hazards=="object"?Object.values(r.hazards):[];u({...ss,...r,hazards:p,images:Array.isArray(r.images)?r.images:[],amenities:{...ss.amenities,...r.amenities,transit:Array.isArray((C=r.amenities)==null?void 0:C.transit)?r.amenities.transit:[],education:Array.isArray((Y=r.amenities)==null?void 0:Y.education)?r.amenities.education:[],shopping:Array.isArray((M=r.amenities)==null?void 0:M.shopping)?r.amenities.shopping:[],parks:Array.isArray((D=r.amenities)==null?void 0:D.parks)?r.amenities.parks:[],healthcare:Array.isArray((E=r.amenities)==null?void 0:E.healthcare)?r.amenities.healthcare:[],other:Array.isArray((_=r.amenities)==null?void 0:_.other)?r.amenities.other:[]}}),d(r.images||[])}else u(ss),d([]);m([]),h([])},[r,t,a]);const b=C=>{u({...l,[C.target.name]:C.target.value})},y=(C,Y,M)=>{u({...l,[C]:{...l[C],[Y]:M}})},w=()=>{u({...l,hazards:[...l.hazards||[],{type:"flood",level:"low",description:""}]})},A=C=>{u({...l,hazards:(l.hazards||[]).filter((Y,M)=>M!==C)})},N=(C,Y,M)=>{const D=[...l.hazards||[]];D[C][Y]=M,u({...l,hazards:D})},v=(C,Y)=>{const M={...l.amenities};M[C].includes(Y)?M[C]=M[C].filter(D=>D!==Y):M[C].push(Y),u({...l,amenities:M})},S=C=>{const M=(C.target.files?Array.from(C.target.files):[]).filter(E=>E instanceof File);m([...x,...M]);const D=M.map(E=>URL.createObjectURL(E));d([...f,...D])},P=C=>{if(C<(l.images||[]).length)h([...j,l.images[C]]),u({...l,images:(l.images||[]).filter((Y,M)=>M!==C)});else{const Y=C-(l.images||[]).length;m(x.filter((M,D)=>D!==Y))}d(f.filter((Y,M)=>M!==C))},B=()=>{i||o(l,x,j)},G=[{value:"single_family",label:"Single Family Home"},{value:"condo",label:"Condominium"},{value:"townhouse",label:"Townhouse"},{value:"multi_family",label:"Multi-Family"},{value:"commercial",label:"Commercial"},{value:"land",label:"Land"}],g=[{value:"flood",label:"Flood",color:"bg-blue-500"},{value:"earthquake",label:"Earthquake",color:"bg-amber-600"},{value:"fire",label:"Fire",color:"bg-red-500"},{value:"landslide",label:"Landslide",color:"bg-orange-600"},{value:"hurricane",label:"Hurricane",color:"bg-cyan-600"},{value:"tornado",label:"Tornado",color:"bg-purple-600"}],L=[{value:"very_low",label:"Very Low"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"very_high",label:"Very High"}],Q={transit:[{value:"subway",label:"Subway"},{value:"bus",label:"Bus Stop"},{value:"train",label:"Train Station"},{value:"light_rail",label:"Light Rail"},{value:"airport",label:"Airport Nearby"}],education:[{value:"top_schools",label:"Top-Rated Schools"},{value:"good_schools",label:"Good Schools"},{value:"universities",label:"Universities"},{value:"colleges",label:"Colleges"}],shopping:[{value:"luxury_malls",label:"Luxury Shopping"},{value:"local_malls",label:"Shopping Centers"},{value:"grocery",label:"Grocery Stores"},{value:"boutiques",label:"Boutiques"}],parks:[{value:"community_parks",label:"Parks"},{value:"nature_preserve",label:"Nature Preserve"},{value:"playgrounds",label:"Playgrounds"},{value:"riverside_park",label:"Riverside"}],healthcare:[{value:"hospital",label:"Hospital"},{value:"clinics",label:"Medical Clinics"},{value:"specialty_clinics",label:"Specialty Care"},{value:"dentists",label:"Dental Care"}],other:[{value:"gym",label:"Fitness Center"},{value:"pool",label:"Swimming Pool"},{value:"concierge",label:"Concierge"},{value:"security",label:"24/7 Security"},{value:"garage",label:"Parking Garage"},{value:"garden",label:"Garden"}]},$=({label:C,value:Y,max:M=100,color:D="blue"})=>{const E=Y/M*100,_={blue:"bg-blue-500",orange:"bg-orange-500",purple:"bg-purple-500",green:"bg-emerald-500",red:"bg-red-500"};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:C}),e.jsxs("span",{className:"text-lg font-semibold text-white",children:[Y,"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${_[D]} transition-all duration-500 rounded-full`,style:{width:`${E}%`}})})]})};return e.jsx(Zt,{open:t,onOpenChange:s,children:e.jsxs(It,{className:"max-w-5xl max-h-[92vh] overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white border-gray-500 shadow-2xl p-2",children:[e.jsx("div",{className:"px-8 pt-8 pb-6 border-b border-slate-800/50 bg-gradient-to-r from-slate-900/50 to-transparent",children:e.jsx(Kt,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xt,{className:"text-3xl font-bold bg-gradient-to-r from-white via-slate-200 to-slate-400 bg-clip-text text-transparent",children:a==="add"?"Add New Property":"Edit Property"}),e.jsx($r,{className:"text-slate-400 text-base",children:a==="add"?"Create a comprehensive property listing with analytics and insights":"Update property information and market data"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30 flex items-center justify-center",children:e.jsx(qt,{className:"w-6 h-6 text-blue-400"})})})]})})}),e.jsxs(gi,{defaultValue:"basic",className:"w-full",children:[e.jsx("div",{className:"px-8 pt-6",children:e.jsxs(Vr,{className:"grid w-full grid-cols-5 bg-slate-900/50 p-1.5 rounded-xl border border-slate-800/50 backdrop-blur-sm",children:[e.jsxs(wt,{value:"basic",className:"rounded-lg text-sm font-medium text-slate-400 transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25",children:[e.jsx(wn,{className:"w-4 h-4 mr-2"}),"Basic Info"]}),e.jsxs(wt,{value:"details",className:"rounded-lg text-sm font-medium text-slate-400 transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25",children:[e.jsx(qt,{className:"w-4 h-4 mr-2"}),"Details"]}),e.jsxs(wt,{value:"analytics",className:"rounded-lg text-sm font-medium text-slate-400 transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25",children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),"Analytics"]}),e.jsxs(wt,{value:"risks",className:"rounded-lg text-sm font-medium text-slate-400 transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Risk"]}),e.jsxs(wt,{value:"amenities",className:"rounded-lg text-sm font-medium text-slate-400 transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Amenities"]})]})}),e.jsxs("div",{className:"px-8 pb-6 overflow-y-auto",style:{maxHeight:"calc(92vh - 280px)"},children:[e.jsxs(jt,{value:"basic",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(fe,{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-blue-400"}),"Property Title ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(Ie,{name:"title",placeholder:"e.g., Luxury Downtown Penthouse",value:l.title,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(fe,{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(dr,{className:"w-4 h-4 text-emerald-400"}),"Price ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(Ie,{name:"price",placeholder:"e.g., 55,00,000",value:l.price,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(fe,{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(Gs,{className:"w-4 h-4 text-purple-400"}),"Location ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(Ie,{name:"location",placeholder:"e.g., Downtown Financial District",value:l.location,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Full Address"}),e.jsx(Ie,{name:"address",placeholder:"e.g., 123 Skyline Boulevard, New York, NY 10001",value:l.address,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Property Type"}),e.jsxs(Et,{value:l.type,onValueChange:C=>u({...l,type:C}),children:[e.jsx(vt,{className:"bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",children:e.jsx(Pt,{placeholder:"Select property type"})}),e.jsx(yt,{className:"bg-slate-900 border-slate-700",children:G.map(C=>e.jsx(Ve,{value:C.value,className:"text-white hover:bg-slate-800",children:C.label},C.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Status"}),e.jsxs(Et,{value:l.status,onValueChange:C=>u({...l,status:C}),children:[e.jsx(vt,{className:"bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",children:e.jsx(Pt,{placeholder:"Select status"})}),e.jsxs(yt,{className:"bg-slate-900 border-slate-700",children:[e.jsx(Ve,{value:"available",className:"text-white hover:bg-slate-800",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Available"]})}),e.jsx(Ve,{value:"pending",className:"text-white hover:bg-slate-800",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Pending"]})}),e.jsx(Ve,{value:"sold",className:"text-white hover:bg-slate-800",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Sold"]})}),e.jsx(Ve,{value:"draft",className:"text-white hover:bg-slate-800",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"}),"Draft"]})})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(fe,{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(jn,{className:"w-4 h-4 text-pink-400"}),"Property Images"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"file-upload",type:"file",multiple:!0,onChange:S,className:"hidden",accept:"image/*",disabled:i}),e.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-700 rounded-xl bg-slate-900/30 hover:bg-slate-900/50 cursor-pointer transition-all group",children:[e.jsx(Nn,{className:"w-8 h-8 text-slate-500 group-hover:text-blue-400 transition-colors mb-2"}),e.jsxs("p",{className:"text-sm text-slate-400 group-hover:text-slate-300",children:[e.jsx("span",{className:"font-medium text-blue-400",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"PNG, JPG, WebP up to 10MB"})]})]}),f.length>0&&e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-4",children:f.map((C,Y)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:C,alt:`Preview ${Y+1}`,className:"w-full h-28 object-cover rounded-lg border border-slate-700"}),e.jsx("button",{onClick:()=>P(Y),className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all shadow-lg",children:e.jsx(Re,{size:14})}),Y===0&&e.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-md font-medium",children:"Cover"})]},Y))})]})]}),e.jsxs(jt,{value:"details",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Bedrooms"}),e.jsx(Ie,{type:"number",name:"bedrooms",placeholder:"3",value:l.bedrooms,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Bathrooms"}),e.jsx(Ie,{type:"number",name:"bathrooms",placeholder:"2",value:l.bathrooms,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(fe,{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(Oa,{className:"w-4 h-4 text-amber-400"}),"Year Built"]}),e.jsx(Ie,{type:"number",name:"yearBuilt",placeholder:"2020",value:l.yearBuilt,onChange:b,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Total Area"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ie,{name:"area",placeholder:"2400",value:l.area,onChange:b,className:"flex-1 bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all h-12 rounded-lg"}),e.jsxs(Et,{value:l.areaUnit,onValueChange:C=>u({...l,areaUnit:C}),children:[e.jsx(vt,{className:"w-32 bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg",children:e.jsx(Pt,{})}),e.jsxs(yt,{className:"bg-slate-900 border-slate-700",children:[e.jsx(Ve,{value:"sq ft",className:"text-white",children:"sq ft"}),e.jsx(Ve,{value:"sq m",className:"text-white",children:"sq m"}),e.jsx(Ve,{value:"acres",className:"text-white",children:"acres"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Property Description"}),e.jsx(Fr,{name:"description",placeholder:"Describe the property's unique features, amenities, location benefits, and what makes it special...",value:l.description,onChange:b,rows:6,className:"bg-slate-900/50 border-slate-700/50 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all rounded-lg resize-none"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[l.description.length," / 500 characters"]})]})]}),e.jsxs(jt,{value:"analytics",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-1 flex items-center gap-2",children:[e.jsx(cs,{className:"w-5 h-5 text-blue-400"}),"Investment Analytics"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Configure AI-powered market intelligence and performance metrics"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{label:"Investment Potential",value:l.analytics.investmentPotential,color:"blue"}),e.jsx(qs,{value:[l.analytics.investmentPotential],onValueChange:C=>y("analytics","investmentPotential",C[0]),max:100,step:1,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{label:"Risk Score",value:l.analytics.riskScore,color:"orange"}),e.jsx(qs,{value:[l.analytics.riskScore],onValueChange:C=>y("analytics","riskScore",C[0]),max:100,step:1,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Rental Yield (%)"}),e.jsx(Ie,{type:"number",step:"0.1",value:l.analytics.rentalYield,onChange:C=>y("analytics","rentalYield",parseFloat(C.target.value)||0),className:"bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Expected Appreciation (%)"}),e.jsx(Ie,{type:"number",step:"0.1",value:l.analytics.appreciation,onChange:C=>y("analytics","appreciation",parseFloat(C.target.value)||0),className:"bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Market Demand Score"}),e.jsx(Ie,{type:"number",value:l.analytics.demandScore,onChange:C=>y("analytics","demandScore",parseFloat(C.target.value)||0),className:"bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-sm font-medium text-slate-300",children:"Estimated Market Value"}),e.jsx(Ie,{type:"number",value:l.analytics.marketValue,onChange:C=>y("analytics","marketValue",parseFloat(C.target.value)||0),placeholder:"65,00,000",className:"bg-slate-900/50 border-slate-700/50 text-white h-12 rounded-lg"})]})]})]}),e.jsxs(jt,{value:"risks",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-1 flex items-center gap-2",children:[e.jsx(ys,{className:"w-5 h-5 text-orange-400"}),"Environmental & Safety Risks"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Identify and assess potential hazards affecting the property"})]}),e.jsxs(Ze,{variant:"outline",onClick:w,className:"w-full border-slate-700 hover:bg-slate-800 text-white h-12 rounded-lg",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Add Risk Hazard"]}),(()=>{const C=Array.isArray(l.hazards)?l.hazards:[];return C.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800/50 flex items-center justify-center mb-4",children:e.jsx(ys,{className:"w-8 h-8 text-slate-600"})}),e.jsx("p",{className:"text-slate-400 text-sm",children:"No risk hazards added yet"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Click the button above to add environmental risks"})]}):e.jsx("div",{className:"space-y-4",children:C.map((Y,M)=>e.jsx("div",{className:"p-5 border border-slate-700/50 rounded-xl bg-slate-900/30 hover:bg-slate-900/50 transition-all",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(fe,{className:"text-xs font-medium text-slate-400",children:"Hazard Type"}),e.jsxs(Et,{value:Y.type,onValueChange:D=>N(M,"type",D),children:[e.jsx(vt,{className:"bg-slate-800 border-slate-700 text-white h-11 rounded-lg",children:e.jsx(Pt,{})}),e.jsx(yt,{className:"bg-slate-900 border-slate-700",children:g.map(D=>e.jsx(Ve,{value:D.value,className:"text-white",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${D.color}`}),D.label]})},D.value))})]})]}),e.jsxs("div",{className:"col-span-3 space-y-2",children:[e.jsx(fe,{className:"text-xs font-medium text-slate-400",children:"Risk Level"}),e.jsxs(Et,{value:Y.level,onValueChange:D=>N(M,"level",D),children:[e.jsx(vt,{className:"bg-slate-800 border-slate-700 text-white h-11 rounded-lg",children:e.jsx(Pt,{})}),e.jsx(yt,{className:"bg-slate-900 border-slate-700",children:L.map(D=>e.jsx(Ve,{value:D.value,className:"text-white",children:D.label},D.value))})]})]}),e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(fe,{className:"text-xs font-medium text-slate-400",children:"Description"}),e.jsx(Ie,{placeholder:"Additional details...",value:Y.description,onChange:D=>N(M,"description",D.target.value),className:"bg-slate-800 border-slate-700 text-white h-11 rounded-lg"})]}),e.jsx("div",{className:"col-span-1 flex items-end",children:e.jsx(Ze,{variant:"ghost",size:"sm",onClick:()=>A(M),className:"w-full h-11 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:e.jsx(Re,{className:"w-4 h-4"})})})]})},M))})})()]}),e.jsxs(jt,{value:"amenities",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-1 flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-400"}),"Property Amenities & Features"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Select all available amenities and nearby facilities"})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(Q).map(([C,Y])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs(fe,{className:"text-sm font-medium text-slate-300 capitalize flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),C.replace("_"," ")]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(M=>{const D=(l.amenities[C]||[]).includes(M.value);return e.jsx("button",{onClick:()=>v(C,M.value),className:`px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${D?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25":"bg-slate-800/50 border border-slate-700 text-slate-300 hover:bg-slate-800 hover:border-slate-600"}`,children:M.label},M.value)})})]},C))})]})]})]}),e.jsxs("div",{className:"px-6 bg-gradient-to-r from-slate-900/50 to-transparent",children:[i?e.jsxs("div",{className:"mb-3 text-xs text-slate-300",children:["Uploading... ",c,"%"]}):null,i?e.jsx("div",{className:"mb-4 h-2 w-full rounded-full bg-slate-800 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 transition-all",style:{width:`${c}%`}})}):null,e.jsxs(Dr,{className:"flex justify-between items-center",children:[e.jsx(Ze,{variant:"outline",onClick:s,disabled:i,className:"border-slate-700 text-slate-300 hover:bg-slate-800 hover:text-white h-12 px-6 rounded-lg",children:"Cancel"}),e.jsx(Ze,{onClick:B,disabled:i,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white h-12 px-8 rounded-lg shadow-lg shadow-blue-500/25",children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2 inline-block h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}),a==="add"?"Creating...":"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"w-4 h-4 mr-2"}),a==="add"?"Create Property":"Save Changes"]})})]})]})]})})},st="-",tt=t=>typeof t=="number"&&Number.isFinite(t),Fe=(t,s={})=>{const{zeroAsMissing:a=!1,suffix:r=""}=s;return!tt(t)||a&&t<=0?st:`${t.toLocaleString()}${r}`},qr=t=>!tt(t)||t<=0?"":`${t.toLocaleString("en-IN")}`,ds=t=>typeof t!="string"||!t.trim()?"":t.trim(),fi=()=>{const{user:t}=xt(),s=lt(),{properties:a,selectedProperty:r,isModalOpen:o,modalMode:i,isViewPropertyOpen:c,currentImageIndex:l,isLoading:u,isSaving:x,uploadProgress:m,error:f,stats:d,setIsViewPropertyOpen:j,setIsModalOpen:h,toggleFavorite:b,handleViewProperty:y,openAddModal:w,openEditModal:A,handleSaveProperty:N,handleDeleteProperty:v,nextImage:S,prevImage:P,fetchProperties:B}=ui(),[G,g]=n.useState(""),[L,Q]=n.useState("all"),$=n.useMemo(()=>(t==null?void 0:t.role)==="owner"||(t==null?void 0:t.role)==="admin"?"Organization portfolio":"My portfolio",[t==null?void 0:t.role]),C=n.useMemo(()=>{const p=G.toLowerCase().trim();return a.filter(R=>{const z=`${R.title} ${R.location} ${R.address}`.toLowerCase();return(!p||z.includes(p))&&(L==="all"||R.status===L)})},[a,G,L]),Y=d.total>0?Math.round(d.available/d.total*100):0,M=d.total>0?Math.round(d.sold/d.total*100):0,D=d.total>0?(d.totalLeads/d.total).toFixed(1):"0.0",E=p=>{const R=a.find(V=>V._id===p),z=(R==null?void 0:R.title)||"Property";s(`/leads?propertyId=${encodeURIComponent(p)}&propertyName=${encodeURIComponent(z)}`)},_=p=>{const R=a.find(V=>V._id===p),z=(R==null?void 0:R.title)||"Property";s(`/visits?propertyId=${encodeURIComponent(p)}&propertyName=${encodeURIComponent(z)}`)};return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative h-12 w-12",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-500/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-t-2 border-blue-400 animate-spin"})]}),e.jsx("p",{className:"text-slate-400 text-sm animate-pulse",children:"Loading properties..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] p-4 sm:p-6 lg:p-10",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none opacity-40",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-6 lg:px-8 py-8 lg:py-12",children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8 mb-12",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-blue-400/70 font-medium",children:$}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white tracking-tight",children:"Properties"}),e.jsx("p",{className:"text-lg text-slate-400",children:"Manage your real estate portfolio"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex items-center gap-4 px-5 py-3 bg-slate-900/40 border border-slate-800/50 rounded-full backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),e.jsx("span",{className:"text-white font-bold text-sm",children:d.total}),e.jsx("span",{className:"text-slate-500 text-sm",children:"properties"})]})}),e.jsx("button",{type:"button",onClick:()=>void B(),className:"p-3 bg-slate-900/40 border border-slate-800/50 rounded-full hover:bg-slate-800/50 hover:border-slate-700/50 transition-all duration-200 backdrop-blur-sm group",children:e.jsx(at,{className:"w-4 h-4 text-slate-400 group-hover:text-slate-300 group-hover:rotate-180 transition-all duration-500"})}),e.jsxs("button",{type:"button",onClick:w,className:"group flex items-center gap-2.5 px-6 py-3 bg-white hover:bg-slate-100 text-slate-900 rounded-full font-semibold transition-all duration-200 hover:scale-105",children:[e.jsx(rt,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),"Add Property"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 px-0 sm:px-2 mb-10",children:[e.jsx(as,{value:d.total,label:"Total Properties",sub:`${d.available} available`}),e.jsx(as,{value:d.available,label:"Available",sub:`${Y}% available rate`}),e.jsx(as,{value:d.sold,label:"Sold",sub:`${M}% sold share`}),e.jsx(as,{value:d.totalLeads,label:"Total Leads",sub:`${D} avg leads/property`})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Yt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{value:G,onChange:p=>g(p.target.value),placeholder:"Search by title or location",className:"w-full pl-11 pr-4 py-3.5 bg-slate-900/30 border border-slate-800/50 rounded-xl text-white text-sm placeholder-slate-500 focus:outline-none focus:bg-slate-900/50 focus:border-slate-700/50 transition-all"})]}),e.jsxs("select",{value:L,onChange:p=>Q(p.target.value),className:"px-4 py-3.5 bg-slate-900/30 border border-slate-800/50 rounded-xl text-slate-300 text-sm hover:bg-slate-900/50 transition-all focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"sold",children:"Sold"}),e.jsx("option",{value:"draft",children:"Draft"})]})]})]}),f?e.jsxs("div",{className:"mb-6 rounded-xl border border-red-500/20 bg-red-500/10 px-4 py-3 text-red-300 text-sm flex items-center gap-2",children:[e.jsx(Ma,{className:"h-4 w-4 shrink-0"}),f]}):null,C.length===0?G||L!=="all"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-800/50 border border-slate-700/50 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(Yt,{className:"w-10 h-10 text-slate-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-slate-400 text-center max-w-md",children:"Try adjusting your search or filter criteria"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 px-4",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 blur-3xl rounded-full"}),e.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-slate-800 to-slate-700 border border-slate-600/50 rounded-3xl flex items-center justify-center shadow-2xl",children:e.jsx(qt,{className:"w-12 h-12 text-slate-400"})})]}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"No Properties Yet"}),e.jsx("p",{className:"text-slate-400 text-center max-w-md mb-8",children:"Add your first property to start managing your portfolio."}),e.jsxs("button",{type:"button",onClick:w,className:"group flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white rounded-xl font-bold transition-all duration-200 shadow-lg shadow-blue-500/25 hover:scale-105",children:[e.jsx(rt,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),"Add Your First Property"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:C.map(p=>e.jsx(vi,{property:p,onView:()=>y(p),onEdit:()=>A(p),onDelete:()=>void v(p._id),onFavorite:()=>void b(p._id),onLeads:()=>E(p._id),onVisits:()=>_(p._id)},p._id))})]}),e.jsx(bi,{isOpen:o,onClose:()=>h(!1),mode:i,initialData:r,onSave:N,isSubmitting:x,uploadProgress:m}),e.jsx(yi,{isOpen:c,property:r,currentImageIndex:l,onClose:()=>j(!1),onNext:S,onPrev:P,onEdit:r?()=>A(r):()=>{},onDelete:r?()=>void v(r._id):()=>{},onLeads:r?()=>E(r._id):()=>{},onVisits:r?()=>_(r._id):()=>{}}),x?e.jsxs("div",{className:"fixed bottom-6 right-6 rounded-xl bg-slate-900 border border-slate-700 px-5 py-3 text-slate-100 text-sm flex items-center gap-3 shadow-2xl",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border-t-2 border-blue-400 animate-spin"}),e.jsxs("span",{children:["Saving",m>0?`  ${m}%`:"..."]})]}):null]})},as=({value:t,label:s,sub:a})=>e.jsxs("div",{className:"min-w-0 rounded-xl border border-slate-800/50 bg-slate-900/25 p-4",children:[e.jsx("div",{className:"flex items-baseline gap-3 mb-1.5",children:e.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white tracking-tight",children:t.toLocaleString()})}),e.jsx("div",{className:"text-slate-400 font-medium text-sm md:text-base",children:s}),e.jsx("div",{className:"text-slate-600 text-xs md:text-sm mt-0.5 break-words",children:a})]}),us={available:{label:"Available",color:"text-emerald-400",dot:"bg-emerald-400",badge:"bg-emerald-400/10 text-emerald-300 border-emerald-400/30"},sold:{label:"Sold",color:"text-blue-400",dot:"bg-blue-400",badge:"bg-blue-400/10 text-blue-300 border-blue-400/30"},pending:{label:"Pending",color:"text-amber-400",dot:"bg-amber-400",badge:"bg-amber-400/10 text-amber-300 border-amber-400/30"},draft:{label:"Draft",color:"text-slate-500",dot:"bg-slate-500",badge:"bg-slate-500/10 text-slate-400 border-slate-500/30"}},Ur=({src:t,alt:s,className:a,eager:r=!1})=>{const[o,i]=n.useState(!1);return e.jsxs("div",{className:"relative h-full w-full bg-slate-900/90",children:[!o&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-r from-slate-800/80 via-slate-700/40 to-slate-800/80"}),e.jsx("img",{src:t,alt:s,loading:r?"eager":"lazy",decoding:r?"sync":"async",fetchPriority:r?"high":"auto",onLoad:c=>{const l=c.currentTarget;typeof l.decode=="function"?l.decode().catch(()=>{}).finally(()=>i(!0)):i(!0)},className:`${a??""} transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`})]})},vi=({property:t,onView:s,onEdit:a,onDelete:r,onFavorite:o,onLeads:i,onVisits:c})=>{var S,P,B,G,g,L;const l=us[t.status]??us.draft,u=((P=(S=t.imageVariants)==null?void 0:S[0])==null?void 0:P.thumb)||((G=(B=t.imageVariants)==null?void 0:B[0])==null?void 0:G.medium)||((g=t.images)==null?void 0:g[0])||"/placeholder.svg",m=tt(t.views)&&t.views>0&&tt(t.leads)?Math.round(t.leads/t.views*100):null,f=ds(t.title),d=qr(t.price),j=ds(t.location),h=Fe(t.bedrooms,{zeroAsMissing:!0}),b=Fe(t.bathrooms,{zeroAsMissing:!0}),y=Fe(t.area,{zeroAsMissing:!0,suffix:" sq.ft"}),w=[h!==st?`${h} bd`:null,b!==st?`${b} ba`:null,y!==st?y:null].filter(Boolean),A=Fe(t.views),N=Fe(t.leads),v=Fe((L=t.analytics)==null?void 0:L.riskScore,{zeroAsMissing:!0,suffix:"%"});return e.jsxs("article",{className:"group relative bg-slate-900/30 border border-slate-800/50 rounded-2xl overflow-hidden hover:bg-slate-900/50 hover:border-slate-700/50 transition-all duration-300",children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx(Ur,{src:u,alt:f,className:"h-full w-full object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1929]/65 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 text-[11px] px-2.5 py-1 rounded-full border font-medium ${l.badge}`,children:[e.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${l.dot}`}),l.label]})}),e.jsx("button",{type:"button",onClick:o,className:"absolute top-3 right-3 h-8 w-8 rounded-full bg-slate-900/70 border border-slate-700/60 inline-flex items-center justify-center backdrop-blur-sm hover:border-slate-500 hover:bg-slate-800 transition-all duration-200",children:e.jsx(Sn,{className:`h-3.5 w-3.5 transition-colors ${t.favorite?"fill-red-500 text-red-500":"text-slate-400"}`})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-1",children:[e.jsx("h3",{className:"text-white font-semibold text-base leading-tight break-words sm:truncate sm:flex-1",children:f}),e.jsx("span",{className:"text-white font-bold text-base shrink-0",children:d})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-xs mb-5",children:[e.jsx(Gs,{className:"h-3 w-3 shrink-0"}),e.jsx("span",{className:"truncate",children:j})]}),e.jsxs("div",{className:"space-y-3.5 mb-5",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Beds / Baths / Area"}),e.jsx("span",{className:"text-white font-semibold",children:w.length>0?w.join("  "):""})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Views"}),e.jsx("span",{className:"text-white font-semibold",children:A})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Leads"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("span",{className:"text-white font-semibold",children:N}),m!==null&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-1 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-400 rounded-full transition-all duration-500",style:{width:`${Math.min(m||0,100)}%`}})}),e.jsxs("span",{className:"text-emerald-400 text-xs font-semibold w-9 text-right",children:[m,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Risk Score"}),e.jsx("span",{className:"text-white font-semibold",children:v})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5",children:[e.jsxs("button",{type:"button",onClick:i,className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-cyan-500/10 border border-cyan-500/30 text-cyan-300 rounded-xl hover:bg-cyan-500/20 hover:border-cyan-400/40 transition-all duration-200 text-xs sm:text-sm font-medium",children:[e.jsx(Ye,{className:"w-4 h-4"})," Leads"]}),e.jsxs("button",{type:"button",onClick:c,className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-cyan-500/10 border border-cyan-500/30 text-cyan-300 rounded-xl hover:bg-cyan-500/20 hover:border-cyan-400/40 transition-all duration-200 text-xs sm:text-sm font-medium",children:[e.jsx(Bt,{className:"w-4 h-4"})," Visits"]}),e.jsxs("button",{type:"button",onClick:s,className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-800 hover:border-slate-600/50 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:[e.jsx(Qt,{className:"w-4 h-4"})," View"]}),e.jsxs("button",{type:"button",onClick:a,className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-800 hover:border-slate-600/50 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:[e.jsx(Qs,{className:"w-4 h-4"})," Edit"]}),e.jsxs("button",{type:"button",onClick:r,className:"col-span-2 sm:col-span-3 flex items-center justify-center gap-2 px-3 py-2.5 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl hover:bg-red-500/20 hover:border-red-500/40 transition-all duration-200 text-xs sm:text-sm font-medium",children:[e.jsx(nt,{className:"w-4 h-4"})," Delete"]})]})]})]})},yi=({isOpen:t,property:s,currentImageIndex:a,onClose:r,onNext:o,onPrev:i,onEdit:c,onDelete:l,onLeads:u,onVisits:x})=>{var $,C,Y;if(!s)return null;const m=us[s.status]??us.draft,f=($=s.imageVariants)!=null&&$.length?s.imageVariants.map(M=>M.full||M.medium||M.thumb):(C=s.images)!=null&&C.length?s.images:["/placeholder.svg"],d=f[a]||f[0],j=f.length>1,b=tt(s.views)&&s.views>0&&tt(s.leads)?Math.round(s.leads/s.views*100):null,y=ds(s.title),w=qr(s.price),A=ds(s.location),N=Fe(s.bedrooms,{zeroAsMissing:!0}),v=Fe(s.bathrooms,{zeroAsMissing:!0}),S=Fe(s.area,{zeroAsMissing:!0,suffix:" sq.ft"}),P=[N!==st?`${N} Bedrooms`:null,v!==st?`${v} Bathrooms`:null,S!==st?S:null].filter(Boolean),B=Fe(s.views),G=Fe(s.leads),g=(Y=s.analytics)==null?void 0:Y.riskScore,L=Fe(g,{zeroAsMissing:!0,suffix:"%"}),Q=tt(g)&&g>50?"text-red-400":tt(g)?"text-emerald-400":"text-slate-400";return e.jsx(Zt,{open:t,onOpenChange:r,children:e.jsxs(It,{className:"max-w-2xl bg-[#0d1b33] border border-slate-800/60 text-white p-0 overflow-hidden rounded-2xl shadow-2xl shadow-black/60 [&>button]:hidden",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx(Ur,{src:d,alt:y,eager:!0,className:"h-full w-full object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0d1b33] via-[#0d1b33]/25 to-transparent"}),j&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:i,className:"absolute left-3 top-1/2 -translate-y-1/2 h-9 w-9 rounded-full bg-slate-900/80 border border-slate-700/70 inline-flex items-center justify-center backdrop-blur-sm hover:bg-slate-800 transition-all",children:e.jsx(Cn,{className:"h-5 w-5 text-white"})}),e.jsx("button",{type:"button",onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 h-9 w-9 rounded-full bg-slate-900/80 border border-slate-700/70 inline-flex items-center justify-center backdrop-blur-sm hover:bg-slate-800 transition-all",children:e.jsx(Ea,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5",children:f.map((M,D)=>e.jsx("div",{className:`rounded-full transition-all duration-300 ${D===a?"h-1.5 w-5 bg-white":"h-1.5 w-1.5 bg-white/30"}`},D))})]}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 text-[11px] px-2.5 py-1 rounded-full border font-medium ${m.badge}`,children:[e.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${m.dot}`}),m.label]})}),e.jsx("button",{type:"button",onClick:r,className:"absolute top-4 right-4 h-8 w-8 rounded-full bg-slate-900/80 border border-slate-700/70 backdrop-blur-sm inline-flex items-center justify-center hover:bg-slate-800 transition-all group",children:e.jsx(Re,{className:"h-4 w-4 text-slate-400 group-hover:text-white group-hover:rotate-90 transition-all duration-300"})})]}),e.jsxs("div",{className:"px-7 pb-7",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight leading-tight",children:y}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:w}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Listed price"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-sm mb-6",children:[e.jsx(Gs,{className:"h-3.5 w-3.5 shrink-0"}),A]}),e.jsx("div",{className:"flex flex-wrap items-center gap-3 sm:gap-5 text-sm text-slate-400 mb-6 pb-6 border-b border-slate-800/50",children:P.length>0?P.map((M,D)=>e.jsxs(U.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[D===0?e.jsx(An,{className:"h-4 w-4 text-slate-600"}):null,D===1?e.jsx(In,{className:"h-4 w-4 text-slate-600"}):null,D===2?e.jsx(qa,{className:"h-4 w-4 text-slate-600"}):null,M]}),D<P.length-1?e.jsx("div",{className:"h-3 w-px bg-slate-700/50"}):null]},M)):e.jsx("span",{className:"text-slate-500",children:""})}),e.jsxs("div",{className:"space-y-4 mb-7",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Views"}),e.jsx("span",{className:"text-white font-semibold",children:B})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Leads"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("span",{className:"text-white font-semibold",children:G}),b!==null&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-1 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-400 rounded-full transition-all duration-500",style:{width:`${Math.min(b||0,100)}%`}})}),e.jsxs("span",{className:"text-emerald-400 text-xs font-semibold",children:[b,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Risk Score"}),e.jsx("span",{className:`font-semibold ${Q}`,children:L})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Status"}),e.jsxs("div",{className:`flex items-center gap-1.5 font-semibold ${m.color}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${m.dot}`}),m.label]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>{r(),u()},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-cyan-500/10 border border-cyan-500/20 text-cyan-300 rounded-xl hover:bg-cyan-500/20 hover:border-cyan-500/40 transition-all duration-200 text-sm font-medium",children:[e.jsx(Ye,{className:"w-4 h-4"})," View Leads"]}),e.jsxs("button",{type:"button",onClick:()=>{r(),x()},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-cyan-500/10 border border-cyan-500/20 text-cyan-300 rounded-xl hover:bg-cyan-500/20 hover:border-cyan-500/40 transition-all duration-200 text-sm font-medium",children:[e.jsx(Bt,{className:"w-4 h-4"})," View Visits"]}),e.jsxs("button",{type:"button",onClick:()=>{r(),c()},className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-800 hover:border-slate-600/50 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:[e.jsx(Qs,{className:"w-4 h-4"})," Edit Property"]}),e.jsxs("button",{type:"button",onClick:()=>{r(),l()},className:"sm:col-span-2 flex items-center justify-center gap-2 px-4 py-2.5 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl hover:bg-red-500/20 hover:border-red-500/40 transition-all duration-200 text-sm font-medium",children:[e.jsx(nt,{className:"w-4 h-4"})," Delete"]})]})]})]})})},zt=t=>({...t,status:t.status||"scheduled",buyerName:t.buyerName||"Unknown",sessionId:t.sessionId||"",dateTime:t.dateTime||new Date().toISOString()}),As=(t,s)=>{var a,r,o,i;return typeof t=="object"&&t!==null&&"response"in t&&typeof((r=(a=t.response)==null?void 0:a.data)==null?void 0:r.message)=="string"?((i=(o=t.response)==null?void 0:o.data)==null?void 0:i.message)||s:t instanceof Error&&t.message?t.message:s},Dt={getVisits:async t=>{var r,o,i,c;const s=await F.get("/visits",{params:t}),a=Array.isArray((r=s.data)==null?void 0:r.data)?s.data.data:[];return{total:Number(((o=s.data)==null?void 0:o.total)||a.length||0),page:Number(((i=s.data)==null?void 0:i.page)||1),pages:Number(((c=s.data)==null?void 0:c.pages)||1),data:a.map(zt)}},getVisit:async t=>{var a;const s=await F.get(`/visits/${t}`);if(!((a=s.data)!=null&&a.data))throw new Error("Visit not found");return zt(s.data.data)},createVisit:async t=>{var s,a;try{const r=await F.post("/visits",t);if(!((s=r.data)!=null&&s.data))throw new Error(((a=r.data)==null?void 0:a.message)||"Failed to create visit");return zt(r.data.data)}catch(r){throw new Error(As(r,"Failed to create visit"))}},updateVisit:async(t,s)=>{var a,r;try{const o=await F.put(`/visits/${t}`,s);if(!((a=o.data)!=null&&a.data))throw new Error(((r=o.data)==null?void 0:r.message)||"Failed to update visit");return zt(o.data.data)}catch(o){throw new Error(As(o,"Failed to update visit"))}},deleteVisit:async t=>{var s,a;try{const r=await F.delete(`/visits/${t}`);if(((s=r.data)==null?void 0:s.success)===!1)throw new Error(((a=r.data)==null?void 0:a.message)||"Failed to delete visit")}catch(r){throw new Error(As(r,"Failed to delete visit"))}},getUpcomingVisits:async(t=10)=>{var a;const s=await F.get("/visits/upcoming",{params:{limit:t}});return(Array.isArray((a=s.data)==null?void 0:a.data)?s.data.data:[]).map(zt)},getVisitStats:async()=>{var s,a,r,o,i,c,l,u,x,m;const t=await F.get("/visits/stats");return{total:Number(((a=(s=t.data)==null?void 0:s.data)==null?void 0:a.total)||0),scheduled:Number(((o=(r=t.data)==null?void 0:r.data)==null?void 0:o.scheduled)||0),completed:Number(((c=(i=t.data)==null?void 0:i.data)==null?void 0:c.completed)||0),cancelled:Number(((u=(l=t.data)==null?void 0:l.data)==null?void 0:u.cancelled)||0),no_show:Number(((m=(x=t.data)==null?void 0:x.data)==null?void 0:m.no_show)||0)}}},Is=["scheduled","completed","cancelled","no_show"],wi={scheduled:"bg-cyan-500/15 text-cyan-300 border-cyan-500/30",completed:"bg-emerald-500/15 text-emerald-300 border-emerald-500/30",cancelled:"bg-rose-500/15 text-rose-300 border-rose-500/30",no_show:"bg-amber-500/15 text-amber-300 border-amber-500/30"},Us=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`session-${Date.now()}`,va=t=>{var s;return typeof t.agent=="string"?t.agent:((s=t.agent)==null?void 0:s.name)||"-"},ya=t=>t.property?typeof t.property=="string"?t.property:t.property.title||"-":"-",ji=t=>{if(!t)return"-";const s=new Date(t);return Number.isNaN(s.getTime())?"-":s.toLocaleString()},Ni=t=>{if(!t)return"";const s=new Date(t);if(Number.isNaN(s.getTime()))return"";const a=s.getTimezoneOffset()*6e4;return new Date(s.getTime()-a).toISOString().slice(0,16)},ki=t=>{if(!t)return"";const s=new Date(t);return Number.isNaN(s.getTime())?"":s.toISOString()},wa=()=>({agent:"",property:"",sessionId:Us(),buyerName:"",buyerEmail:"",buyerPhone:"",dateTime:"",notes:"",status:"scheduled"});function Si(){const t=mt(),s=lt(),a=n.useMemo(()=>{const p=new URLSearchParams(t.search);return{agentId:p.get("agentId")||"",propertyId:p.get("propertyId")||"",agentName:p.get("agentName")||"",propertyName:p.get("propertyName")||""}},[t.search]),[r,o]=n.useState([]),[i,c]=n.useState([]),[l,u]=n.useState([]),[x,m]=n.useState(!1),[f,d]=n.useState(!1),[j,h]=n.useState(null),[b,y]=n.useState("all"),[w,A]=n.useState(""),[N,v]=n.useState(!1),[S,P]=n.useState(null),[B,G]=n.useState(wa()),g=n.useCallback(async()=>{m(!0),h(null);try{const[p,R,z]=await Promise.all([Dt.getVisits({limit:200}),qe.getAgents(),ft.getProperties()]);o(p.data),c(R),u(z)}catch(p){const R=p instanceof Error?p.message:"Failed to load visits";h(R)}finally{m(!1)}},[]);n.useEffect(()=>{g()},[g]);const L=n.useMemo(()=>{const p=w.trim().toLowerCase();return r.filter(R=>{var z,V;return a.agentId&&(typeof R.agent=="string"?R.agent:((z=R.agent)==null?void 0:z._id)||"")!==a.agentId||a.propertyId&&(R.property?typeof R.property=="string"?R.property:((V=R.property)==null?void 0:V._id)||"":"")!==a.propertyId||b!=="all"&&R.status!==b?!1:p?R.buyerName.toLowerCase().includes(p)||(R.buyerEmail||"").toLowerCase().includes(p)||(R.buyerPhone||"").toLowerCase().includes(p)||va(R).toLowerCase().includes(p)||ya(R).toLowerCase().includes(p)||R.sessionId.toLowerCase().includes(p):!0})},[a.agentId,a.propertyId,w,b,r]),Q=n.useMemo(()=>{const p=L.length,R=L.filter(oe=>oe.status==="scheduled").length,z=L.filter(oe=>oe.status==="completed").length,V=L.filter(oe=>oe.status==="cancelled").length,X=L.filter(oe=>oe.status==="no_show").length;return{total:p,scheduled:R,completed:z,cancelled:V,no_show:X}},[L]),$=a.agentId?`Showing visits for avatar: ${a.agentName||a.agentId}`:a.propertyId?`Showing visits for property: ${a.propertyName||a.propertyId}`:"Showing visits for all avatars and properties",C=()=>{P(null);const p=wa();a.agentId&&(p.agent=a.agentId),a.propertyId&&(p.property=a.propertyId),G(p),v(!0)},Y=p=>{var R,z;P(p),G({agent:typeof p.agent=="string"?p.agent:((R=p.agent)==null?void 0:R._id)||"",property:typeof p.property=="string"?p.property:((z=p.property)==null?void 0:z._id)||"",sessionId:p.sessionId||Us(),buyerName:p.buyerName||"",buyerEmail:p.buyerEmail||"",buyerPhone:p.buyerPhone||"",dateTime:Ni(p.dateTime),notes:p.notes||"",status:p.status||"scheduled"}),v(!0)},M=()=>{v(!1),P(null)},D=async()=>{if(!B.agent||!B.buyerName||!B.dateTime){h("Agent, buyer name and date/time are required.");return}const p=ki(B.dateTime);if(!p){h("Please choose a valid date and time.");return}const R={agent:B.agent,property:B.property||void 0,sessionId:B.sessionId||Us(),buyerName:B.buyerName.trim(),buyerEmail:B.buyerEmail.trim()||void 0,buyerPhone:B.buyerPhone.trim()||void 0,notes:B.notes.trim()||void 0,dateTime:p,status:B.status};d(!0),h(null);try{if(S){const z=R,V=await Dt.updateVisit(S._id,z);o(X=>X.map(oe=>oe._id===V._id?V:oe))}else{const z=await Dt.createVisit(R);o(V=>[z,...V])}M()}catch(z){const V=z instanceof Error?z.message:"Failed to save visit";h(V)}finally{d(!1)}},E=async(p,R)=>{try{const z=await Dt.updateVisit(p,{status:R});o(V=>V.map(X=>X._id===p?z:X))}catch(z){const V=z instanceof Error?z.message:"Failed to update visit status";h(V)}},_=async p=>{if(window.confirm("Delete this visit?"))try{await Dt.deleteVisit(p),o(z=>z.filter(V=>V._id!==p))}catch(z){const V=z instanceof Error?z.message:"Failed to delete visit";h(V)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628]",children:[e.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-6 lg:px-8 py-8 lg:py-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-5 mb-7",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold text-white tracking-tight",children:"Visits"}),e.jsx("p",{className:"text-cyan-300 mt-2 font-medium",children:$}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Manage scheduled, completed, cancelled and no-show visits."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(a.agentId||a.propertyId)&&e.jsx("button",{onClick:()=>s("/visits"),className:"px-4 py-2 rounded-full border border-slate-700 text-slate-200 hover:bg-slate-800/50 text-sm",children:"Show All Visits"}),e.jsx("button",{onClick:()=>void g(),className:"p-2.5 bg-slate-900/40 border border-slate-800/50 rounded-full hover:bg-slate-800/50 transition-all group","aria-label":"Refresh visits",children:e.jsx(at,{className:`w-4 h-4 text-slate-400 group-hover:text-white transition-all ${x?"animate-spin":""}`})}),e.jsxs("button",{onClick:C,className:"group flex items-center gap-2 px-5 py-2.5 bg-white hover:bg-slate-100 text-slate-900 rounded-full font-semibold transition-all",children:[e.jsx(rt,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),"New Visit"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsx($t,{icon:e.jsx(Bt,{className:"w-4 h-4 text-cyan-300"}),label:"Total",value:Q.total}),e.jsx($t,{icon:e.jsx(Bt,{className:"w-4 h-4 text-blue-300"}),label:"Scheduled",value:Q.scheduled}),e.jsx($t,{icon:e.jsx(Ys,{className:"w-4 h-4 text-emerald-300"}),label:"Completed",value:Q.completed}),e.jsx($t,{icon:e.jsx(ws,{className:"w-4 h-4 text-rose-300"}),label:"Cancelled",value:Q.cancelled}),e.jsx($t,{icon:e.jsx(ws,{className:"w-4 h-4 text-amber-300"}),label:"No Show",value:Q.no_show})]})]}),e.jsx("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl p-4 md:p-5 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{value:w,onChange:p=>A(p.target.value),placeholder:"Search buyer, email, phone, session, agent, property",className:"rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"}),e.jsxs("select",{value:b,onChange:p=>y(p.target.value),className:"rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:[e.jsx("option",{value:"all",children:"All Status"}),Is.map(p=>e.jsx("option",{value:p,children:p},p))]})]})}),j&&e.jsx("div",{className:"mb-4 rounded-xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:j}),e.jsx("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl overflow-hidden",children:x?e.jsx("div",{className:"p-10 text-center text-slate-300",children:"Loading visits..."}):L.length===0?e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("p",{className:"text-white font-semibold",children:"No visits found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create a visit or adjust search/filter."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-800/70",children:[e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Buyer"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Agent"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Property"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Date & Time"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Session"}),e.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(p=>e.jsxs("tr",{className:"border-b border-slate-800/40 hover:bg-slate-800/20 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm text-white font-semibold",children:p.buyerName}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:p.buyerEmail||p.buyerPhone||"-"})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:va(p)}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-300",children:ya(p)}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-300",children:ji(p.dateTime)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("select",{value:p.status,onChange:R=>void E(p._id,R.target.value),className:`text-xs border rounded-full px-2.5 py-1.5 bg-transparent ${wi[p.status]}`,children:Is.map(R=>e.jsx("option",{value:R,className:"bg-slate-900 text-slate-100",children:R},R))})}),e.jsx("td",{className:"px-4 py-3 text-xs text-slate-400 font-mono",children:p.sessionId}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>Y(p),className:"px-3 py-1.5 rounded-lg text-xs border border-slate-700 text-slate-200 hover:bg-slate-800/60",children:"Edit"}),e.jsxs("button",{onClick:()=>void _(p._id),className:"px-3 py-1.5 rounded-lg text-xs border border-rose-500/40 text-rose-300 hover:bg-rose-500/10 inline-flex items-center gap-1",children:[e.jsx(nt,{className:"w-3.5 h-3.5"}),"Delete"]})]})})]},p._id))})]})})})]}),N&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/55 flex items-center justify-center p-4",onClick:p=>{p.target===p.currentTarget&&!f&&M()},children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-700/70 bg-slate-900 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800 px-5 py-4",children:[e.jsx("h2",{className:"text-white text-lg font-semibold",children:S?"Edit Visit":"Create Visit"}),e.jsx("button",{type:"button",onClick:M,className:"rounded-lg p-2 text-slate-400 hover:bg-slate-800 hover:text-white",children:e.jsx(ws,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Agent *"}),e.jsxs("select",{value:B.agent,onChange:p=>G(R=>({...R,agent:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:[e.jsx("option",{value:"",children:"Select Agent"}),i.map(p=>e.jsx("option",{value:p._id,children:p.name},p._id))]})]}),e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Property"}),e.jsxs("select",{value:B.property,onChange:p=>G(R=>({...R,property:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:[e.jsx("option",{value:"",children:"No Property"}),l.map(p=>e.jsx("option",{value:p._id,children:p.title},p._id))]})]}),e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Buyer Name *"}),e.jsx("input",{value:B.buyerName,onChange:p=>G(R=>({...R,buyerName:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]}),e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Buyer Email"}),e.jsx("input",{value:B.buyerEmail,onChange:p=>G(R=>({...R,buyerEmail:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]}),e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Buyer Phone"}),e.jsx("input",{value:B.buyerPhone,onChange:p=>G(R=>({...R,buyerPhone:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]}),e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Date & Time *"}),e.jsx("input",{type:"datetime-local",value:B.dateTime,onChange:p=>G(R=>({...R,dateTime:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]}),e.jsxs("label",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Status"}),e.jsx("select",{value:B.status,onChange:p=>G(R=>({...R,status:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:Is.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("label",{className:"space-y-1 md:col-span-2",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Session ID *"}),e.jsx("input",{value:B.sessionId,onChange:p=>G(R=>({...R,sessionId:p.target.value})),className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 font-mono focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]}),e.jsxs("label",{className:"space-y-1 md:col-span-2",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Notes"}),e.jsx("textarea",{value:B.notes,onChange:p=>G(R=>({...R,notes:p.target.value})),rows:3,className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35 resize-none"})]})]}),e.jsxs("div",{className:"border-t border-slate-800 px-5 py-4 flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:M,disabled:f,className:"px-4 py-2 rounded-lg border border-slate-700 text-slate-300 hover:bg-slate-800 disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>void D(),disabled:f,className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white disabled:opacity-60",children:f?"Saving...":S?"Update Visit":"Create Visit"})]})]})})]})}function $t({icon:t,label:s,value:a}){return e.jsxs("div",{className:"rounded-xl border border-slate-800/60 bg-slate-900/35 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-slate-400",children:s}),e.jsx("span",{children:t})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:a})]})}class Ci{async getLeads(){const s=await F.get("/leads");return Array.isArray(s.data)?s.data:[]}async getLeadById(s){return(await F.get(`/leads/${s}`)).data}async createLead(s){return(await F.post("/leads",s)).data}async updateLead(s,a){return(await F.put(`/leads/${s}`,a)).data}async deleteLead(s){return(await F.delete(`/leads/${s}`)).data}async getOrganizationTeamMembers(){const s=await F.get("/settings/organization/team");return Array.isArray(s.data)?s.data:[]}async getAvailableAgents(){const s=await F.get("/agents/agents");return Array.isArray(s.data)?s.data:[]}async getAvailableProperties(){const s=await F.get("/properties/list");return Array.isArray(s.data)?s.data:[]}}const et=new Ci,Rs={agent:"",sessionId:"",property:"",status:"new",leadQuality:"auto",contactName:"",contactEmail:"",contactPhone:"",budgetMin:"",budgetMax:"",notes:""};function Ai(t){return t?typeof t=="string"?t:t._id||null:null}function Ii(t){return t&&(t.id||t._id)||null}function ja(t){return/^[a-fA-F0-9]{24}$/.test(t)}function Ri(t){var pe,Ue;const{user:s}=xt(),{toast:a}=Ct(),[r,o]=n.useState([]),[i,c]=n.useState([]),[l,u]=n.useState([]),[x,m]=n.useState(!1),[f,d]=n.useState(!1),[j,h]=n.useState(null),[b,y]=n.useState(""),[w,A]=n.useState("all"),[N,v]=n.useState("all"),[S,P]=n.useState(null),[B,G]=n.useState(!1),[g,L]=n.useState("create"),[Q,$]=n.useState(null),[C,Y]=n.useState(Rs),M=n.useMemo(()=>!!s&&(s.role==="owner"||s.role==="admin")&&(s.accountType==="organization"||!!s.workingUnderOrganization),[s]),D=n.useMemo(()=>Ii(s),[s]),E=((pe=t==null?void 0:t.agentId)==null?void 0:pe.trim())||"",_=((Ue=t==null?void 0:t.propertyId)==null?void 0:Ue.trim())||"",p=n.useCallback(async()=>{m(!0);try{const[H,K,ce,ie]=await Promise.allSettled([et.getLeads(),M?et.getOrganizationTeamMembers():Promise.resolve([]),et.getAvailableAgents(),et.getAvailableProperties()]);if(H.status==="rejected")throw H.reason;const re=H.value,ne=K.status==="fulfilled"?K.value:[],Ne=ce.status==="fulfilled"?ce.value:[],xe=ie.status==="fulfilled"?ie.value:[];c(Ne),u(xe);const ve=new Map;D&&ve.set(D,{name:`${s.firstName||""} ${s.lastName||""}`.trim()||"You",email:s.email}),ne.forEach(Z=>{ve.set(Z.user._id,{name:`${Z.user.firstName} ${Z.user.lastName}`.trim()||"Team Member",email:Z.user.email})});const T=re.map(Z=>{const be=Ai(Z.createdBy),ye=be?ve.get(be):void 0,we=typeof Z.createdBy=="object"?Z.createdBy:void 0,Be=`${(we==null?void 0:we.firstName)||""} ${(we==null?void 0:we.lastName)||""}`.trim()||"Unknown",Le=we==null?void 0:we.email;return{...Z,ownerName:(ye==null?void 0:ye.name)||Be,ownerEmail:(ye==null?void 0:ye.email)||Le,isMine:!!be&&!!D&&be===D}});o(T)}catch(H){const K=H instanceof Error?H.message:"Failed to load leads";a({title:"Error",description:K,variant:"destructive"})}finally{m(!1)}},[D,M,a,s]);n.useEffect(()=>{p()},[p]);const R=n.useMemo(()=>{const H=b.trim().toLowerCase();return r.filter(K=>{var ye,we,Be,Le,ot,_e,it,pt,ct,dt;const ce=((Be=(we=(ye=K.qualification)==null?void 0:ye.contactInfo)==null?void 0:we.name)==null?void 0:Be.toLowerCase())||"",ie=((_e=(ot=(Le=K.qualification)==null?void 0:Le.contactInfo)==null?void 0:ot.email)==null?void 0:_e.toLowerCase())||"",re=((ct=(pt=(it=K.qualification)==null?void 0:it.contactInfo)==null?void 0:pt.phone)==null?void 0:ct.toLowerCase())||"",ne=((dt=K.sessionId)==null?void 0:dt.toLowerCase())||"",Ne=K.ownerName.toLowerCase(),xe=!H||ce.includes(H)||ie.includes(H)||re.includes(H)||ne.includes(H)||Ne.includes(H),ve=w==="all"||K.status===w,T=N==="all"||K.leadQuality===N,Z=!E||K.agent===E,be=!_||K.property===_;return xe&&ve&&T&&Z&&be})},[r,N,E,_,b,w]),z=n.useMemo(()=>{const H=R.length,K=R.filter(ne=>ne.leadQuality==="hot"||ne.leadQuality==="very_hot").length,ce=R.filter(ne=>ne.status==="new").length,ie=R.filter(ne=>ne.status==="closed").length,re=R.filter(ne=>ne.isMine).length;return{total:H,hot:K,newLeads:ce,closed:ie,mine:re}},[R]),V=n.useCallback(H=>M?!0:H.isMine,[M]),X=V,oe=n.useCallback(()=>{var H;L("create"),$(null),Y({...Rs,agent:((H=i[0])==null?void 0:H._id)||""}),G(!0)},[i]),ke=n.useCallback(H=>{var K,ce,ie,re,ne,Ne,xe,ve,T,Z,be;L("edit"),$(H._id),Y({agent:H.agent||"",sessionId:H.sessionId||"",property:H.property||"",status:H.status,leadQuality:H.leadQuality||"auto",contactName:((ce=(K=H.qualification)==null?void 0:K.contactInfo)==null?void 0:ce.name)||"",contactEmail:((re=(ie=H.qualification)==null?void 0:ie.contactInfo)==null?void 0:re.email)||"",contactPhone:((Ne=(ne=H.qualification)==null?void 0:ne.contactInfo)==null?void 0:Ne.phone)||"",budgetMin:(ve=(xe=H.qualification)==null?void 0:xe.budget)!=null&&ve.min?String(H.qualification.budget.min):"",budgetMax:(Z=(T=H.qualification)==null?void 0:T.budget)!=null&&Z.max?String(H.qualification.budget.max):"",notes:((be=H.qualification)==null?void 0:be.notes)||""}),G(!0)},[]),de=n.useCallback(()=>{const H={agent:C.agent.trim(),sessionId:C.sessionId.trim(),status:C.status};C.property.trim()&&(H.property=C.property.trim()),C.leadQuality!=="auto"&&(H.leadQuality=C.leadQuality);const K={};return(C.contactName.trim()||C.contactEmail.trim()||C.contactPhone.trim())&&(K.contactInfo={},C.contactName.trim()&&(K.contactInfo.name=C.contactName.trim()),C.contactEmail.trim()&&(K.contactInfo.email=C.contactEmail.trim()),C.contactPhone.trim()&&(K.contactInfo.phone=C.contactPhone.trim())),(C.budgetMin.trim()||C.budgetMax.trim())&&(K.budget={},C.budgetMin.trim()&&(K.budget.min=Number(C.budgetMin)),C.budgetMax.trim()&&(K.budget.max=Number(C.budgetMax))),C.notes.trim()&&(K.notes=C.notes.trim()),Object.keys(K).length>0&&(H.qualification=K),H},[C]),We=n.useCallback(async()=>{var K,ce,ie,re;const H=de();if(!H.agent||!H.sessionId){a({title:"Missing required fields",description:"Agent ID and Session ID are required.",variant:"destructive"});return}if(i.length===0){a({title:"No agents available",description:"Create an agent first, then create a lead.",variant:"destructive"});return}if(!ja(H.agent)){a({title:"Invalid Agent ID",description:"Please select a valid agent.",variant:"destructive"});return}if(H.property&&!ja(H.property)){a({title:"Invalid Property ID",description:"Please select a valid property or leave property empty.",variant:"destructive"});return}if(((ce=(K=H.qualification)==null?void 0:K.budget)==null?void 0:ce.min)!==void 0&&((re=(ie=H.qualification)==null?void 0:ie.budget)==null?void 0:re.max)!==void 0&&H.qualification.budget.min>H.qualification.budget.max){a({title:"Invalid budget",description:"Budget minimum cannot be greater than budget maximum.",variant:"destructive"});return}d(!0);try{if(g==="create")await et.createLead(H),a({title:"Lead created",description:"New lead added successfully."});else if(Q){const ne=H;await et.updateLead(Q,ne),a({title:"Lead updated",description:"Lead updated successfully."})}G(!1),Y(Rs),$(null),await p()}catch(ne){const Ne=ne instanceof Error?ne.message:"Failed to save lead";a({title:"Error",description:Ne,variant:"destructive"})}finally{d(!1)}},[i.length,de,Q,g,p,a]),Te=n.useCallback(async(H,K)=>{const ce=r.find(re=>re._id===H);if(!ce||!V(ce)){a({title:"Access denied",description:"You do not have permission to update this lead.",variant:"destructive"});return}const ie=ce.status;o(re=>re.map(ne=>ne._id===H?{...ne,status:K}:ne));try{await et.updateLead(H,{status:K}),a({title:"Status updated",description:`Lead moved to ${K}.`})}catch(re){o(Ne=>Ne.map(xe=>xe._id===H?{...xe,status:ie}:xe));const ne=re instanceof Error?re.message:"Failed to update status";a({title:"Error",description:ne,variant:"destructive"})}},[V,r,a]),Ee=n.useCallback(async H=>{const K=r.find(ie=>ie._id===H);if(!K||!X(K)){a({title:"Access denied",description:"You do not have permission to delete this lead.",variant:"destructive"});return}if(window.confirm("Delete this lead permanently?")){h(H);try{await et.deleteLead(H),o(ie=>ie.filter(re=>re._id!==H)),a({title:"Lead deleted",description:"Lead removed successfully."}),(S==null?void 0:S._id)===H&&P(null)}catch(ie){const re=ie instanceof Error?ie.message:"Failed to delete lead";a({title:"Error",description:re,variant:"destructive"})}finally{h(null)}}},[X,r,S,a]);return{user:s,loading:x,submitting:f,deletingLeadId:j,isOwnerOrAdmin:M,search:b,setSearch:y,statusFilter:w,setStatusFilter:A,qualityFilter:N,setQualityFilter:v,leads:R,totalLeads:R.length,stats:z,selectedLead:S,setSelectedLead:P,isFormOpen:B,setIsFormOpen:G,formMode:g,form:C,setForm:Y,availableAgents:i,availableProperties:l,loadLeads:p,openCreateModal:oe,openEditModal:ke,submitForm:We,updateLeadStatus:Te,deleteLead:Ee,canManageLead:V,canDeleteLead:X}}const Bs=[{value:"all",label:"All Status"},{value:"new",label:"New"},{value:"qualifying",label:"Qualifying"},{value:"interested",label:"Interested"},{value:"viewing_scheduled",label:"Viewing Scheduled"},{value:"negotiating",label:"Negotiating"},{value:"booked",label:"Booked"},{value:"closed",label:"Closed"},{value:"nurture",label:"Nurture"},{value:"lost",label:"Lost"}],Ti=[{value:"all",label:"All Quality"},{value:"cold",label:"Cold"},{value:"warm",label:"Warm"},{value:"hot",label:"Hot"},{value:"very_hot",label:"Very Hot"}],Li={new:"bg-sky-500/15 text-sky-300 border-sky-500/30",qualifying:"bg-indigo-500/15 text-indigo-300 border-indigo-500/30",interested:"bg-emerald-500/15 text-emerald-300 border-emerald-500/30",viewing_scheduled:"bg-cyan-500/15 text-cyan-300 border-cyan-500/30",negotiating:"bg-amber-500/15 text-amber-300 border-amber-500/30",booked:"bg-purple-500/15 text-purple-300 border-purple-500/30",closed:"bg-green-600/20 text-green-300 border-green-500/40",nurture:"bg-slate-500/15 text-slate-300 border-slate-500/30",lost:"bg-rose-500/15 text-rose-300 border-rose-500/30"},Mi={cold:"bg-slate-500/15 text-slate-300 border-slate-500/30",warm:"bg-yellow-500/15 text-yellow-300 border-yellow-500/30",hot:"bg-orange-500/15 text-orange-300 border-orange-500/30",very_hot:"bg-red-500/15 text-red-300 border-red-500/30"};function _t(t){if(!t)return"-";const s=new Date(t);return Number.isNaN(s.getTime())?"-":s.toLocaleString()}function Hs(t){var s,a;return((a=(s=t.qualification)==null?void 0:s.contactInfo)==null?void 0:a.name)||"Unnamed Lead"}function Br(t){var s,a;return((a=(s=t.qualification)==null?void 0:s.contactInfo)==null?void 0:a.email)||"-"}function Hr(t){var s,a;return((a=(s=t.qualification)==null?void 0:s.contactInfo)==null?void 0:a.phone)||"-"}function Ei(){const t=mt(),s=lt(),a=n.useMemo(()=>{const l=new URLSearchParams(t.search),u=l.get("agentId")||"",x=l.get("propertyId")||"",m=l.get("agentName")||"",f=l.get("propertyName")||"";return{agentId:u,propertyId:x,agentName:m,propertyName:f}},[t.search]),r=Ri({agentId:a.agentId,propertyId:a.propertyId}),o=n.useMemo(()=>new Map(r.availableAgents.map(l=>[l._id,l.name])),[r.availableAgents]),i=n.useMemo(()=>new Map(r.availableProperties.map(l=>[l._id,l.title])),[r.availableProperties]),c=a.agentId?`Showing leads for avatar: ${a.agentName||a.agentId}`:a.propertyId?`Showing leads for property: ${a.propertyName||a.propertyId}`:"Showing leads for all avatars and properties";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628]",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none opacity-30",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-6 lg:px-8 py-8 lg:py-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-5 mb-7",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold text-white tracking-tight",children:"Leads"}),e.jsx("p",{className:"text-cyan-300 mt-2 font-medium",children:c}),e.jsx("p",{className:"text-slate-400 mt-1",children:r.isOwnerOrAdmin?"You can review all organization leads and member ownership.":"You can review and manage your own leads."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(a.agentId||a.propertyId)&&e.jsx("button",{onClick:()=>s("/leads"),className:"px-4 py-2 rounded-full border border-slate-700 text-slate-200 hover:bg-slate-800/50 text-sm",children:"Show All Leads"}),e.jsx("button",{onClick:r.loadLeads,className:"p-2.5 bg-slate-900/40 border border-slate-800/50 rounded-full hover:bg-slate-800/50 transition-all group","aria-label":"Refresh leads",children:e.jsx(at,{className:"w-4 h-4 text-slate-400 group-hover:text-white group-hover:rotate-180 transition-all duration-500"})}),e.jsxs("button",{onClick:r.openCreateModal,className:"group flex items-center gap-2 px-5 py-2.5 bg-white hover:bg-slate-100 text-slate-900 rounded-full font-semibold transition-all",children:[e.jsx(rt,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),"New Lead"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsx(Ft,{icon:e.jsx(Ye,{className:"w-4 h-4 text-blue-300"}),label:"Total",value:r.stats.total}),e.jsx(Ft,{icon:e.jsx(Rn,{className:"w-4 h-4 text-orange-300"}),label:"Hot",value:r.stats.hot}),e.jsx(Ft,{icon:e.jsx(Tn,{className:"w-4 h-4 text-cyan-300"}),label:"New",value:r.stats.newLeads}),e.jsx(Ft,{icon:e.jsx(Ys,{className:"w-4 h-4 text-emerald-300"}),label:"Closed",value:r.stats.closed}),e.jsx(Ft,{icon:e.jsx(Ye,{className:"w-4 h-4 text-purple-300"}),label:"My Leads",value:r.stats.mine})]})]}),e.jsx("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl p-4 md:p-5 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"w-4 h-4 text-slate-500 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{value:r.search,onChange:l=>r.setSearch(l.target.value),placeholder:"Search name, email, phone, session, owner",className:"w-full rounded-lg border border-slate-700/70 bg-slate-900/70 pl-9 pr-3 py-2.5 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]}),e.jsx("select",{value:r.statusFilter,onChange:l=>r.setStatusFilter(l.target.value),className:"rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:Bs.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsx("select",{value:r.qualityFilter,onChange:l=>r.setQualityFilter(l.target.value),className:"rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:Ti.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]})}),e.jsx("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl overflow-hidden",children:r.loading?e.jsx("div",{className:"p-10 text-center text-slate-300",children:"Loading leads..."}):r.leads.length===0?e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("p",{className:"text-white font-semibold",children:r.totalLeads===0?"No leads found":"No matching leads"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:r.totalLeads===0?"Create your first lead to get started.":"Try adjusting your search and filters."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-800/70",children:[e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Lead"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Contact"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Score"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Quality"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Owner"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Agent / Property"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Updated"}),e.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Actions"})]})}),e.jsx("tbody",{children:r.leads.map(l=>e.jsxs("tr",{className:"border-b border-slate-800/40 hover:bg-slate-800/20 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm text-white font-semibold",children:Hs(l)}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Session: ",l.sessionId]})]}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm text-slate-200",children:Br(l)}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:Hr(l)})]}),e.jsx("td",{className:"px-4 py-3",children:(()=>{const u=r.canManageLead(l);return e.jsx("select",{value:l.status,onChange:x=>r.updateLeadStatus(l._id,x.target.value),disabled:!u,title:u?"Update lead status":"Only lead owner or organization admin/owner can update",className:`text-xs border rounded-full px-2.5 py-1.5 bg-transparent ${Li[l.status]}`,children:Bs.filter(x=>x.value!=="all").map(x=>e.jsx("option",{value:x.value,className:"bg-slate-900 text-slate-100",children:x.label},x.value))})})()}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:l.leadScore??0}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`text-xs border rounded-full px-2.5 py-1.5 ${Mi[l.leadQuality||"cold"]}`,children:(l.leadQuality||"cold").replace("_"," ")})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm text-slate-200",children:l.ownerName}),r.isOwnerOrAdmin&&e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:l.ownerEmail||"-"})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"text-xs text-slate-300",children:["Agent: ",o.get(l.agent)||l.agent||"-"]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Property: ",l.property?i.get(l.property)||l.property:"-"]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.agent?e.jsxs("button",{onClick:()=>s(`/avatars?focusAgentId=${encodeURIComponent(l.agent)}`),className:"inline-flex items-center gap-1 text-[11px] text-cyan-300 hover:text-cyan-200",children:["View Agent ",e.jsx(St,{className:"w-3 h-3"})]}):null,l.property?e.jsxs("button",{onClick:()=>s(`/properties?focusPropertyId=${encodeURIComponent(l.property||"")}`),className:"inline-flex items-center gap-1 text-[11px] text-blue-300 hover:text-blue-200",children:["View Property ",e.jsx(St,{className:"w-3 h-3"})]}):null]})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-slate-300",children:_t(l.updatedAt||l.createdAt)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex justify-end items-center gap-1",children:[e.jsx("button",{onClick:()=>r.setSelectedLead(l),className:"p-2 rounded-lg text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors","aria-label":"View lead details",children:e.jsx(Qt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r.openEditModal(l),disabled:!r.canManageLead(l),className:"p-2 rounded-lg text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors disabled:opacity-60","aria-label":"Edit lead",title:r.canManageLead(l)?"Edit lead":"Only lead owner or organization admin/owner can edit",children:e.jsx(Qs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r.deleteLead(l._id),disabled:r.deletingLeadId===l._id||!r.canDeleteLead(l),className:"p-2 rounded-lg text-rose-300 hover:text-rose-200 hover:bg-rose-500/15 transition-colors disabled:opacity-60","aria-label":"Delete lead",title:r.canDeleteLead(l)?"Delete lead":"Only lead owner or organization admin/owner can delete",children:r.deletingLeadId===l._id?e.jsx(at,{className:"w-4 h-4 animate-spin"}):e.jsx(nt,{className:"w-4 h-4"})})]})})]},l._id))})]})})})]}),r.selectedLead&&e.jsx(Pi,{lead:r.selectedLead,onClose:()=>r.setSelectedLead(null),agentName:o.get(r.selectedLead.agent),propertyName:r.selectedLead.property?i.get(r.selectedLead.property):void 0,onViewAgent:()=>{var l;return s(`/avatars?focusAgentId=${encodeURIComponent(((l=r.selectedLead)==null?void 0:l.agent)||"")}`)},onViewProperty:()=>{var l;(l=r.selectedLead)!=null&&l.property&&s(`/properties?focusPropertyId=${encodeURIComponent(r.selectedLead.property)}`)}}),r.isFormOpen&&e.jsx(zi,{mode:r.formMode,submitting:r.submitting,form:r.form,setForm:r.setForm,agents:r.availableAgents,properties:r.availableProperties,onClose:()=>r.setIsFormOpen(!1),onSubmit:r.submitForm})]})}function Ft({icon:t,label:s,value:a}){return e.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-xl px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t,e.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:s})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:a})]})}function Pi({lead:t,onClose:s,agentName:a,propertyName:r,onViewAgent:o,onViewProperty:i}){var l,u,x,m,f,d,j,h,b,y,w,A,N,v;const c=[...t.inquiries||[]].sort((S,P)=>{const B=new Date(S.timestamp||0).getTime(),G=new Date(P.timestamp||0).getTime();return B-G});return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm p-4 flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-700/60 bg-gradient-to-br from-slate-900 to-[#0d1b34] shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-slate-900/95 border-b border-slate-700/50 p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:Hs(t)}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Lead ID: ",t._id]})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-lg text-slate-300 hover:text-white hover:bg-slate-700/60",children:e.jsx(Re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-5 space-y-6",children:[e.jsxs(gt,{title:"Contact",children:[e.jsx(ge,{label:"Name",value:Hs(t)}),e.jsx(ge,{label:"Email",value:Br(t)}),e.jsx(ge,{label:"Phone",value:Hr(t)}),e.jsx(ge,{label:"Preferred Contact",value:((u=(l=t.qualification)==null?void 0:l.contactInfo)==null?void 0:u.preferredContact)||"-"})]}),e.jsxs(gt,{title:"Lead Meta",children:[e.jsx(ge,{label:"Status",value:t.status}),e.jsx(ge,{label:"Lead Score",value:String(t.leadScore??0)}),e.jsx(ge,{label:"Lead Quality",value:t.leadQuality||"cold"}),e.jsx(ge,{label:"Conversion Probability",value:`${t.conversionProbability??0}%`}),e.jsx(ge,{label:"Owner",value:t.ownerName}),e.jsx(ge,{label:"Session ID",value:t.sessionId}),e.jsx(ge,{label:"Agent",value:a||t.agent}),e.jsx(ge,{label:"Property",value:r||t.property||"-"}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[e.jsxs("button",{onClick:o,className:"inline-flex items-center gap-1 rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-3 py-2 text-xs text-cyan-200 hover:bg-cyan-500/20",children:["View Agent ",e.jsx(St,{className:"w-3 h-3"})]}),t.property?e.jsxs("button",{onClick:i,className:"inline-flex items-center gap-1 rounded-lg border border-blue-500/40 bg-blue-500/10 px-3 py-2 text-xs text-blue-200 hover:bg-blue-500/20",children:["View Property ",e.jsx(St,{className:"w-3 h-3"})]}):null]})]}),e.jsxs(gt,{title:"Qualification",children:[e.jsx(ge,{label:"Budget Min",value:(m=(x=t.qualification)==null?void 0:x.budget)!=null&&m.min?String(t.qualification.budget.min):"-"}),e.jsx(ge,{label:"Budget Max",value:(d=(f=t.qualification)==null?void 0:f.budget)!=null&&d.max?String(t.qualification.budget.max):"-"}),e.jsx(ge,{label:"Timeline",value:((j=t.qualification)==null?void 0:j.timeline)||"-"}),e.jsx(ge,{label:"Property Type",value:((h=t.qualification)==null?void 0:h.propertyType)||"-"}),e.jsx(ge,{label:"Purpose",value:((b=t.qualification)==null?void 0:b.purpose)||"-"}),e.jsx(ge,{label:"Locations",value:(w=(y=t.qualification)==null?void 0:y.locationPreference)!=null&&w.length?t.qualification.locationPreference.join(", "):"-"}),e.jsx(ge,{label:"Bedrooms",value:(A=t.qualification)!=null&&A.bedrooms?String(t.qualification.bedrooms):"-"}),e.jsx(ge,{label:"Bathrooms",value:(N=t.qualification)!=null&&N.bathrooms?String(t.qualification.bathrooms):"-"})]}),e.jsx(gt,{title:"Notes",children:e.jsx("p",{className:"text-sm text-slate-200 whitespace-pre-wrap",children:((v=t.qualification)==null?void 0:v.notes)||"No notes"})}),e.jsx(gt,{title:"Chat History",children:e.jsx("div",{className:"md:col-span-2 space-y-2",children:c.length===0?e.jsx("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 px-3 py-3 text-sm text-slate-400",children:"No chat history found for this lead."}):c.map((S,P)=>e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 px-3 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-cyan-300",children:[e.jsx(ms,{className:"w-3 h-3"}),S.extractedIntent||"conversation"]}),e.jsx("span",{className:"text-[11px] text-slate-500",children:_t(S.timestamp)})]}),e.jsx("p",{className:"text-sm text-slate-200 whitespace-pre-wrap",children:S.text||"-"})]},`${S.timestamp||P}-${P}`))})}),e.jsxs(gt,{title:"Timestamps",children:[e.jsx(ge,{label:"Created",value:_t(t.createdAt)}),e.jsx(ge,{label:"Updated",value:_t(t.updatedAt)}),e.jsx(ge,{label:"Last Active",value:_t(t.lastActive)})]})]})]})})}function zi({mode:t,submitting:s,form:a,setForm:r,agents:o,properties:i,onClose:c,onSubmit:l}){return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm p-4 flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-700/60 bg-gradient-to-br from-slate-900 to-[#0d1b34] shadow-2xl",children:[e.jsxs("div",{className:"p-5 border-b border-slate-700/50 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t==="create"?"Create Lead":"Edit Lead"}),e.jsx("button",{onClick:c,className:"p-2 rounded-lg text-slate-300 hover:text-white hover:bg-slate-700/60",children:e.jsx(Re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-5 grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Agent *"}),e.jsxs("select",{value:a.agent,onChange:u=>r(x=>({...x,agent:u.target.value})),className:"w-full mt-1 rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:[e.jsx("option",{value:"",children:"Select Agent"}),a.agent&&!o.some(u=>u._id===a.agent)&&e.jsxs("option",{value:a.agent,children:["Current Agent (",a.agent,")"]}),o.map(u=>e.jsxs("option",{value:u._id,children:[u.name," (",u._id,")"]},u._id))]})]}),e.jsx(bt,{label:"Session ID *",value:a.sessionId,onChange:u=>r(x=>({...x,sessionId:u}))}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Property"}),e.jsxs("select",{value:a.property,onChange:u=>r(x=>({...x,property:u.target.value})),className:"w-full mt-1 rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:[e.jsx("option",{value:"",children:"None"}),a.property&&!i.some(u=>u._id===a.property)&&e.jsxs("option",{value:a.property,children:["Current Property (",a.property,")"]}),i.map(u=>e.jsxs("option",{value:u._id,children:[u.title," ",u.location?`- ${u.location}`:""," (",u._id,")"]},u._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Status"}),e.jsx("select",{value:a.status,onChange:u=>r(x=>({...x,status:u.target.value})),className:"w-full mt-1 rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:Bs.filter(u=>u.value!=="all").map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Lead Quality"}),e.jsxs("select",{value:a.leadQuality,onChange:u=>r(x=>({...x,leadQuality:u.target.value})),className:"w-full mt-1 rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/35",children:[e.jsx("option",{value:"auto",children:"Auto (recommended)"}),e.jsx("option",{value:"cold",children:"Cold"}),e.jsx("option",{value:"warm",children:"Warm"}),e.jsx("option",{value:"hot",children:"Hot"}),e.jsx("option",{value:"very_hot",children:"Very Hot"})]})]}),e.jsx(bt,{label:"Contact Name",value:a.contactName,onChange:u=>r(x=>({...x,contactName:u}))}),e.jsx(bt,{label:"Contact Email",value:a.contactEmail,onChange:u=>r(x=>({...x,contactEmail:u}))}),e.jsx(bt,{label:"Contact Phone",value:a.contactPhone,onChange:u=>r(x=>({...x,contactPhone:u}))}),e.jsx(bt,{label:"Budget Min",value:a.budgetMin,onChange:u=>r(x=>({...x,budgetMin:u})),type:"number"}),e.jsx(bt,{label:"Budget Max",value:a.budgetMax,onChange:u=>r(x=>({...x,budgetMax:u})),type:"number"}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:u=>r(x=>({...x,notes:u.target.value})),rows:3,className:"w-full mt-1 rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]})]}),e.jsxs("div",{className:"p-5 border-t border-slate-700/50 flex justify-end gap-3",children:[e.jsx("button",{onClick:c,disabled:s,className:"px-4 py-2.5 rounded-lg border border-slate-600/70 text-slate-200 hover:bg-slate-800/80 transition-all disabled:opacity-60",children:"Cancel"}),e.jsxs("button",{onClick:l,disabled:s,className:"px-4 py-2.5 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-100 transition-all disabled:opacity-60 flex items-center gap-2",children:[s?e.jsx(at,{className:"w-4 h-4 animate-spin"}):null,s?"Saving...":t==="create"?"Create Lead":"Save Changes"]})]})]})})}function gt({title:t,children:s}){return e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm uppercase tracking-wide text-slate-400 mb-3",children:t}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s})]})}function ge({label:t,value:s}){return e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 px-3 py-2.5",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide",children:t}),e.jsx("div",{className:"text-sm text-slate-100 mt-1 break-all",children:s})]})}function bt({label:t,value:s,onChange:a,type:r="text"}){return e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wide",children:t}),e.jsx("input",{type:r,value:s,onChange:o=>a(o.target.value),className:"w-full mt-1 rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2.5 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/35"})]})}const Di=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Analytics"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Analytics functionality is currently disabled"})]})}),Xs=n.forwardRef(({className:t,...s},a)=>e.jsx(ur,{ref:a,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Xs.displayName=ur.displayName;const Js=n.forwardRef(({className:t,...s},a)=>e.jsx(mr,{ref:a,className:le("aspect-square h-full w-full",t),...s}));Js.displayName=mr.displayName;const ea=n.forwardRef(({className:t,...s},a)=>e.jsx(xr,{ref:a,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));ea.displayName=xr.displayName;const Jt=n.forwardRef(({className:t,...s},a)=>e.jsx(pr,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(Ln,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Jt.displayName=pr.displayName;class $i{async getMyProfile(){return(await F.get("/settings/profile")).data}async updateMyProfile(s){return(await F.put("/settings/profile",s)).data}async getOrganization(){return(await F.get("/settings/organization")).data}async updateOrganization(s){return(await F.put("/settings/organization",s)).data}async deleteOrganization(){return(await F.delete("/organizations/delete")).data}async getTeamMembers(){return(await F.get("/settings/organization/team")).data}async removeTeamMember(s){return(await F.delete(`/settings/organization/team/${s}`)).data}async updateTeamMemberRole(s,a){return(await F.patch(`/settings/organization/team/${s}`,{role:a})).data}async getPendingInvites(){return(await F.get("/settings/organization/invites")).data}async inviteMember(s){return(await F.post("/invites/create",s)).data}async revokeInvite(s){return(await F.delete(`/settings/organization/invites/${s}`)).data}async getMyInvites(){return(await F.get("/invites/my")).data}async acceptInvite(s){return(await F.post(`/invites/${s}/accept`)).data}async rejectInvite(s){return(await F.post(`/invites/${s}/reject`)).data}async requestLeave(){return(await F.post("/leaves/request")).data}async getPendingLeaveRequests(){return(await F.get("/organizations/leave-requests")).data}async approveLeaveRequest(s){return(await F.post(`/leaves/${s}/approve`)).data}async rejectLeaveRequest(s,a){const r=a!=null&&a.trim()?{reason:a.trim()}:{};return(await F.post(`/leaves/${s}/reject`,r)).data}async getBillingInfo(){return(await F.get("/settings/billing")).data}async updateSubscription(s){return(await F.post("/settings/billing/subscribe",{plan:s})).data}async getInvoices(){return(await F.get("/settings/billing/invoices")).data}async getIntegrations(){return(await F.get("/settings/integrations")).data}async connectZillow(s){return(await F.post("/settings/integrations/zillow",s)).data}async connectRealtor(s){return(await F.post("/settings/integrations/realtor",s)).data}async disconnectIntegration(s){return(await F.delete(`/settings/integrations/${s}`)).data}async syncIntegration(s){return(await F.post(`/settings/integrations/${s}/sync`)).data}async getNotificationSettings(){return(await F.get("/settings/user/notifications")).data}async updateNotificationSettings(s){return(await F.put("/settings/user/notifications",s)).data}async getNotifications(){return(await F.get("/settings/notifications")).data}async markNotificationAsRead(s){return(await F.put(`/settings/notifications/${s}/read`)).data}async markAllNotificationsAsRead(){return(await F.put("/settings/notifications/read-all")).data}async requestAccountDeletion(s){return(await F.post("/account/delete/request",s||{})).data}async getAccountDeletionStatus(){return(await F.get("/account/delete/status")).data}async getAccountDeleteDetails(){return(await F.get("/account/delete/details")).data}async cancelAccountDeletionRequest(s){return(await F.post(`/account/delete/request/${s}/cancel`)).data}async deleteAccount(s){return(await F.delete("/account/delete",{data:s})).data}async getPendingDeletionRequests(){var a;const s=await F.get("/account/deletion-requests");return((a=s.data)==null?void 0:a.requests)||s.data||[]}async approveDeletionRequest(s){return(await F.post(`/account/delete/request/${s}/approve`)).data}async rejectDeletionRequest(s,a){const r=a!=null&&a.trim()?{reason:a.trim()}:{};return(await F.post(`/account/delete/request/${s}/reject`,r)).data}}const J=new $i,Fi=()=>{const{toast:t}=Ct(),{user:s}=xt(),[a,r]=n.useState(null),[o,i]=n.useState([]),[c,l]=n.useState([]),[u,x]=n.useState([]),[m,f]=n.useState([]),[d,j]=n.useState(null),[h,b]=n.useState([]),[y,w]=n.useState(null),[A,N]=n.useState([]),[v,S]=n.useState(0),[P,B]=n.useState(null),[G,g]=n.useState([]),[L,Q]=n.useState(!0),[$,C]=n.useState(null),[Y,M]=n.useState({firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",accountId:(s==null?void 0:s.accountId)||"",avatar:(s==null?void 0:s.avatar)||""}),[D,E]=n.useState(""),[_,p]=n.useState(""),[R,z]=n.useState({name:"",billing:{companyName:"",address:"",phone:"",realEstateLicense:""}}),[V,X]=n.useState(!1),[oe,ke]=n.useState(!1),[de,We]=n.useState({zwsId:"",apiKey:"",settings:{syncProperties:!0,syncLeads:!0}}),[Te,Ee]=n.useState({apiKey:"",secret:"",settings:{syncProperties:!0,autoImport:!1}}),pe=(s==null?void 0:s.role)==="owner"&&(s==null?void 0:s.accountType)==="organization",Ue=(s==null?void 0:s.role)==="admin"&&(s==null?void 0:s.accountType)==="organization",H=(s==null?void 0:s.accountType)==="organization",K=(s==null?void 0:s.accountType)==="individual",ce=pe||Ue,ie=pe,re=pe||Ue;n.useEffect(()=>{s&&M({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",phone:s.phone||"",accountId:s.accountId||"",avatar:s.avatar||""})},[s]);const ne=n.useCallback(async()=>{var q,O;if(s){Q(!0),C(null);try{const k=[];k.push(J.getMyProfile().then(I=>{M({firstName:I.firstName||"",lastName:I.lastName||"",email:I.email||"",phone:I.phone||"",accountId:I.accountId||"",avatar:I.avatar||""})}).catch(()=>{})),(H||s!=null&&s.workingUnderOrganization)&&(k.push(J.getOrganization().then(I=>{var ee,De,ta,sa;r(I.organization),z({name:I.organization.name||"",billing:{companyName:((ee=I.organization.billing)==null?void 0:ee.companyName)||"",address:((De=I.organization.billing)==null?void 0:De.address)||"",phone:((ta=I.organization.billing)==null?void 0:ta.phone)||"",realEstateLicense:((sa=I.organization.billing)==null?void 0:sa.realEstateLicense)||""}})}).catch(()=>{})),k.push(J.getTeamMembers().then(i).catch(()=>{})),ce&&(k.push(J.getPendingInvites().then(l).catch(()=>{})),k.push(J.getPendingLeaveRequests().then(I=>f(I.requests||[])).catch(()=>{})),pe&&k.push(J.getPendingDeletionRequests().then(I=>g(I||[])).catch(()=>{}))),H&&(k.push(J.getBillingInfo().then(j).catch(()=>{})),re&&k.push(J.getIntegrations().then(b).catch(()=>{})))),K&&k.push(J.getMyInvites().then(I=>x(I.invites||[])).catch(()=>{})),k.push(J.getNotificationSettings().then(w).catch(()=>{})),k.push(J.getNotifications().then(I=>{N(I.notifications||[]),S(I.unreadCount||0)}).catch(()=>{})),await Promise.allSettled(k)}catch(k){const I=((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message)||"Failed to load settings";C(I),t({title:"Error",description:I,variant:"destructive"})}finally{Q(!1)}}},[s,H,K,ce,re,t]);n.useEffect(()=>{ne()},[ne]);const Ne=n.useCallback(async()=>{var q,O;try{await J.updateMyProfile({firstName:Y.firstName,lastName:Y.lastName,avatar:Y.avatar}),t({title:"Success",description:"Profile updated successfully"})}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[Y,t]),xe=n.useCallback(async()=>{var q,O;if(!pe){t({title:"Permission Denied",description:"Only owners can update organization",variant:"destructive"});return}try{const k=await J.updateOrganization(R);r(k),t({title:"Success",description:"Organization updated successfully"})}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[pe,R,t]),ve=n.useCallback(async()=>{var q,O;if(pe)try{await J.deleteOrganization(),t({title:"Success",description:"Organization deleted"}),window.location.href="/login"}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[pe,t]),T=n.useCallback(async()=>{var q,O;if(!ce){t({title:"Permission Denied",description:"You cannot invite members",variant:"destructive"});return}if(!D||!_){t({title:"Validation Error",description:"Account ID and email are required",variant:"destructive"});return}try{await J.inviteMember({accountId:D,email:_.toLowerCase().trim()}),t({title:"Success",description:`Invitation sent to ${_}`}),E(""),p("");const k=await J.getPendingInvites();l(k)}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[ce,D,_,t]),Z=n.useCallback(async q=>{var O,k;try{await J.revokeInvite(q),l(I=>I.filter(ee=>ee._id!==q)),t({title:"Success",description:"Invitation revoked"})}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),be=n.useCallback(async q=>{var O,k;try{await J.removeTeamMember(q),i(I=>I.filter(ee=>ee.user._id!==q)),t({title:"Success",description:"Member removed"})}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),ye=n.useCallback(async(q,O)=>{var k,I;try{await J.updateTeamMemberRole(q,O),i(ee=>ee.map(De=>De.user._id===q?{...De,role:O}:De)),t({title:"Success",description:"Role updated"})}catch(ee){t({title:"Error",description:((I=(k=ee==null?void 0:ee.response)==null?void 0:k.data)==null?void 0:I.error)||(ee==null?void 0:ee.message),variant:"destructive"})}},[t]),we=n.useCallback(async q=>{var O,k;try{await J.acceptInvite(q),t({title:"Success",description:"Invitation accepted! Refreshing..."}),setTimeout(()=>window.location.reload(),1200)}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),Be=n.useCallback(async q=>{var O,k;try{await J.rejectInvite(q),x(I=>I.filter(ee=>ee._id!==q)),t({title:"Success",description:"Invitation declined"})}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),Le=n.useCallback(async()=>{var q,O;try{await J.requestLeave(),t({title:"Success",description:"Leave request submitted. Waiting for approval."})}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[t]),ot=n.useCallback(async q=>{var O,k;try{await J.approveLeaveRequest(q),f(ee=>ee.filter(De=>De._id!==q));const I=await J.getTeamMembers();i(I),t({title:"Success",description:"Leave request approved"})}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),_e=n.useCallback(async(q,O)=>{var k,I;try{await J.rejectLeaveRequest(q,O),f(ee=>ee.filter(De=>De._id!==q)),t({title:"Success",description:"Leave request rejected"})}catch(ee){t({title:"Error",description:((I=(k=ee==null?void 0:ee.response)==null?void 0:k.data)==null?void 0:I.error)||(ee==null?void 0:ee.message),variant:"destructive"})}},[t]),it=n.useCallback(async q=>{var O,k;if(!ie){t({title:"Permission Denied",description:"Only owners can manage billing",variant:"destructive"});return}try{const I=await J.updateSubscription(q);if(I.paymentUrl)window.location.href=I.paymentUrl;else{const ee=await J.getBillingInfo();j(ee),t({title:"Success",description:"Subscription updated"})}}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[ie,t]),pt=n.useCallback(async()=>{var q,O;try{await J.connectZillow(de);const k=await J.getIntegrations();b(k),X(!1),t({title:"Success",description:"Zillow connected"})}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[de,t]),ct=n.useCallback(async()=>{var q,O;try{await J.connectRealtor(Te);const k=await J.getIntegrations();b(k),ke(!1),t({title:"Success",description:"Realtor.com connected"})}catch(k){t({title:"Error",description:((O=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:O.error)||(k==null?void 0:k.message),variant:"destructive"})}},[Te,t]),dt=n.useCallback(async q=>{var O,k;try{await J.disconnectIntegration(q);const I=await J.getIntegrations();b(I),t({title:"Success",description:"Integration disconnected"})}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),bs=n.useCallback(async q=>{var O,k;try{await J.syncIntegration(q);const I=await J.getIntegrations();b(I),t({title:"Success",description:"Sync complete"})}catch(I){t({title:"Error",description:((k=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:k.error)||(I==null?void 0:I.message),variant:"destructive"})}},[t]),Rt=n.useCallback(async(q,O)=>{var k,I;try{const ee=await J.updateNotificationSettings({[q]:O});w(ee),t({title:"Success",description:"Notification preferences saved"})}catch(ee){t({title:"Error",description:((I=(k=ee==null?void 0:ee.response)==null?void 0:k.data)==null?void 0:I.error)||(ee==null?void 0:ee.message),variant:"destructive"})}},[t]),He=n.useCallback(async q=>{try{await J.markNotificationAsRead(q),N(O=>O.map(k=>k._id===q?{...k,read:!0}:k)),S(O=>Math.max(0,O-1))}catch(O){console.error("Failed to mark notification as read:",O)}},[]),fs=n.useCallback(async()=>{try{await J.markAllNotificationsAsRead(),N(q=>q.map(O=>({...O,read:!0}))),S(0)}catch(q){console.error("Failed to mark all notifications as read:",q)}},[]),te=n.useCallback(async q=>{var O,k;try{const I=await J.requestAccountDeletion({reason:q});t({title:"Success",description:I.type==="individual"?"Your account is being deleted. Redirecting...":"Deletion request sent to organization owner for approval"}),I.type==="individual"?setTimeout(()=>window.location.href="/login",2e3):await ue()}catch(I){t({title:"Error",description:((k=(O=I.response)==null?void 0:O.data)==null?void 0:k.message)||"Failed to request account deletion",variant:"destructive"})}},[t]),ue=n.useCallback(async()=>{try{const q=await J.getAccountDeletionStatus();B(q)}catch(q){console.error("Failed to check deletion status:",q)}},[]),me=n.useCallback(async q=>{var O,k;try{await J.cancelAccountDeletionRequest(q),t({title:"Success",description:"Account deletion request cancelled"}),B(null)}catch(I){t({title:"Error",description:((k=(O=I.response)==null?void 0:O.data)==null?void 0:k.message)||"Failed to cancel deletion request",variant:"destructive"})}},[t]),Pe=n.useCallback(async()=>{var q,O;if(!pe){t({title:"Permission Denied",description:"Only organization owners can view deletion requests",variant:"destructive"});return}try{const k=await J.getPendingDeletionRequests();g(k)}catch(k){t({title:"Error",description:((O=(q=k.response)==null?void 0:q.data)==null?void 0:O.message)||"Failed to load deletion requests",variant:"destructive"})}},[pe,t]),ze=n.useCallback(async q=>{var O,k;if(!pe){t({title:"Permission Denied",description:"Only organization owners can approve deletions",variant:"destructive"});return}try{await J.approveDeletionRequest(q),t({title:"Success",description:"Account deletion request approved"}),g(I=>I.filter(ee=>ee._id!==q))}catch(I){t({title:"Error",description:((k=(O=I.response)==null?void 0:O.data)==null?void 0:k.message)||"Failed to approve deletion",variant:"destructive"})}},[pe,t]),ht=n.useCallback(async(q,O)=>{var k,I;if(!pe){t({title:"Permission Denied",description:"Only organization owners can reject deletions",variant:"destructive"});return}try{await J.rejectDeletionRequest(q,O),t({title:"Success",description:"Account deletion request rejected"}),g(ee=>ee.filter(De=>De._id!==q))}catch(ee){t({title:"Error",description:((I=(k=ee.response)==null?void 0:k.data)==null?void 0:I.message)||"Failed to reject deletion",variant:"destructive"})}},[pe,t]),vs=n.useCallback((q,O)=>`${(q==null?void 0:q[0])||""}${(O==null?void 0:O[0])||""}`.toUpperCase(),[]);return{user:s,organization:a,teamMembers:o,pendingInvites:c,myInvites:u,leaveRequests:m,billingInfo:d,integrations:h,notificationSettings:y,notifications:A,unreadCount:v,isLoading:L,error:$,isOwner:pe,isAdmin:Ue,isOrganizationUser:H,isIndividualUser:K,canManageTeam:ce,canManageBilling:ie,canManageIntegrations:re,profileForm:Y,setProfileForm:M,inviteAccountId:D,setInviteAccountId:E,inviteEmail:_,setInviteEmail:p,orgForm:R,setOrgForm:z,zillowDialogOpen:V,setZillowDialogOpen:X,realtorDialogOpen:oe,setRealtorDialogOpen:ke,zillowCredentials:de,setZillowCredentials:We,realtorCredentials:Te,setRealtorCredentials:Ee,loadAllData:ne,handleUpdateProfile:Ne,handleUpdateOrganization:xe,handleDeleteOrganization:ve,handleInviteMember:T,handleRevokeInvite:Z,handleRemoveMember:be,handleUpdateRole:ye,handleAcceptInvite:we,handleRejectInvite:Be,handleRequestLeave:Le,handleApproveLeaveRequest:ot,handleRejectLeaveRequest:_e,handleUpdateSubscription:it,handleConnectZillow:pt,handleConnectRealtor:ct,handleDisconnectIntegration:dt,handleSyncIntegration:bs,handleUpdateNotificationSettings:Rt,handleMarkNotificationAsRead:He,handleMarkAllNotificationsAsRead:fs,getInitials:vs,deletionStatus:P,pendingDeletionRequests:G,handleRequestAccountDeletion:te,handleCheckDeletionStatus:ue,handleCancelAccountDeletion:me,handleGetPendingDeletionRequests:Pe,handleApproveDeletion:ze,handleRejectDeletion:ht}},Oi=({user:t,onClose:s,onSuccess:a})=>{const{toast:r}=Ct(),[o,i]=n.useState("confirm"),[c,l]=n.useState(""),[u,x]=n.useState(""),[m,f]=n.useState(!1),[d,j]=n.useState(""),[h,b]=n.useState(null);n.useEffect(()=>{y()},[]);const y=async()=>{try{const v=await J.getAccountDeletionStatus();v.hasPendingRequest&&(b(v),i("pending"))}catch(v){console.error("Error checking deletion status:",v)}},w=async()=>{var v,S,P,B,G,g,L,Q;f(!0),j("");try{if((t==null?void 0:t.accountType)==="organization"&&(t==null?void 0:t.role)!=="owner"){const C=await J.requestAccountDeletion({reason:c||void 0});b({status:"pending",requestId:C.requestId,createdAt:new Date().toISOString()}),i("pending"),r({title:"Request Sent",description:"Your account deletion request was sent to the organization owner."});return}i("deleting");const $=await J.deleteAccount({password:u});i("success"),r({title:"Deletion Initiated",description:"Your account deletion has started successfully."}),setTimeout(()=>{window.location.href="/login"},1500)}catch($){j(((S=(v=$==null?void 0:$.response)==null?void 0:v.data)==null?void 0:S.message)||((B=(P=$==null?void 0:$.response)==null?void 0:P.data)==null?void 0:B.error)||"Failed to request account deletion"),r({title:"Action Failed",description:((g=(G=$==null?void 0:$.response)==null?void 0:G.data)==null?void 0:g.message)||((Q=(L=$==null?void 0:$.response)==null?void 0:L.data)==null?void 0:Q.error)||"Failed to request account deletion",variant:"destructive"}),f(!1)}},A=async()=>{var v,S,P,B,G,g,L,Q;if(h!=null&&h.requestId){f(!0),j("");try{await J.cancelAccountDeletionRequest(h.requestId),i("confirm"),l(""),b(null),r({title:"Request Cancelled",description:"Your pending deletion request was cancelled."})}catch($){j(((S=(v=$==null?void 0:$.response)==null?void 0:v.data)==null?void 0:S.message)||((B=(P=$==null?void 0:$.response)==null?void 0:P.data)==null?void 0:B.error)||"Failed to cancel deletion request"),r({title:"Action Failed",description:((g=(G=$==null?void 0:$.response)==null?void 0:G.data)==null?void 0:g.message)||((Q=(L=$==null?void 0:$.response)==null?void 0:L.data)==null?void 0:Q.error)||"Failed to cancel deletion request",variant:"destructive"})}finally{f(!1)}}},N=async()=>{j("");try{const S=(await J.getAccountDeleteDetails()).stats||{};if(S.isOwner&&S.membersCount>1){j("As organization owner, remove all members or transfer ownership before deleting account.");return}if((t==null?void 0:t.accountType)==="organization"&&(t==null?void 0:t.role)!=="owner"){i("reason");return}i("password")}catch{j("Failed to load account details. Please try again.")}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-[#0d1b34] border border-slate-700/60 rounded-xl shadow-2xl max-w-md w-full mx-4 text-slate-100",children:[o==="confirm"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Delete Account"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Are you sure you want to delete your account?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"All your data will be permanently deleted"}),e.jsx("li",{children:"Pending invites will be removed"}),e.jsx("li",{children:"You will be removed from organizations"}),e.jsx("li",{children:"This action cannot be undone"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm text-blue-700",children:" If you are an organization member, your deletion request will be sent to the organization owner for approval."}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["User: ",e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.email})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition",children:"Continue"})]})]}),o==="reason"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Why are you leaving?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Help us improve by telling us why you're deleting your account (optional)"}),e.jsx("textarea",{value:c,onChange:v=>l(v.target.value),placeholder:"Tell us your feedback...",disabled:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-red-700 text-sm",children:d})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{i("confirm"),l(""),j("")},disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition disabled:opacity-50",children:"Back"}),e.jsx("button",{onClick:w,disabled:m,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin mr-2",children:""}),"Requesting..."]}):"Request Deletion"})]})]}),o==="password"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Confirm Password"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your password to permanently delete your account."}),e.jsx("input",{type:"password",value:u,onChange:v=>x(v.target.value),placeholder:"Password",disabled:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-red-500 focus:border-transparent"}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-red-700 text-sm",children:d})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{i("confirm"),x(""),j("")},disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition disabled:opacity-50",children:"Back"}),e.jsx("button",{onClick:w,disabled:m||!u,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Deleting...":"Delete Account"})]})]}),o==="pending"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-amber-600 mb-2",children:"Awaiting Approval"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-blue-900 text-sm mb-2",children:"Your account deletion request has been sent to your organization owner."}),e.jsx("p",{className:"text-blue-800 text-sm",children:"You will receive an email once they approve or reject your request."})]}),h&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"font-semibold text-amber-600 capitalize",children:h.status})]}),h.createdAt&&e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Submitted:"}),e.jsx("span",{children:new Date(h.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:A,disabled:m,className:"flex-1 px-4 py-2 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50 transition disabled:opacity-50",children:"Cancel Request"}),e.jsx("button",{onClick:s,disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition disabled:opacity-50",children:"Close"})]})]}),o==="success"&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Account Deletion Initiated"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your account will be deleted shortly. You will be redirected to the login page."}),e.jsx("button",{onClick:()=>window.location.href="/login",className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition",children:"Go to Login"})]})]})})},_i=()=>{var P,B,G;const{toast:t}=Ct(),s=Fi(),[a,r]=n.useState("account"),[o,i]=n.useState(!1),[c,l]=n.useState(null),[u,x]=n.useState("email"),[m,f]=n.useState(!1);n.useState(!1);const[d,j]=n.useState(!1),[h,b]=n.useState(null),[y,w]=n.useState(!1),[A,N]=n.useState("");n.useEffect(()=>{N("")},[h]);const v=async()=>{if(!(!h||y)){w(!0);try{const g=A.trim();await Promise.resolve(h.onConfirm(g||void 0)),(h.successTitle||h.successDescription)&&t({title:h.successTitle||"Completed",description:h.successDescription}),N(""),b(null)}catch{}finally{w(!1)}}};if(n.useEffect(()=>{a==="security"&&s.isOwner&&s.handleGetPendingDeletionRequests()},[a,s.isOwner,s.handleGetPendingDeletionRequests]),s.isLoading)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),e.jsx("div",{className:"text-slate-300 text-lg",children:"Loading settings..."})]})});const S=[{id:"account",label:"Account",icon:zs,visible:!0},{id:"invites",label:"My Invites",icon:Ht,visible:s.isIndividualUser&&s.myInvites.length>0},{id:"team",label:"Team",icon:Ye,visible:s.isOrganizationUser},{id:"leave-requests",label:"Leave Requests",icon:ra,visible:s.canManageTeam&&(s.leaveRequests.length>0||s.isOwner&&s.pendingDeletionRequests.length>0)},{id:"billing",label:"Billing",icon:Mn,visible:s.isOrganizationUser},{id:"notifications",label:"Notifications",icon:Vt,visible:!0},{id:"integrations",label:"Integrations",icon:Gt,visible:s.canManageIntegrations},{id:"security",label:"Security",icon:En,visible:!0}].filter(g=>g.visible);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628]",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none opacity-30",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-6 lg:px-8 py-8 lg:py-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 mb-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-5xl font-bold text-white tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-slate-400",children:s.isOrganizationUser?"Manage your organization, team, and preferences":"Manage your account and preferences"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.isOrganizationUser&&s.billingInfo&&e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-900/40 border border-slate-800/50 rounded-full backdrop-blur-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),e.jsx("span",{className:"text-sm text-white font-bold",children:s.teamMembers.length}),e.jsx("span",{className:"text-slate-500 text-sm",children:"/"}),e.jsxs("span",{className:"text-slate-400 text-sm",children:[s.billingInfo.plan.seats," seats"]})]}),e.jsx("button",{onClick:s.loadAllData,className:"p-2.5 bg-slate-900/40 border border-slate-800/50 rounded-full hover:bg-slate-800/50 transition-all group",children:e.jsx(at,{className:"w-4 h-4 text-slate-400 group-hover:text-white group-hover:rotate-180 transition-all duration-500"})})]})]}),e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 scrollbar-hide",children:S.map(({id:g,label:L,icon:Q})=>e.jsxs("button",{onClick:()=>r(g),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full font-semibold text-sm transition-all whitespace-nowrap ${a===g?"bg-white text-slate-900":"bg-slate-900/30 border border-slate-800/50 text-slate-400 hover:bg-slate-900/50 hover:text-slate-300"}`,children:[e.jsx(Q,{className:"w-4 h-4"}),L,g==="notifications"&&s.unreadCount>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"})]},g))})]}),a==="account"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(Ce,{color:"from-blue-500 to-cyan-500",title:"My Profile"}),!m&&e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all font-semibold",children:[e.jsx(Ws,{className:"w-4 h-4"}),"Edit Profile"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mt-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Xs,{className:"w-24 h-24 border-2 border-slate-700/50",children:[e.jsx(Js,{src:s.profileForm.avatar}),e.jsx(ea,{className:"bg-gradient-to-br from-blue-600 to-cyan-600 text-white text-2xl font-bold",children:s.getInitials(s.profileForm.firstName,s.profileForm.lastName)})]}),m&&e.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center hover:bg-blue-400 transition-all shadow-lg",children:e.jsx(Pn,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-white font-semibold",children:[s.profileForm.firstName," ",s.profileForm.lastName]}),e.jsx(Ui,{role:((P=s.user)==null?void 0:P.role)||"individual"})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(Ae,{label:"First Name",children:e.jsx("input",{type:"text",value:s.profileForm.firstName,onChange:g=>s.setProfileForm(L=>({...L,firstName:g.target.value})),disabled:!m,className:`w-full px-4 py-3 rounded-xl placeholder-slate-400 focus:outline-none transition-all ${m?"bg-slate-800/60 border border-slate-700/60 text-white focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20":"bg-slate-800/30 border border-slate-700/40 text-slate-400 cursor-not-allowed"}`,placeholder:"First name"})}),e.jsx(Ae,{label:"Last Name",children:e.jsx("input",{type:"text",value:s.profileForm.lastName,onChange:g=>s.setProfileForm(L=>({...L,lastName:g.target.value})),disabled:!m,className:`w-full px-4 py-3 rounded-xl placeholder-slate-400 focus:outline-none transition-all ${m?"bg-slate-800/60 border border-slate-700/60 text-white focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20":"bg-slate-800/30 border border-slate-700/40 text-slate-400 cursor-not-allowed"}`,placeholder:"Last name"})}),e.jsx(Ae,{label:"Email Address",children:e.jsx("input",{type:"email",value:s.profileForm.email,disabled:!0,className:"w-full px-4 py-3 bg-slate-800/30 border border-slate-700/40 rounded-xl text-slate-400 cursor-not-allowed"})}),e.jsx(Ae,{label:"Account ID",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-slate-800/30 border border-slate-700/40 rounded-xl",children:[e.jsx(zn,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-400 font-mono",children:s.profileForm.accountId||""})]})}),m&&e.jsxs("div",{className:"md:col-span-2 flex gap-3 justify-end",children:[e.jsxs("button",{onClick:()=>f(!1),className:"flex items-center gap-2 px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-all font-semibold border border-slate-700",children:[e.jsx(Re,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{onClick:()=>{s.handleUpdateProfile(),f(!1)},className:"flex items-center gap-2 px-6 py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all font-semibold",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Save Changes"]})]})]})]})]}),(s.isOrganizationUser||((B=s.user)==null?void 0:B.workingUnderOrganization))&&e.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(Ce,{color:"from-purple-500 to-pink-500",title:"Organization Information"}),!s.isOwner&&e.jsx("span",{className:"text-xs text-slate-500 italic",children:"View only  contact your owner to make changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(Ae,{label:"Organization Name",children:e.jsx("input",{type:"text",value:s.orgForm.name,onChange:g=>s.setOrgForm(L=>({...L,name:g.target.value})),disabled:!s.isOwner,className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Organization name"})}),e.jsx(Ae,{label:"Company Legal Name",children:e.jsx("input",{type:"text",value:s.orgForm.billing.companyName,onChange:g=>s.setOrgForm(L=>({...L,billing:{...L.billing,companyName:g.target.value}})),disabled:!s.isOwner,className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Legal entity name"})}),e.jsx(Ae,{label:"Business Address",children:e.jsx("input",{type:"text",value:s.orgForm.billing.address,onChange:g=>s.setOrgForm(L=>({...L,billing:{...L.billing,address:g.target.value}})),disabled:!s.isOwner,className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Street address"})}),e.jsx(Ae,{label:"Business Phone",children:e.jsx("input",{type:"text",value:s.orgForm.billing.phone,onChange:g=>s.setOrgForm(L=>({...L,billing:{...L.billing,phone:g.target.value}})),disabled:!s.isOwner,className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"+1 (555) 000-0000"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ae,{label:"Real Estate License",children:e.jsx("input",{type:"text",value:s.orgForm.billing.realEstateLicense,onChange:g=>s.setOrgForm(L=>({...L,billing:{...L.billing,realEstateLicense:g.target.value}})),disabled:!s.isOwner,className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"License number"})})})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[s.isOwner&&e.jsx(qi,{onClick:s.handleUpdateOrganization,label:"Save Organization"}),!s.isOwner&&((G=s.user)==null?void 0:G.workingUnderOrganization)&&e.jsxs("button",{onClick:()=>b({title:"Request to Leave Organization",description:"Your leave request will be sent to the organization owner for review.",impacts:["Owner will approve or reject your request.","You remain a member until approval.","You will get email + in-app notification on decision."],confirmLabel:"Submit Leave Request",loadingLabel:"Submitting request...",confirmTone:"danger",onConfirm:()=>s.handleRequestLeave()}),className:"flex items-center gap-2 px-6 py-2.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 rounded-lg transition-all font-semibold",children:[e.jsx(is,{className:"w-4 h-4"}),"Leave Organization"]})]})]})]}),a==="invites"&&s.isIndividualUser&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{color:"from-purple-500 to-pink-500",title:"Organization Invitations"}),e.jsxs("span",{className:"text-slate-500",children:["(",s.myInvites.length,")"]})]}),s.myInvites.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-900/30 border border-slate-800/50 rounded-xl hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/10 border border-purple-500/20 rounded-xl flex items-center justify-center",children:e.jsx(qt,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Join Organization"}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Invited by ",g.invitedBy.firstName," ",g.invitedBy.lastName]}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:g.email})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>b({title:"Accept Organization Invite",description:"You are about to join this organization as a member.",impacts:["Your account type changes to organization member.","Organization owner gets email and notification.","Your invite status will become accepted."],confirmLabel:"Accept Invite",loadingLabel:"Accepting invite...",confirmTone:"success",onConfirm:()=>s.handleAcceptInvite(g._id)}),className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 rounded-lg hover:bg-emerald-500/20 transition-all text-sm font-medium",children:[e.jsx(hr,{className:"w-4 h-4"})," Accept"]}),e.jsxs("button",{onClick:()=>b({title:"Decline Organization Invite",description:"This invite will be rejected and removed from your pending list.",impacts:["You will not join this organization.","Invite status will become rejected.","Organization owner can re-invite you later."],confirmLabel:"Decline Invite",loadingLabel:"Declining invite...",confirmTone:"danger",onConfirm:()=>s.handleRejectInvite(g._id)}),className:"flex items-center gap-2 px-4 py-2 text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/10 transition-all text-sm font-medium",children:[e.jsx(Dn,{className:"w-4 h-4"})," Decline"]})]})]},g._id))]}),a==="team"&&s.isOrganizationUser&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{color:"from-purple-500 to-pink-500",title:"Team Members"}),e.jsxs("span",{className:"text-slate-500",children:["(",s.teamMembers.length,")"]})]}),e.jsxs("div",{className:"flex gap-3",children:[!s.isOwner&&e.jsxs("button",{onClick:()=>b({title:"Request to Leave Organization",description:"Your leave request will be sent to the owner for approval.",impacts:["Owner must approve or reject.","You stay in organization until approval.","You will be notified by email and in-app."],confirmLabel:"Submit Leave Request",loadingLabel:"Submitting request...",confirmTone:"danger",onConfirm:()=>s.handleRequestLeave()}),className:"flex items-center gap-2 px-5 py-2.5 bg-red-500/10 border border-red-500/20 text-red-400 rounded-full font-semibold hover:bg-red-500/20 transition-all text-sm",children:[e.jsx(is,{className:"w-4 h-4"})," Request to Leave"]}),s.canManageTeam&&e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-white text-slate-900 rounded-full font-semibold hover:bg-slate-100 hover:scale-105 transition-all text-sm",children:[e.jsx(rt,{className:"w-4 h-4"})," Invite Member"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:s.teamMembers.map(g=>e.jsx(Bi,{member:g,onRemove:L=>b({title:"Remove Team Member",description:"This member will be removed from your organization immediately.",impacts:["Member loses access to organization resources.","Role and org link will be removed.","Action can be reversed only by re-inviting."],confirmLabel:"Remove Member",loadingLabel:"Removing member...",confirmTone:"danger",onConfirm:()=>s.handleRemoveMember(L)}),onUpdateRole:s.handleUpdateRole,getInitials:s.getInitials,showMenu:c===g._id,onToggleMenu:()=>l(c===g._id?null:g._id),canManage:s.canManageTeam},g._id))}),s.canManageTeam&&s.pendingInvites.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx(Ce,{color:"from-amber-500 to-orange-500",title:"Pending Invitations"}),e.jsxs("span",{className:"text-slate-500",children:["(",s.pendingInvites.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:s.pendingInvites.map(g=>e.jsx(Hi,{invite:g,onRevoke:L=>b({title:"Revoke Pending Invite",description:"This invitation will no longer be usable by the invited user.",impacts:["Invite status is removed from pending list.","User cannot accept this invite anymore.","You can create a new invite later."],confirmLabel:"Revoke Invite",loadingLabel:"Revoking invite...",confirmTone:"danger",onConfirm:()=>s.handleRevokeInvite(L)})},g._id))})]})]}),a==="leave-requests"&&s.canManageTeam&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{color:"from-orange-500 to-red-500",title:"Leave Requests"}),e.jsxs("span",{className:"text-slate-500",children:["(",s.leaveRequests.length,")"]})]}),s.leaveRequests.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-900/30 border border-slate-800/50 rounded-xl hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500/10 border border-orange-500/20 rounded-xl flex items-center justify-center",children:e.jsx(ra,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-white",children:[g.user.firstName," ",g.user.lastName]}),e.jsx("p",{className:"text-sm text-slate-400",children:g.user.email}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Requested ",new Date(g.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>b({title:"Approve Leave Request",description:"The member will be removed from your organization.",impacts:["Member becomes individual user.","Member's avatars, leads, and properties remain unchanged.","Member gets approval email + notification.","Pending invites for that member are cleaned up."],confirmLabel:"Approve Request",loadingLabel:"Approving request...",confirmTone:"success",onConfirm:()=>s.handleApproveLeaveRequest(g._id)}),className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 rounded-lg hover:bg-emerald-500/20 transition-all text-sm font-medium",children:[e.jsx(Ke,{className:"w-4 h-4"})," Approve"]}),e.jsxs("button",{onClick:()=>b({title:"Reject Leave Request",description:"The member will remain part of your organization.",impacts:["Leave request status becomes rejected.","Member gets rejection email + notification.","Member keeps all current access."],confirmLabel:"Reject Request",loadingLabel:"Rejecting request...",confirmTone:"danger",allowReason:!0,reasonLabel:"Reject reason (optional)",reasonPlaceholder:"Why are you rejecting this leave request?",onConfirm:L=>s.handleRejectLeaveRequest(g._id,L)}),className:"flex items-center gap-2 px-4 py-2 text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/10 transition-all text-sm font-medium",children:[e.jsx(Re,{className:"w-4 h-4"})," Reject"]})]})]},g._id)),s.isOwner&&e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ce,{color:"from-amber-500 to-orange-600",title:"Account Deletion Requests"}),e.jsxs("span",{className:"text-slate-500",children:["(",s.pendingDeletionRequests.length,")"]})]}),s.pendingDeletionRequests.length===0?e.jsx("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 text-sm text-slate-400",children:"No pending account deletion requests."}):e.jsx("div",{className:"space-y-3",children:s.pendingDeletionRequests.map(g=>{var $,C,Y,M,D,E;const L=`${(($=g==null?void 0:g.requestedBy)==null?void 0:$.firstName)||((C=g==null?void 0:g.user)==null?void 0:C.firstName)||"Member"} ${((Y=g==null?void 0:g.requestedBy)==null?void 0:Y.lastName)||((M=g==null?void 0:g.user)==null?void 0:M.lastName)||""}`.trim(),Q=((D=g==null?void 0:g.requestedBy)==null?void 0:D.email)||((E=g==null?void 0:g.user)==null?void 0:E.email)||"N/A";return e.jsx("div",{className:"p-4 rounded-xl bg-slate-900/40 border border-slate-800/50",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:L}),e.jsx("p",{className:"text-slate-400 text-sm",children:Q}),(g==null?void 0:g.reason)&&e.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Reason: ",g.reason]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b({title:"Approve Account Deletion",description:`Approving will permanently delete ${L}'s account and data.`,impacts:["User account will be permanently deleted.","All user avatars/agents, leads, and properties will be removed.","This action cannot be undone."],confirmLabel:"Approve Deletion",loadingLabel:"Approving deletion...",confirmTone:"danger",onConfirm:()=>s.handleApproveDeletion(g._id)}),className:"px-3 py-2 rounded-lg bg-red-500/20 border border-red-500/30 text-red-300 hover:bg-red-500/30 text-sm font-semibold",children:"Approve"}),e.jsx("button",{onClick:()=>b({title:"Reject Account Deletion",description:`Rejecting keeps ${L} in organization with all data intact.`,impacts:["User account remains active.","Avatars, leads, and properties remain unchanged.","User will be notified that request was rejected."],confirmLabel:"Reject Request",loadingLabel:"Rejecting request...",confirmTone:"warning",allowReason:!0,reasonLabel:"Reject reason (optional)",reasonPlaceholder:"Why is this deletion request rejected?",onConfirm:_=>s.handleRejectDeletion(g._id,_)}),className:"px-3 py-2 rounded-lg bg-amber-500/20 border border-amber-500/30 text-amber-300 hover:bg-amber-500/30 text-sm font-semibold",children:"Reject"})]})]})},g._id)})})]})]}),a==="billing"&&s.isOrganizationUser&&s.billingInfo&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(Ce,{color:"from-emerald-500 to-green-500",title:"Current Subscription"}),e.jsxs("div",{className:"mt-5 bg-slate-900/30 border border-slate-800/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-3xl font-bold text-white mb-1 capitalize",children:[s.billingInfo.plan.name," Plan"]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-4xl font-bold text-white",children:["$",s.billingInfo.plan.price]}),e.jsx("span",{className:"text-slate-400",children:"/month"})]})]}),e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center",children:e.jsx(Ua,{className:"w-7 h-7 text-white"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Na,{label:"AI Agents",used:s.billingInfo.usage.agents.used,limit:s.billingInfo.usage.agents.limit,percent:s.billingInfo.usage.agents.percent,gradient:"from-blue-500 to-cyan-500"}),e.jsx(Na,{label:"Team Members",used:s.billingInfo.usage.members.used,limit:s.billingInfo.usage.members.limit,percent:s.billingInfo.usage.members.percent,gradient:"from-purple-500 to-pink-500"})]})]})]}),s.canManageBilling&&e.jsxs("div",{children:[e.jsx(Ce,{color:"from-blue-500 to-cyan-500",title:"Available Plans"}),e.jsx("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-3 gap-5",children:Object.entries(s.billingInfo.pricingTiers).map(([g,L])=>e.jsx(Yi,{planKey:g,plan:L,isCurrentPlan:s.billingInfo.plan.name===g,isEnterprise:g==="enterprise",onUpgrade:()=>s.handleUpdateSubscription(g)},g))})]})]}),a==="notifications"&&s.notificationSettings&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(Ce,{color:"from-blue-500 to-indigo-500",title:"Notification History"}),s.notifications.length>0?e.jsx("div",{className:"mt-5 space-y-3 max-h-96 overflow-y-auto",children:s.notifications.map(g=>e.jsx(Ki,{notification:g,onMarkAsRead:()=>s.handleMarkNotificationAsRead(g._id)},g._id))}):e.jsxs("div",{className:"mt-5 bg-slate-900/30 border border-slate-800/50 rounded-2xl p-12 text-center",children:[e.jsx(Vt,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 text-lg font-medium",children:"No notifications yet"}),e.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Your notifications will appear here"})]}),s.notifications.length>0&&s.unreadCount>0&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:s.handleMarkAllNotificationsAsRead,className:"px-4 py-2 bg-slate-800/50 hover:bg-slate-800 text-slate-300 hover:text-white rounded-lg text-sm font-medium transition-all",children:"Mark all as read"})})]}),e.jsxs("div",{children:[e.jsx(Ce,{color:"from-amber-500 to-orange-500",title:"Notification Preferences"}),e.jsx("div",{className:"flex gap-2 mt-5",children:[["email","Email",Ht],["push","Push",Vt],["sms","SMS",$n]].map(([g,L,Q])=>e.jsxs("button",{onClick:()=>x(g),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all ${u===g?"bg-slate-800/60 border border-slate-700/50 text-white":"text-slate-400 hover:text-slate-300"}`,children:[e.jsx(Q,{className:"w-4 h-4"}),L]},g))}),e.jsxs("div",{className:"space-y-3 mt-5",children:[u==="email"&&Object.entries(s.notificationSettings.emailNotifications).map(([g,L])=>e.jsx(Ts,{settingKey:g,value:L,onToggle:Q=>s.handleUpdateNotificationSettings("emailNotifications",{...s.notificationSettings.emailNotifications,[g]:Q})},g)),u==="push"&&Object.entries(s.notificationSettings.pushNotifications).map(([g,L])=>e.jsx(Ts,{settingKey:g,value:L,onToggle:Q=>s.handleUpdateNotificationSettings("pushNotifications",{...s.notificationSettings.pushNotifications,[g]:Q})},g)),u==="sms"&&Object.entries(s.notificationSettings.smsNotifications).map(([g,L])=>e.jsx(Ts,{settingKey:g,value:L,onToggle:Q=>s.handleUpdateNotificationSettings("smsNotifications",{...s.notificationSettings.smsNotifications,[g]:Q})},g))]})]})]}),a==="integrations"&&s.canManageIntegrations&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{color:"from-cyan-500 to-blue-500",title:"CRM & Platform Integrations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:s.integrations.map((g,L)=>e.jsx(Wi,{integration:g,onConnect:()=>{g.type==="zillow"&&s.setZillowDialogOpen(!0),g.type==="realtor"&&s.setRealtorDialogOpen(!0)},onDisconnect:()=>s.handleDisconnectIntegration(g.type),onSync:()=>s.handleSyncIntegration(g.type)},L))})]}),a==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{color:"from-red-500 to-pink-500",title:"Privacy & Security"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ls,{title:"Call Recording",description:"Record avatar voice conversations for quality assurance",defaultChecked:!0}),e.jsx(Ls,{title:"Data Retention",description:"Keep lead data for 2 years (GDPR compliant)",defaultChecked:!0}),e.jsx(Ls,{title:"Two-Factor Authentication",description:"Add an extra layer of security to your account"})]}),s.isOwner&&e.jsxs("div",{className:"pt-4",children:[e.jsx(Ce,{color:"from-amber-500 to-orange-600",title:"Account Deletion Requests"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[s.pendingDeletionRequests.length===0&&e.jsx("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 text-sm text-slate-400",children:"No pending member deletion requests."}),s.pendingDeletionRequests.map(g=>{var $,C,Y,M,D,E;const L=`${(($=g==null?void 0:g.requestedBy)==null?void 0:$.firstName)||((C=g==null?void 0:g.user)==null?void 0:C.firstName)||"Member"} ${((Y=g==null?void 0:g.requestedBy)==null?void 0:Y.lastName)||((M=g==null?void 0:g.user)==null?void 0:M.lastName)||""}`.trim(),Q=((D=g==null?void 0:g.requestedBy)==null?void 0:D.email)||((E=g==null?void 0:g.user)==null?void 0:E.email)||"N/A";return e.jsx("div",{className:"p-4 rounded-xl bg-slate-900/40 border border-slate-800/50",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:L}),e.jsx("p",{className:"text-slate-400 text-sm",children:Q}),(g==null?void 0:g.reason)&&e.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Reason: ",g.reason]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b({title:"Approve Account Deletion",description:`Approving will permanently delete ${L}'s account and data.`,impacts:["User account will be permanently deleted.","All user avatars/agents, leads, and properties will be removed.","This action cannot be undone."],confirmLabel:"Approve Deletion",loadingLabel:"Approving deletion...",confirmTone:"danger",onConfirm:()=>s.handleApproveDeletion(g._id)}),className:"px-3 py-2 rounded-lg bg-red-500/20 border border-red-500/30 text-red-300 hover:bg-red-500/30 text-sm font-semibold",children:"Approve"}),e.jsx("button",{onClick:()=>b({title:"Reject Account Deletion",description:`Rejecting keeps ${L} in organization with all data intact.`,impacts:["User account remains active.","Avatars, leads, and properties remain unchanged.","User will be notified that request was rejected."],confirmLabel:"Reject Request",loadingLabel:"Rejecting request...",confirmTone:"warning",allowReason:!0,reasonLabel:"Reject reason (optional)",reasonPlaceholder:"Why is this deletion request rejected?",onConfirm:_=>s.handleRejectDeletion(g._id,_)}),className:"px-3 py-2 rounded-lg bg-amber-500/20 border border-amber-500/30 text-amber-300 hover:bg-amber-500/30 text-sm font-semibold",children:"Reject"})]})]})},g._id)})]})]}),e.jsxs("div",{className:"pt-8",children:[e.jsx(Ce,{color:"from-red-600 to-red-800",title:"Danger Zone"}),e.jsxs("div",{className:"mt-5 space-y-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900/30 border border-slate-800/50 text-slate-300 rounded-xl hover:bg-slate-900/50 transition-all text-sm font-medium",children:[e.jsx(Ha,{className:"w-4 h-4"})," Export All Data"]}),e.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900/30 border border-slate-800/50 text-slate-300 rounded-xl hover:bg-slate-900/50 transition-all text-sm font-medium",children:[e.jsx(Fn,{className:"w-4 h-4"})," Download Compliance Report"]}),s.isOwner&&e.jsxs("button",{onClick:()=>b({title:"Delete Organization Permanently",description:"This action is irreversible and affects your full team.",impacts:["Organization record will be permanently deleted.","All members will be detached from organization.","All pending invites and leave requests will be removed."],confirmLabel:"Delete Organization",loadingLabel:"Deleting organization...",confirmTone:"danger",onConfirm:()=>s.handleDeleteOrganization()}),className:"flex items-center gap-2 px-5 py-2.5 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl hover:bg-red-500/20 transition-all text-sm font-medium",children:[e.jsx(nt,{className:"w-4 h-4"})," Delete Organization Permanently"]}),e.jsxs("button",{onClick:()=>b({title:"Start Account Deletion Flow",description:"You will proceed to account deletion steps with request/approval logic.",impacts:["You will review what happens before final submit.","For members, owner approval may be required.","You will receive status by email and notification."],confirmLabel:"Continue",loadingLabel:"Opening deletion flow...",confirmTone:"warning",onConfirm:async()=>{j(!0)}}),className:"flex items-center gap-2 px-5 py-2.5 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl hover:bg-red-500/20 transition-all text-sm font-medium",children:[e.jsx(nt,{className:"w-4 h-4"})," Delete My Account"]})]})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(null)}),e.jsx(Gi,{isOpen:o,onClose:()=>i(!1),inviteAccountId:s.inviteAccountId,setInviteAccountId:s.setInviteAccountId,inviteEmail:s.inviteEmail,setInviteEmail:s.setInviteEmail,onInvite:()=>{s.handleInviteMember(),i(!1)}}),e.jsx(Qi,{isOpen:s.zillowDialogOpen,onClose:()=>s.setZillowDialogOpen(!1),credentials:s.zillowCredentials,setCredentials:s.setZillowCredentials,onConnect:s.handleConnectZillow}),e.jsx(Zi,{isOpen:s.realtorDialogOpen,onClose:()=>s.setRealtorDialogOpen(!1),credentials:s.realtorCredentials,setCredentials:s.setRealtorCredentials,onConnect:s.handleConnectRealtor}),d&&e.jsx(Oi,{user:s.user,onClose:()=>j(!1),onSuccess:()=>{}}),e.jsx(Vi,{action:h,reason:A,onReasonChange:N,isLoading:y,onCancel:()=>{y||(N(""),b(null))},onConfirm:v})]})};function Vi({action:t,reason:s,onReasonChange:a,isLoading:r,onCancel:o,onConfirm:i}){if(!t)return null;const c=t.confirmTone||"warning",l={danger:"bg-red-500 hover:bg-red-600 text-white",warning:"bg-amber-500 hover:bg-amber-600 text-slate-950",success:"bg-emerald-500 hover:bg-emerald-600 text-white"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/65 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-slate-700/60 bg-gradient-to-br from-slate-900 to-[#0d1b34] shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700/50",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.title}),e.jsx("p",{className:"text-sm text-slate-300 mt-2 leading-relaxed",children:t.description})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-sm text-slate-200 font-semibold mb-3",children:"What will happen:"}),e.jsx("ul",{className:"space-y-2 mb-6",children:t.impacts.map(u=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-300",children:[e.jsx("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-cyan-400 shrink-0"}),e.jsx("span",{children:u})]},u))}),t.allowReason&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm text-slate-200 font-semibold mb-2",children:t.reasonLabel||"Reason (optional)"}),e.jsx("textarea",{value:s,onChange:u=>a(u.target.value),rows:3,disabled:r,placeholder:t.reasonPlaceholder||"Add reason",className:"w-full rounded-lg border border-slate-700/70 bg-slate-900/70 px-3 py-2 text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:o,disabled:r,className:"px-4 py-2.5 rounded-lg border border-slate-600/70 text-slate-200 hover:bg-slate-800/80 transition-all disabled:opacity-60",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:r,className:`px-4 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-60 flex items-center gap-2 ${l[c]}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h-4 w-4 rounded-full border-2 border-white/30 border-t-white animate-spin"}),t.loadingLabel]}):t.confirmLabel})]})]})]})})}function Ce({color:t,title:s}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1 h-6 bg-gradient-to-b ${t} rounded-full`}),e.jsx("h2",{className:"text-xl font-bold text-white",children:s})]})}function Ae({label:t,children:s}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:t}),s]})}function qi({onClick:t,label:s}){return e.jsxs("button",{onClick:t,className:"group flex items-center gap-2 px-5 py-2.5 bg-white hover:bg-slate-100 text-slate-900 rounded-full font-semibold transition-all hover:scale-105 text-sm",children:[e.jsx(Ke,{className:"w-4 h-4"}),s,e.jsx(St,{className:"w-4 h-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})}function Ui({role:t}){const s={owner:"text-purple-400 bg-purple-500/10 border-purple-500/20",admin:"text-blue-400 bg-blue-500/10 border-blue-500/20",member:"text-slate-400 bg-slate-500/10 border-slate-500/20",agent:"text-emerald-400 bg-emerald-500/10 border-emerald-500/20",individual:"text-cyan-400 bg-cyan-500/10 border-cyan-500/20"};return e.jsx("span",{className:`mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border ${s[t]||s.member}`,children:t.charAt(0).toUpperCase()+t.slice(1)})}function Na({label:t,used:s,limit:a,percent:r,gradient:o}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-slate-400 text-sm font-medium",children:t}),e.jsxs("span",{className:"text-white font-semibold text-sm",children:[s,"/",a]})]}),e.jsx("div",{className:"h-2 bg-slate-800/50 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${o} rounded-full transition-all duration-500`,style:{width:`${Math.min(r,100)}%`}})})]})}function Bi({member:t,onRemove:s,onUpdateRole:a,getInitials:r,showMenu:o,onToggleMenu:i,canManage:c}){const l={owner:"text-purple-400 bg-purple-500/10",admin:"text-blue-400 bg-blue-500/10",agent:"text-emerald-400 bg-emerald-500/10",member:"text-slate-400 bg-slate-500/10"};return e.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl p-6 hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(Xs,{className:"w-11 h-11 border-2 border-slate-700/50",children:[e.jsx(Js,{src:t.user.avatar}),e.jsx(ea,{className:"bg-gradient-to-br from-slate-700 to-slate-800 text-white font-bold text-sm",children:r(t.user.firstName,t.user.lastName)})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-semibold text-sm",children:[t.user.firstName," ",t.user.lastName]}),e.jsx("p",{className:"text-slate-500 text-xs",children:t.user.email})]})]}),c&&t.role!=="owner"&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:i,className:"p-1.5 hover:bg-slate-800/50 rounded-lg transition-all",children:e.jsx(Ya,{className:"w-4 h-4 text-slate-500"})}),o&&e.jsxs("div",{className:"absolute right-0 mt-1.5 w-44 bg-slate-800/95 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-2xl z-20 py-1.5",children:[["admin","member","agent"].map(u=>e.jsxs("button",{onClick:()=>a(t.user._id,u),className:`w-full px-3.5 py-2 text-left text-sm hover:bg-slate-700/50 flex items-center gap-2 transition-colors ${t.role===u?"text-blue-400":"text-slate-300"}`,children:[e.jsx(Ws,{className:"w-3.5 h-3.5"})," Set as ",u.charAt(0).toUpperCase()+u.slice(1)]},u)),e.jsx("div",{className:"h-px bg-slate-700/50 my-1.5"}),e.jsxs("button",{onClick:()=>s(t.user._id),className:"w-full px-3.5 py-2 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2 transition-colors",children:[e.jsx(nt,{className:"w-3.5 h-3.5"})," Remove Member"]})]})]})]}),e.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500",children:"Role"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-lg font-semibold ${l[t.role]||l.member}`,children:t.role.charAt(0).toUpperCase()+t.role.slice(1)})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500",children:"Joined"}),e.jsx("span",{className:"text-slate-300",children:new Date(t.joinedAt).toLocaleDateString()})]}),t.user.accountId&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500",children:"Account ID"}),e.jsxs("span",{className:"text-slate-300 font-mono",children:["#",t.user.accountId]})]})]})]})}function Hi({invite:t,onRevoke:s}){var a,r;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 border border-slate-800/50 rounded-xl hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-amber-500/10 border border-amber-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Ht,{className:"w-4 h-4 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white text-sm",children:t.email}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Invited by ",(a=t.invitedBy)==null?void 0:a.firstName," ",(r=t.invitedBy)==null?void 0:r.lastName,"  #",t.accountId]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2.5 py-1 bg-amber-500/10 border border-amber-500/20 rounded-lg text-xs font-semibold text-amber-400",children:"Pending"}),e.jsx("button",{onClick:()=>s(t._id),className:"px-3 py-1.5 text-xs text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/10 transition-all font-medium",children:"Revoke"})]})]})}function Yi({planKey:t,plan:s,isCurrentPlan:a,isEnterprise:r,onUpgrade:o}){return e.jsxs("div",{className:`relative bg-slate-900/30 border rounded-2xl p-6 transition-all ${a?"border-white/20 bg-slate-900/50":"border-slate-800/50 hover:border-slate-700/50"}`,children:[a&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsxs("div",{className:"px-3 py-1 bg-gradient-to-r from-emerald-500 to-green-600 rounded-full text-xs font-bold text-white flex items-center gap-1",children:[e.jsx(Ke,{className:"w-3 h-3"})," Current Plan"]})}),e.jsxs("div",{className:"text-center mb-5",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1 capitalize",children:s.name}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",s.price]}),e.jsx("span",{className:"text-slate-400 text-sm",children:"/mo"})]})]}),e.jsx("div",{className:"space-y-2 mb-5 text-sm text-slate-300",children:[`${s.agentsLimit>=1e3?"Unlimited":s.agentsLimit} AI Agents`,`${s.propertiesLimit>=1e3?"Unlimited":s.propertiesLimit} Properties`,`${s.seats>=1e3?"Unlimited":s.seats} Team Members`].map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),i]},i))}),e.jsx("button",{onClick:o,disabled:a,className:`w-full py-2.5 rounded-xl font-semibold transition-all text-sm ${a?"bg-slate-800/50 text-slate-500 cursor-not-allowed":r?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-500 hover:to-pink-500 hover:scale-105":"bg-white text-slate-900 hover:bg-slate-100 hover:scale-105"}`,children:a?"Current Plan":"Upgrade Now"})]})}function Ts({settingKey:t,value:s,onToggle:a}){const r={newLeads:"Get notified when AI agents capture new leads",propertyShowings:"Notifications for scheduled property viewings",offerUpdates:"Get alerts for new offers and negotiations",dailyPerformance:"Receive daily analytics summaries",marketTrends:"Weekly real estate market updates",systemUpdates:"Important system and feature updates",urgentAlerts:"Critical alerts requiring immediate attention",bookingReminders:"Reminders for upcoming appointments",showingReminders:"Reminders for property showings",offerDeadlines:"Alerts for offer expirations"},o=t.replace(/([A-Z])/g," $1").replace(/^./,i=>i.toUpperCase());return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 border border-slate-800/50 rounded-xl hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold text-sm",children:o}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:r[t]})]}),e.jsx(Jt,{checked:s,onCheckedChange:a})]})}function Ls({title:t,description:s,defaultChecked:a=!1}){return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 border border-slate-800/50 rounded-xl hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold text-sm",children:t}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:s})]}),e.jsx(Jt,{defaultChecked:a})]})}function Wi({integration:t,onConnect:s,onDisconnect:a,onSync:r}){const o=t.status==="connected";return e.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/50 rounded-2xl p-5 hover:border-slate-700/50 transition-all",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-800/50 border border-slate-700/50 rounded-xl flex items-center justify-center text-xl",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold text-sm",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${o?"bg-emerald-400":"bg-slate-500"}`}),e.jsx("span",{className:`text-xs font-medium ${o?"text-emerald-400":"text-slate-500"}`,children:o?"Connected":"Disconnected"})]}),t.lastSync&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Last sync: ",new Date(t.lastSync).toLocaleDateString()]})]})]}),e.jsx("div",{className:"flex gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-1.5 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-800 transition-all text-xs font-medium",children:[e.jsx(at,{className:"w-3.5 h-3.5"})," Sync"]}),e.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center gap-1.5 py-2 bg-red-500/10 text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/20 transition-all text-xs font-medium",children:[e.jsx(Re,{className:"w-3.5 h-3.5"})," Disconnect"]})]}):e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-1.5 py-2 bg-white/10 text-white border border-white/20 rounded-lg hover:bg-white/20 transition-all text-xs font-medium",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"})," Connect"]})})]})}function Gi({isOpen:t,onClose:s,inviteAccountId:a,setInviteAccountId:r,inviteEmail:o,setInviteEmail:i,onInvite:c}){return e.jsx(Zt,{open:t,onOpenChange:s,children:e.jsxs(It,{className:"bg-slate-900 border-slate-800/50 max-w-md",children:[e.jsxs(Kt,{className:"border-b border-slate-800/50 pb-4",children:[e.jsx(Xt,{className:"text-xl font-bold text-white",children:"Invite Team Member"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Send an invitation to join your team"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs(Ae,{label:"Account ID",children:[e.jsx("input",{type:"text",value:a,onChange:l=>r(l.target.value),placeholder:"12345",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"5-digit account ID"})]}),e.jsx(Ae,{label:"Email Address",children:e.jsx("input",{type:"email",value:o,onChange:l=>i(l.target.value),placeholder:"colleague@example.com",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"})})]}),e.jsxs("div",{className:"flex gap-3 border-t border-slate-800/50 pt-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-2.5 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700/30 transition-all font-semibold text-sm",children:"Cancel"}),e.jsx("button",{onClick:c,className:"flex-1 py-2.5 bg-white hover:bg-slate-100 text-slate-900 rounded-xl font-semibold transition-all text-sm",children:"Send Invitation"})]})]})})}function Qi({isOpen:t,onClose:s,credentials:a,setCredentials:r,onConnect:o}){return e.jsx(Zt,{open:t,onOpenChange:s,children:e.jsxs(It,{className:"bg-slate-900 border-slate-800/50 max-w-md",children:[e.jsxs(Kt,{className:"border-b border-slate-800/50 pb-4",children:[e.jsx(Xt,{className:"text-xl font-bold text-white",children:"Connect Zillow"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Enter your Zillow API credentials"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(Ae,{label:"ZWS ID",children:e.jsx("input",{type:"text",value:a.zwsId,onChange:i=>r(c=>({...c,zwsId:i.target.value})),placeholder:"Enter ZWS ID",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"})}),e.jsx(Ae,{label:"API Key",children:e.jsx("input",{type:"password",value:a.apiKey,onChange:i=>r(c=>({...c,apiKey:i.target.value})),placeholder:"Enter API key",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"})}),e.jsxs("div",{className:"pt-2 border-t border-slate-800/50 space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-200",children:"Sync Settings"}),[["syncProperties","Sync Properties"],["syncLeads","Sync Leads"]].map(([i,c])=>{var l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[e.jsx("span",{className:"text-sm text-slate-200",children:c}),e.jsx(Jt,{checked:(l=a.settings)==null?void 0:l[i],onCheckedChange:u=>r(x=>({...x,settings:{...x.settings,[i]:u}}))})]},i)})]})]}),e.jsxs("div",{className:"flex gap-3 border-t border-slate-800/50 pt-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-2.5 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700/30 transition-all font-semibold text-sm",children:"Cancel"}),e.jsx("button",{onClick:o,className:"flex-1 py-2.5 bg-white hover:bg-slate-100 text-slate-900 rounded-xl font-semibold transition-all text-sm",children:"Connect Zillow"})]})]})})}function Zi({isOpen:t,onClose:s,credentials:a,setCredentials:r,onConnect:o}){return e.jsx(Zt,{open:t,onOpenChange:s,children:e.jsxs(It,{className:"bg-slate-900 border-slate-800/50 max-w-md",children:[e.jsxs(Kt,{className:"border-b border-slate-800/50 pb-4",children:[e.jsx(Xt,{className:"text-xl font-bold text-white",children:"Connect Realtor.com"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Enter your Realtor.com API credentials"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(Ae,{label:"API Key",children:e.jsx("input",{type:"text",value:a.apiKey,onChange:i=>r(c=>({...c,apiKey:i.target.value})),placeholder:"Enter API key",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"})}),e.jsx(Ae,{label:"API Secret",children:e.jsx("input",{type:"password",value:a.secret,onChange:i=>r(c=>({...c,secret:i.target.value})),placeholder:"Enter API secret",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-700/60 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"})}),e.jsxs("div",{className:"pt-2 border-t border-slate-800/50 space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-200",children:"Sync Settings"}),[["syncProperties","Sync Listings"],["autoImport","Auto Import"]].map(([i,c])=>{var l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[e.jsx("span",{className:"text-sm text-slate-200",children:c}),e.jsx(Jt,{checked:(l=a.settings)==null?void 0:l[i],onCheckedChange:u=>r(x=>({...x,settings:{...x.settings,[i]:u}}))})]},i)})]})]}),e.jsxs("div",{className:"flex gap-3 border-t border-slate-800/50 pt-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-2.5 border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700/30 transition-all font-semibold text-sm",children:"Cancel"}),e.jsx("button",{onClick:o,className:"flex-1 py-2.5 bg-white hover:bg-slate-100 text-slate-900 rounded-xl font-semibold transition-all text-sm",children:"Connect Realtor.com"})]})]})})}function Ki({notification:t,onMarkAsRead:s}){const a=l=>{switch(l){case"leave_requested":return{icon:is,color:"text-orange-400",bg:"bg-orange-500/10"};case"leave_approved":return{icon:Ke,color:"text-green-400",bg:"bg-green-500/10"};case"leave_rejected":return{icon:Re,color:"text-red-400",bg:"bg-red-500/10"};case"invite_accepted":return{icon:hr,color:"text-emerald-400",bg:"bg-emerald-500/10"};case"invite_sent":return{icon:Ht,color:"text-blue-400",bg:"bg-blue-500/10"};default:return{icon:Vt,color:"text-slate-400",bg:"bg-slate-500/10"}}},{icon:r,color:o,bg:i}=a(t.type),c=Xi(t.createdAt);return e.jsx("div",{onClick:()=>!t.read&&s(),className:`p-4 rounded-xl border transition-all cursor-pointer ${t.read?"bg-slate-900/20 border-slate-800/30":"bg-slate-900/40 border-slate-700/50 hover:border-slate-600/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 ${i} border ${o.replace("text-","border-")}/30 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5`,children:e.jsx(r,{className:`w-5 h-5 ${o}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-white text-sm leading-tight",children:t.title}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:t.message}),e.jsx("p",{className:"text-slate-500 text-xs mt-2",children:c})]}),!t.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})})}function Xi(t){const s=new Date,a=new Date(t),r=Math.floor((s.getTime()-a.getTime())/1e3);if(r<60)return"just now";const o=Math.floor(r/60);if(o<60)return`${o}m ago`;const i=Math.floor(o/60);if(i<24)return`${i}h ago`;const c=Math.floor(i/24);if(c<7)return`${c}d ago`;const l=Math.floor(c/7);return l<4?`${l}w ago`:a.toLocaleDateString()}const Ji="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Yr(t){const[s,a]=n.useState(!1),r=()=>{a(!0)},{src:o,alt:i,style:c,className:l,...u}=t;return s?e.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:c,children:e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("img",{src:Ji,alt:"Error loading image",...u,"data-original-url":o})})}):e.jsx("img",{src:o,alt:i,className:l,style:c,...u,onError:r})}const ec=()=>{const[t,s]=n.useState(!1),[a,r]=n.useState({email:"",password:"",rememberMe:!1}),[o,i]=n.useState(!1),[c,l]=n.useState(null),u=lt(),{login:x}=xt();return{formData:a,showPassword:t,handleSubmit:async b=>{b.preventDefault(),i(!0),l(null);try{await x(a.email,a.password),setTimeout(()=>{u("/dashboard")},500)}catch(y){console.error("Login error:",y),y instanceof Error?l(y.message):l("Login failed. Please try again."),i(!1)}},handleChange:b=>{const{name:y,type:w,checked:A,value:N}=b.target;r({...a,[y]:w==="checkbox"?A:N})},togglePasswordVisibility:()=>{s(!t)},navigateToSignup:()=>{u("/signup")},isLoading:o,error:c,features:[{icon:"",label:"Avatar Creation",value:"Unlimited",description:"Create as many AI agents as you need"},{icon:"",label:"Lead Capture",value:"24/7",description:"Never miss a potential client"},{icon:"",label:"CRM Integration",value:"All Major",description:"Seamless connection to your tools"},{icon:"",label:"Analytics",value:"Real-time",description:"Track performance instantly"},{icon:"",label:"Commission",value:"1% Auto-calc",description:"Automatic commission tracking"}]}},tc=()=>{const{formData:t,showPassword:s,handleSubmit:a,handleChange:r,togglePasswordVisibility:o,navigateToSignup:i,features:c}=ec();return e.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx(Yr,{src:"https://images.unsplash.com/photo-1557683316-973673baf926?w=1920&q=80",alt:"Background",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/80 via-black/90 to-blue-950/80"})]}),e.jsx("div",{className:"relative z-20 flex min-h-screen items-center justify-center p-4 sm:p-6 lg:p-8",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"rounded-3xl border border-white/20 bg-white/10 p-8 shadow-2xl backdrop-blur-2xl",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:"Sign In"}),e.jsx("p",{className:"text-base text-gray-300",children:"Access your AI agent dashboard"})]}),e.jsxs("form",{onSubmit:a,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-gray-200",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:r,placeholder:"agent@realestate.ai",className:"w-full rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-gray-400 backdrop-blur-sm transition focus:border-white/30 focus:bg-white/15 focus:outline-none focus:ring-2 focus:ring-white/20",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-gray-200",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:s?"text":"password",id:"password",name:"password",value:t.password,onChange:r,placeholder:"Enter your password",className:"w-full rounded-xl border border-white/20 bg-white/10 px-4 py-3 pr-12 text-white placeholder-gray-400 backdrop-blur-sm transition focus:border-white/30 focus:bg-white/15 focus:outline-none focus:ring-2 focus:ring-white/20",required:!0}),e.jsx("button",{type:"button",onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 transition hover:text-white focus:outline-none",children:s?e.jsx(gr,{className:"h-5 w-5"}):e.jsx(Qt,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:t.rememberMe,onChange:r,className:"h-4 w-4 cursor-pointer rounded border-white/30 bg-white/10 text-white focus:ring-2 focus:ring-white/30 focus:ring-offset-0"}),e.jsx("label",{htmlFor:"rememberMe",className:"cursor-pointer text-sm text-gray-300",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-sm text-gray-300 transition hover:text-white",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",className:"mt-6 w-full rounded-xl bg-white/90 px-6 py-3 font-semibold text-black shadow-lg transition hover:bg-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-black",children:"Sign In"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400",children:["Don't have an account?"," ",e.jsx("button",{onClick:i,className:"font-semibold text-white transition hover:text-gray-200",children:"Sign up for free"})]})]})})})]})},sc=()=>{const[t,s]=n.useState(!1),[a,r]=n.useState({firstName:"",lastName:"",email:"",companyName:"",phoneNumber:"",accountType:"",password:""}),[o,i]=n.useState(!1),[c,l]=n.useState(null),u=lt(),{signup:x}=xt();return{formData:a,showPassword:t,handleSubmit:async b=>{b.preventDefault(),i(!0),l(null);try{const y=a.accountType==="individual"||a.accountType==="organization"?a.accountType:"individual",w={firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password,phoneNumber:a.phoneNumber,accountType:y,company:a.accountType==="organization"?a.companyName:void 0};await x(w),setTimeout(()=>{u("/dashboard")},500)}catch(y){console.error("Signup error:",y),y instanceof Error?l(y.message):l("Signup failed. Please try again."),i(!1)}},handleChange:b=>{r({...a,[b.target.name]:b.target.value})},togglePasswordVisibility:()=>{s(!t)},navigateToLogin:()=>{u("/login")},isLoading:o,error:c,features:[{icon:"",label:"Avatar Creation",value:"Unlimited",description:"Create as many AI agents as you need"},{icon:"",label:"Lead Capture",value:"24/7",description:"Never miss a potential client"},{icon:"",label:"CRM Integration",value:"All Major",description:"Seamless connection to your tools"},{icon:"",label:"Analytics",value:"Real-time",description:"Track performance instantly"},{icon:"",label:"Commission",value:"1% Auto-calc",description:"Automatic commission tracking"}]}},ac=()=>{const{formData:t,showPassword:s,handleSubmit:a,handleChange:r,togglePasswordVisibility:o,navigateToLogin:i,features:c}=sc();return e.jsxs("div",{className:"min-h-screen w-full relative flex items-center justify-center p-4 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx(Yr,{src:"https://images.unsplash.com/photo-1557683316-973673baf926?w=1920&q=80",alt:"Background",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/80 via-black/90 to-blue-950/80"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md mt-10",children:e.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl shadow-2xl border border-white/20 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Fill in your details to get started"})]}),e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-white/90 text-sm mb-2",children:"First Name"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all",placeholder:"John",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-white/90 text-sm mb-2",children:"Last Name"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all",placeholder:"Doe",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-white/90 text-sm mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all",placeholder:"john.doe@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"accountType",className:"block text-white/90 text-sm mb-2",children:"Account Type"}),e.jsxs("select",{id:"accountType",name:"accountType",value:t.accountType,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/40 transition-all appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5rem"},required:!0,children:[e.jsx("option",{value:"",disabled:!0,className:"bg-gray-800",children:"Select account type"}),e.jsx("option",{value:"individual",className:"bg-gray-800",children:"Individual"}),e.jsx("option",{value:"organization",className:"bg-gray-800",children:"Organization"})]})]}),t.accountType==="organization"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"companyName",className:"block text-white/90 text-sm mb-2",children:"Company Name"}),e.jsx("input",{type:"text",id:"companyName",name:"companyName",value:t.companyName,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all",placeholder:"Your Company",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phoneNumber",className:"block text-white/90 text-sm mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:t.phoneNumber,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all",placeholder:"+1 (555) 123-4567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-white/90 text-sm mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:s?"text":"password",id:"password",name:"password",value:t.password,onChange:r,className:"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all pr-12",placeholder:"",required:!0}),e.jsx("button",{type:"button",onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/70 hover:text-white transition-colors",children:s?e.jsx(gr,{size:20}):e.jsx(Qt,{size:20})})]})]}),e.jsx("button",{type:"submit",className:"w-full mt-6 px-6 py-3 bg-white text-purple-600 rounded-xl font-semibold hover:bg-white/90 focus:outline-none focus:ring-2 focus:ring-white/40 transition-all shadow-lg",children:"Start Free Trial"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-white/80 text-sm",children:["Already have an account?"," ",e.jsx("button",{onClick:i,className:"text-white font-semibold hover:underline transition-all",children:"Sign In"})]})})]})})]})},rc=()=>{const t=mt();return n.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},nc=()=>e.jsxs("div",{className:"inline-flex items-center gap-1 rounded-2xl bg-white px-3 py-2 shadow-sm border border-slate-200",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-400 animate-bounce [animation-delay:-0.3s]"}),e.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-400 animate-bounce [animation-delay:-0.15s]"}),e.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-400 animate-bounce"})]}),lc=()=>{const{id:t}=On(),s=n.useRef(null),[a,r]=n.useState(null),[o,i]=n.useState([]),[c,l]=n.useState(""),[u,x]=n.useState(!0),[m,f]=n.useState(!1),[d,j]=n.useState(!1),[h,b]=n.useState(""),[y,w]=n.useState(null),A=n.useMemo(()=>{const v=[...o].reverse().find(S=>S.sender==="agent"&&Array.isArray(S.propertyCards)&&S.propertyCards.length>0);return(v==null?void 0:v.propertyCards)||[]},[o]);n.useEffect(()=>{var v;(v=s.current)==null||v.scrollIntoView({behavior:"smooth"})},[o,d]),n.useEffect(()=>{if(!t)return;let v=!0;return(async()=>{try{x(!0),w(null);const[P,B]=await Promise.all([qe.getPublicAgent(t),qe.getAgentChatHistory(t)]);if(!v)return;r(P),i(B||[])}catch(P){if(!v)return;w(P instanceof Error?P.message:"Failed to load chat")}finally{v&&x(!1)}})(),()=>{v=!1}},[t]);const N=async v=>{if(v.preventDefault(),!t||!c.trim()||m)return;const S=c.trim();l(""),f(!0),j(!0),b(""),w(null),i(P=>[...P,{sender:"user",text:S,timestamp:new Date().toISOString()}]);try{const P=await qe.streamChatWithAgent(t,S,B=>{B.type==="chunk"&&b(G=>`${G}${B.content||""}`)});i(P.history||[]),b("")}catch(P){w(P instanceof Error?P.message:"Message failed");try{const B=await qe.chatWithAgent(t,S);i(B.history||[])}catch{}}finally{f(!1),j(!1)}};return u?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading chat..."})}):!t||!a?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Agent unavailable"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Please check the QR link and try again."})]})}):e.jsx("div",{className:"min-h-screen bg-slate-100 py-4 px-3 sm:px-6",children:e.jsxs("div",{className:"mx-auto max-w-5xl grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("section",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("header",{className:"px-4 py-3 border-b border-slate-200 flex items-center gap-3",children:[e.jsx("img",{src:a.avatarUrl||Er(a),alt:a.name,loading:"eager",decoding:"sync",fetchPriority:"high",className:"h-10 w-10 rounded-full object-cover bg-slate-200"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-semibold text-slate-900",children:a.name}),e.jsx("p",{className:"text-xs text-slate-500",children:"AI Property Consultant"})]})]}),e.jsxs("div",{className:"h-[62vh] overflow-y-auto p-4 space-y-3",children:[o.map((v,S)=>{const P=v.sender==="user";return e.jsx("div",{className:`flex ${P?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-2 text-sm whitespace-pre-wrap ${P?"bg-blue-600 text-white":"bg-slate-100 border border-slate-200 text-slate-800"}`,children:v.text})},`${v.timestamp||S}-${S}`)}),d&&e.jsx("div",{className:"flex justify-start",children:h?e.jsx("div",{className:"max-w-[85%] rounded-2xl px-4 py-2 text-sm whitespace-pre-wrap bg-slate-100 border border-slate-200 text-slate-800",children:h}):e.jsx(nc,{})}),e.jsx("div",{ref:s})]}),e.jsxs("form",{onSubmit:N,className:"border-t border-slate-200 p-3 flex gap-2",children:[e.jsx("input",{value:c,onChange:v=>l(v.target.value),placeholder:"Type your property requirement...",className:"flex-1 rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:m,maxLength:500}),e.jsx("button",{type:"submit",disabled:m||!c.trim(),className:"rounded-xl bg-blue-600 px-4 py-2 text-white text-sm font-medium disabled:opacity-50",children:m?"Sending...":"Send"})]}),y&&e.jsx("p",{className:"px-4 pb-3 text-sm text-red-600",children:y})]}),e.jsxs("aside",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4",children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Recommended Properties"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Matches update live from your conversation."}),e.jsxs("div",{className:"space-y-3 max-h-[62vh] overflow-y-auto pr-1",children:[A.length===0&&e.jsx("p",{className:"text-sm text-slate-500",children:"Start chatting to see matched properties."}),A.map((v,S)=>e.jsxs("article",{className:"rounded-xl border border-slate-200 p-3",children:[v.image&&e.jsx("img",{src:v.image,alt:v.title||"Property",loading:"lazy",decoding:"async",fetchPriority:"low",className:"h-28 w-full rounded-lg object-cover mb-2 bg-slate-100"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:v.title||"Property"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:v.location||"Location unavailable"}),e.jsxs("p",{className:"text-sm font-medium text-blue-700 mt-1",children:["Rs ",Number(v.price||0).toLocaleString("en-IN")]})]},`${v.id||S}-${S}`))]})]})]})})},oc="https://api.estate.techtrekkers.ai/api",ic=()=>{const[t,s]=n.useState(""),[a,r]=n.useState(""),[o,i]=n.useState(""),[c,l]=n.useState(""),[u,x]=n.useState(!1),m=lt(),f=mt(),j=new URLSearchParams(f.search).get("token");n.useEffect(()=>{j||l("Invalid or missing invite token.")},[j]);const h=async b=>{var y,w;if(b.preventDefault(),!!j){x(!0),l("");try{const A=await $s.post(`${oc}/auth/invite/accept`,{token:j,firstName:t,lastName:a,password:o});localStorage.setItem("accessToken",A.data.accessToken),l("Invite accepted! Redirecting to dashboard..."),setTimeout(()=>m("/dashboard"),1500)}catch(A){console.error(A),$s.isAxiosError(A)?l(((w=(y=A.response)==null?void 0:y.data)==null?void 0:w.message)||"Failed to accept invite"):l("An unexpected error occurred")}finally{x(!1)}}};return e.jsxs("div",{style:Ms.container,children:[e.jsx("h2",{children:"Accept Invitation"}),j?e.jsxs("form",{onSubmit:h,style:Ms.form,children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:t,onChange:b=>s(b.target.value),required:!0}),e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:a,onChange:b=>r(b.target.value),required:!0}),e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:o,onChange:b=>i(b.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:u,children:u?"Submitting...":"Accept Invite"}),c&&e.jsx("p",{style:Ms.message,children:c})]}):e.jsx("p",{children:c})]})},Ms={container:{width:"400px",margin:"80px auto",background:"#121212",color:"#fff",padding:"30px",borderRadius:"12px",boxShadow:"0 0 10px rgba(0,0,0,0.3)"},form:{display:"flex",flexDirection:"column",gap:"10px"},message:{marginTop:"10px",color:"#00e676"}};function cc(t){if(!t)return"now";const s=new Date(t),r=Math.floor((new Date().getTime()-s.getTime())/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)} min ago`:r<86400?`${Math.floor(r/3600)} hr ago`:r<604800?`${Math.floor(r/86400)} days ago`:s.toLocaleDateString()}function dc(t){return t&&{lead:na,visit:la,chat:ms,deal:_n,property:za,call:la}[t]||na}function uc(t){return t&&{lead:"cyan",visit:"blue",chat:"purple",deal:"green",property:"blue",call:"cyan"}[t]||"cyan"}function mc(t){return t?t.split(" ").map(s=>s.charAt(0).toUpperCase()).slice(0,2).join(""):"AG"}function xc(t){if(!t)return 0;const s=Number(t.conversionRate);if(Number.isFinite(s))return s>=60?12:s>=35?6:s>=15?2:-2;if(!t.totalLeads||!t.closedLeads)return 0;const a=t.closedLeads/t.totalLeads*100;return a>=60?12:a>=35?6:a>=15?2:-2}function rs(t){const s=typeof t=="string"?Number(t):t;return s===void 0||!Number.isFinite(s)?"0":s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}K`:String(s)}const pc=async()=>{var t,s;try{const a=await F.get("/dashboard/overview");return(t=a.data)!=null&&t.success&&((s=a.data)!=null&&s.data)?a.data.data:{summary:{totalLeads:0,totalProperties:0,totalVisits:0,totalChats:0,totalRevenue:0,conversionRate:0},leadsBreakdown:{byStatus:{},byQuality:{},total:0},myAgents:[],recentActivities:[]}}catch(a){throw console.error("Error fetching dashboard data:",a),a}},hc=async(t=30)=>{var s,a;try{const r=await F.get(`/dashboard/trends/leads?days=${t}`);return(s=r.data)!=null&&s.success&&((a=r.data)!=null&&a.data)?r.data.data.map(o=>({date:o.date,total:o.total,closed:o.closed,interested:o.interested,new:o.new,newLeads:o.total-o.closed})):[]}catch(r){return console.error("Error fetching leads trend:",r),[]}},gc=async(t=5)=>{var s,a;try{const r=await F.get(`/dashboard/top-agents?limit=${t}`);return(s=r.data)!=null&&s.success&&((a=r.data)!=null&&a.data)?r.data.data.map(o=>({id:o.id,name:o.name,conversions:o.closedLeads||0,revenue:o.revenue||0,avatar:mc(o.name),trend:xc(o),status:o.status,totalLeads:o.totalLeads,closedLeads:o.closedLeads,conversionRate:o.conversionRate,visits:o.visits,revenueFormatted:o.revenueFormatted})):[]}catch(r){return console.error("Error fetching top agents:",r),[]}},Es={getDashboardData:pc,getLeadsTrend:hc,getTopAgents:gc},bc=()=>{const[t,s]=n.useState({userName:"User",greeting:"Here's your real estate performance overview",currentDate:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),updatedStatus:"Updating..."}),[a,r]=n.useState([]),[o,i]=n.useState([]),[c,l]=n.useState({totalVisits:0,qualifiedLeads:0,closedDeals:0,conversionRate:0}),[u,x]=n.useState([]),[m,f]=n.useState([]),[d,j]=n.useState(!0),[h,b]=n.useState(null),y=n.useCallback(A=>A?[{label:"Total Leads",value:rs(A.totalLeads||0),iconColor:"cyan"},{label:"Properties Listed",value:rs(A.totalProperties||0),iconColor:"blue"},{label:"Scheduled Visits",value:rs(A.totalVisits||0),iconColor:"purple"},{label:"Conversations",value:rs(A.totalChats||0),iconColor:"green"},{label:"Conversion Rate",value:`${Number(A.conversionRate||0).toFixed(1)}%`,iconColor:"emerald"}]:[],[]),w=n.useCallback(async()=>{var A;try{j(!0),b(null);const[N,v,S]=await Promise.allSettled([Es.getDashboardData(),Es.getLeadsTrend(30),Es.getTopAgents(5)]),P=N.status==="fulfilled"?N.value:null,B=v.status==="fulfilled"?v.value:[],G=S.status==="fulfilled"?S.value:[];if(P){if(P.userInfo){const L=((A=P.userInfo.name)==null?void 0:A.split(" ")[0])||"User";s({userName:L.charAt(0).toUpperCase()+L.slice(1),greeting:"Here's your real estate performance overview",currentDate:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),updatedStatus:"Updated just now"})}if(P.summary){const L=y(P.summary);r(L)}else r([]);const g=P.summary;l(g?{totalVisits:g.totalVisits||0,qualifiedLeads:g.totalLeads||0,closedDeals:g.closedLeads||0,conversionRate:Number(g.conversionRate||0)}:{totalVisits:0,qualifiedLeads:0,closedDeals:0,conversionRate:0}),Array.isArray(P.recentActivities)?x(P.recentActivities.map(L=>({...L,time:cc(L.createdAt||new Date().toISOString()),icon:dc(L.type),color:uc(L.type)}))):x([])}else r([]),i([]),f([]),x([]);if(Array.isArray(B)?i(B):i([]),Array.isArray(G)&&G.length>0?f(G):Array.isArray(P==null?void 0:P.myAgents)?f(P.myAgents):f([]),N.status==="rejected"&&v.status==="rejected"&&S.status==="rejected")throw new Error("All dashboard data requests failed");j(!1)}catch(N){console.error("Error fetching dashboard data:",N),b(N instanceof Error?N:new Error("Failed to fetch dashboard data")),j(!1)}},[y]);return n.useEffect(()=>{w()},[w]),n.useMemo(()=>({headerInfo:t,kpiMetrics:a,leadsData:o,conversionData:c,recentActivities:u,topAgents:m,loading:d,error:h,refreshDashboard:w}),[t,a,o,c,u,m,d,h,w])},fc=()=>{const{headerInfo:t,kpiMetrics:s,leadsData:a,conversionData:r,recentActivities:o,topAgents:i,loading:c,error:l,refreshDashboard:u}=bc(),x=r.totalVisits>0?r.totalVisits:1,m=Math.min(Math.max(r.closedDeals/x*502,0),502);return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] p-10 text-white",children:e.jsx("p",{className:"text-xl",children:"Loading dashboard data..."})}):l?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] p-10 text-red-400",children:[e.jsxs("p",{className:"text-xl mb-4",children:["Error loading dashboard: ",l.message]}),e.jsx("p",{className:"text-md text-slate-400 mb-5",children:"Please try again later or contact support."}),e.jsx("button",{type:"button",onClick:()=>void u(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold transition-colors",children:"Retry"})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0f1e3a] to-[#0a1628] p-10",children:e.jsxs("div",{className:"max-w-[1920px] mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white mb-1",children:["Welcome back, ",t.userName]}),e.jsx("p",{className:"text-slate-400",children:t.greeting})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-cyan-400 text-sm font-medium",children:t.currentDate}),e.jsx("div",{className:"text-slate-500 text-xs",children:t.updatedStatus})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:s.map(f=>e.jsx(yc,{icon:f.icon,label:f.label,value:f.value,change:f.change,trend:f.trend,iconColor:f.iconColor||"cyan"},f.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-gradient-to-br from-[#0d1b2a] to-[#162335] rounded-xl border border-cyan-500/10 p-6 shadow-xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Leads Trend (30 Days)"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Daily new leads vs closed"})]}),e.jsx(Qn,{width:"100%",height:300,children:e.jsxs(Zn,{data:a,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"newLeadsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx(Kn,{strokeDasharray:"3 3",stroke:"#1e3a5f",opacity:.3}),e.jsx(Xn,{dataKey:"date",stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(Jn,{stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(el,{contentStyle:{backgroundColor:"#0d1b2a",border:"1px solid #06b6d4",borderRadius:"8px",color:"#fff"}}),e.jsx(tl,{wrapperStyle:{color:"#94a3b8"},iconType:"circle"}),e.jsx(oa,{type:"monotone",dataKey:"newLeads",stroke:"#06b6d4",strokeWidth:3,name:"New Leads",dot:{fill:"#06b6d4",r:4},activeDot:{r:6,fill:"#06b6d4"},fill:"url(#newLeadsGradient)"}),e.jsx(oa,{type:"monotone",dataKey:"closed",stroke:"#10b981",strokeWidth:3,name:"Closed Deals",dot:{fill:"#10b981",r:4},activeDot:{r:6,fill:"#10b981"},fill:"url(#closedGradient)"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#0d1b2a] to-[#162335] rounded-xl border border-cyan-500/10 p-6 shadow-xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Visit to Conversion"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"How many visits turn into deals"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:"200",height:"200",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#1e3a5f",strokeWidth:"16"}),e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"url(#conversionGradient)",strokeWidth:"16",strokeDasharray:`${m} 502`,strokeLinecap:"round",className:"drop-shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"conversionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),e.jsx("stop",{offset:"50%",stopColor:"#3b82f6"}),e.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"text-4xl font-bold text-white",children:[r.conversionRate,"%"]}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Conversion"})]})]}),e.jsxs("div",{className:"mt-6 space-y-3 w-full",children:[e.jsx(Ps,{label:"Total Visits",value:String(r.totalVisits),color:"blue"}),e.jsx(Ps,{label:"Qualified Leads",value:String(r.qualifiedLeads),color:"cyan"}),e.jsx(Ps,{label:"Closed Deals",value:String(r.closedDeals),color:"green"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#0d1b2a] to-[#162335] rounded-xl border border-cyan-500/10 p-6 shadow-xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Recent Activity"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Latest leads, visits & chats"})]}),o.length===0?e.jsx("div",{className:"text-slate-400 text-sm py-6 text-center border border-slate-700/30 rounded-lg",children:"No recent activity yet."}):e.jsx("div",{className:"space-y-3",children:o.map(f=>e.jsx(wc,{activity:f},f.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#0d1b2a] to-[#162335] rounded-xl border border-cyan-500/10 p-6 shadow-xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Top Agents"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"By conversions & revenue"})]}),i.length===0?e.jsx("div",{className:"text-slate-400 text-sm py-6 text-center border border-slate-700/30 rounded-lg",children:"No agents available yet."}):e.jsx("div",{className:"space-y-4",children:i.map((f,d)=>e.jsx(jc,{agent:f,rank:d+1},f.id))})]})]})]})})},vc={cyan:{bg:"from-cyan-500/20 to-cyan-600/10",icon:"text-cyan-400",glow:"shadow-cyan-500/20"},blue:{bg:"from-blue-500/20 to-blue-600/10",icon:"text-blue-400",glow:"shadow-blue-500/20"},purple:{bg:"from-purple-500/20 to-purple-600/10",icon:"text-purple-400",glow:"shadow-purple-500/20"},green:{bg:"from-green-500/20 to-green-600/10",icon:"text-green-400",glow:"shadow-green-500/20"},emerald:{bg:"from-emerald-500/20 to-emerald-600/10",icon:"text-emerald-400",glow:"shadow-emerald-500/20"}};function yc({icon:t,label:s,value:a,change:r="",trend:o="up",iconColor:i}){const c=vc[i];return e.jsxs("div",{className:`bg-gradient-to-br from-[#0d1b2a] to-[#162335] rounded-xl border border-cyan-500/10 p-5 shadow-xl hover:shadow-2xl ${c.glow} transition-all`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${c.bg} flex items-center justify-center`,children:t&&e.jsx(t,{className:`w-5 h-5 ${c.icon}`})}),r&&e.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${o==="up"?"text-green-400":"text-red-400"}`,children:[o==="up"?e.jsx(cs,{className:"w-3 h-3"}):e.jsx(br,{className:"w-3 h-3"}),r]})]}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:a}),e.jsx("div",{className:"text-slate-400 text-sm",children:s})]})}function wc({activity:t}){const s={cyan:"bg-cyan-500/10 text-cyan-400",blue:"bg-blue-500/10 text-blue-400",purple:"bg-purple-500/10 text-purple-400",green:"bg-green-500/10 text-green-400"},a=t.icon,r=t.color?s[t.color]:"bg-cyan-500/10 text-cyan-400";return e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-slate-800/30 hover:bg-slate-800/50 transition-colors border border-slate-700/30",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${r} flex items-center justify-center flex-shrink-0`,children:a&&e.jsx(a,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-white text-sm font-medium truncate",children:t.title}),e.jsxs("div",{className:"text-slate-400 text-xs flex items-center gap-1",children:[e.jsx(Vn,{className:"w-3 h-3"}),t.time]})]})]})}function jc({agent:t,rank:s}){const r=Math.min(Math.max(t.conversions/48*100,0),100),o=t.trend??0,i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(t.revenue||0);return e.jsx("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/30 hover:bg-slate-800/50 transition-all border border-slate-700/30",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:t.avatar}),s===1&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(qn,{className:"w-3 h-3 text-yellow-900"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-white font-medium",children:t.name}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${o>0?"text-green-400":"text-red-400"}`,children:[o>0?e.jsx(cs,{className:"w-3 h-3"}):e.jsx(br,{className:"w-3 h-3"}),Math.abs(o),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"w-3 h-3"}),t.conversions," deals"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dr,{className:"w-3 h-3"}),i]})]}),e.jsx("div",{className:"mt-2 h-1.5 bg-slate-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full",style:{width:`${r}%`}})})]})]})})}function Ps({label:t,value:s,color:a}){const r={blue:"bg-blue-500",cyan:"bg-cyan-500",green:"bg-green-500"};return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30 border border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r[a]}`}),e.jsx("span",{className:"text-slate-300 text-sm",children:t})]}),e.jsx("span",{className:"text-white font-semibold",children:s})]})}const Nc=new Bn;function kc(){const{pathname:t}=mt();return n.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const Sc=()=>e.jsx(Hn,{client:Nc,children:e.jsx(Ro,{children:e.jsxs(yo,{children:[e.jsx(Ul,{}),e.jsx(vo,{}),e.jsxs(Yn,{children:[e.jsx(kc,{}),e.jsxs(Wn,{children:[e.jsx(je,{path:"/",element:e.jsx(Bo,{})}),e.jsx(je,{path:"/pricing",element:e.jsxs(e.Fragment,{children:[e.jsx(Mr,{}),e.jsx(os,{})]})}),e.jsx(je,{path:"/login",element:e.jsxs(e.Fragment,{children:[e.jsx(Vs,{}),e.jsx(tc,{}),e.jsx(os,{})]})}),e.jsx(je,{path:"/signup",element:e.jsxs(e.Fragment,{children:[e.jsx(Vs,{}),e.jsx(ac,{}),e.jsx(os,{})]})}),e.jsx(je,{path:"/accept-invite",element:e.jsx(ic,{})}),e.jsx(je,{path:"/agent/:id",element:e.jsx(lc,{})}),e.jsx(je,{element:e.jsx(ha,{}),children:e.jsxs(je,{element:e.jsx(Eo,{}),children:[e.jsx(je,{path:"/dashboard",element:e.jsx(fc,{})}),e.jsx(je,{path:"/avatars",element:e.jsx(ei,{})}),e.jsx(je,{path:"/properties",element:e.jsx(fi,{})}),e.jsx(je,{path:"/visits",element:e.jsx(Si,{})}),e.jsx(je,{element:e.jsx(ha,{allowedRoles:["owner","admin","member","agent","individual"]}),children:e.jsx(je,{path:"/leads",element:e.jsx(Ei,{})})}),e.jsx(je,{path:"/analytics",element:e.jsx(Di,{})}),e.jsx(je,{path:"/settings",element:e.jsx(_i,{})})]})}),e.jsx(je,{path:"*",element:e.jsx(rc,{})})]})]})]})})});Gn(document.getElementById("root")).render(e.jsx(Sc,{}));
